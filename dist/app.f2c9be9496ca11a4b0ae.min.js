webpackJsonp([0],{"+8X+":function(e,t,i){"use strict";function n(){return{template:['<div class="">','\t<ul class="nav nav-tabs">','\t\t<li ng-repeat="pane in panes" class="tab-pane"><p class="ittTabLabel" ng-class="{cur:pane.selected}" ng-click="select(pane)">{{pane.title}}</p></li>',"\t</ul>",'\t<div class="tab-content"><ng-transclude></ng-transclude></div>',"</div>"].join(""),transclude:!0,restrict:"EA",scope:{},controller:["$scope",function(e){function t(e){angular.forEach(i,function(e){e.selected=!1}),e.selected=!0}var i=e.panes=[];e.select=t,this.addPane=function(e){0===i.length&&t(e),i.push(e)}}]}}t.a=n},"+T8Q":function(e,t,i){"use strict";function n(e,t,i,n,a,o,r){function s(e,t){return t.forEach(function(t){t.subDomain=e.domains[0],f.cache("narrative",t)}),e.narratives=l(e),f.cache("customer",e),e}function l(e){return Object.keys(f.narratives).reduce(function(t,i){return f.narratives[i].customer_id===e._id&&t.push(f.narratives[i]),t},[])}function c(){return Object.keys(f.customers).map(function(e){return f.customers[e]})}function d(){return Object.keys(f.narratives).map(function(e){return f.narratives[e]})}function m(e){return e.sort(function(e,t){return e.start_time===t.start_time?"chapter"===e.producerItemType?-1:"chapter"===t.producerItemType?1:e.chapter_marker===!0?-1:t.chapter_marker===!0?1:"templates/item/text-h1.html"===e.templateUrl?-1:"templates/item/text-h1.html"===t.templateUrl?1:"templates/item/text-h2.html"===e.templateUrl?-1:"templates/item/text-h2.html"===t.templateUrl?1:e.isTranscript?-1:t.isTranscript?1:"Link"===e._type?-1:"Link"===t._type?1:"Upload"===e._type?"file"===e.producerItemType||"Annotation"===t._type?-1:1:"Upload"===t._type?1:-1:e.start_time-t.start_time})}function p(e){return u().some(function(t){return t.start_time===i.parseTime(e)})}function u(){return Object.keys(f.events).reduce(function(e,t){return"Scene"===f.events[t]._type&&f.events[t].episode_id===a.episodeId&&e.push(f.events[t]),e},[])}function g(e,t){f.events[e]&&f.assets[t]&&(f.events[e].asset=f.assets[t])}var f={};f.episodes={},f.assets={},f.events={},f.containers={},f.narratives={},f.customers={},f.getNarrativeByPathOrId=function(e){if(/^[0-9a-fA-F]{24}$/.test(e))return f.narratives[e];var t;for(t in f.narratives)if(f.narratives.hasOwnProperty(t)&&e===f.narratives[t].path_slug.en)return f.narratives[t]},f.assocNarrativesWithCustomer=s,f.cachedNarrativesByCustomer=l,f.getCustomersAsArray=c,f.getNarrativesAsArray=d,f.cache=function(e,t){"narrative"===e&&(f.narratives[t._id]?angular.extend(f.narratives[t._id],t):f.narratives[t._id]=angular.copy(t)),"customer"===e&&(f.customers[t._id]?angular.extend(f.customers[t._id],t):f.customers[t._id]=angular.copy(t)),"episode"===e?f.episodes[t._id]?angular.extend(f.episodes[t._id],f.deriveEpisode(angular.copy(t))):f.episodes[t._id]=f.deriveEpisode(angular.copy(t)):"event"===e?(t.title||(t.title={}),f.events[t._id]?angular.extend(f.events[t._id],f.deriveEvent(angular.copy(t))):f.events[t._id]=f.deriveEvent(angular.copy(t))):"asset"===e?f.assets[t._id]?angular.extend(f.assets[t._id],f.deriveAsset(angular.copy(t))):f.assets[t._id]=f.deriveAsset(angular.copy(t)):"container"===e&&(f.containers[t._id]?angular.extend(f.containers[t._id],f.deriveContainer(angular.copy(t))):f.containers[t._id]=f.deriveContainer(angular.copy(t)))};var h={"templates/episode-default.html":"templates/episode/episode.html","templates/episode-eliterate.html":"templates/episode/eliterate.html","templates/episode-ewb.html":"templates/episode/ewb.html","templates/episode-gw.html":"templates/episode/gw.html","templates/episode-purdue.html":"templates/episode/purdue.html","templates/episode-tellingstory.html":"templates/episode/story.html","templates/scene-1col.html":"templates/scene/1col.html","templates/scene-2colL.html":"templates/scene/2colL.html","templates/scene-2colR.html":"templates/scene/2colR.html","templates/scene-centered.html":"templates/scene/centered.html","templates/scene-cornerH.html":"templates/scene/cornerH.html","templates/scene-cornerV.html":"templates/scene/cornerV.html","templates/transcript-default.html":"templates/item/transcript.html","templates/transcript-withthumbnail.html":"templates/item/transcript-withthumbnail.html","templates/transcript-withthumbnail-alt.html":"templates/item/transcript-withthumbnail-alt.html","templates/text-h1.html":"templates/item/text-h1.html","templates/text-h2.html":"templates/item/text-h2.html","templates/text-pullquote-noattrib.html":"templates/item/pullquote-noattrib.html","templates/text-pullquote.html":"templates/item/pullquote.html","templates/transmedia-caption.html":"templates/item/image-caption.html","templates/transmedia-image-default.html":"templates/item/image.html","templates/transmedia-slidingcaption.html":"templates/item/image-caption-sliding.html","templates/transmedia-image-fill.html":"templates/item/image-fill.html","templates/transmedia-image-plain.html":"templates/item/image-plain.html","templates/transmedia-linkonly.html":"templates/item/image-linkonly.html","templates/transmedia-thumbnail.html":"templates/item/image-thumbnail.html","templates/transmedia-link-default.html":"templates/item/link.html","templates/transmedia-link-frameicide.html":"templates/item/link.html","templates/transmedia-link-noembed.html":"templates/item/link.html","templates/transmedia-link-embed.html":"templates/item/link-embed.html","templates/transmedia-link-youtube.html":"templates/item/link.html","templates/transmedia-embed-youtube.html":"templates/item/link-embed.html","templates/transmedia-link-icon.html":"templates/item/link.html","templates/question-mc-formative.html":"templates/item/question-mc-formative.html","templates/question-mc-poll.html":"templates/item/question-mc-poll.html","templates/question-mc.html":"templates/item/question-mc.html","templates/question-mc-image-left.html":"templates/item/question-mc-image-left.html","templates/question-mc-image-right.html":"templates/item/question-mc-image-right.html","templates/sxs-question.html":"templates/item/sxs-question.html"};f.deriveEpisode=function(e){return e.templateUrl||(e.templateUrl="templates/episode/story.html"),h[e.templateUrl]&&(e.origTemplateUrl=e.templateUrl,e.templateUrl=h[e.templateUrl]),angular.forEach(e.languages,function(t){t.default&&(e.defaultLanguage=t.code)}),e.defaultLanguage===!1&&(e.defaultLanguage="en"),f.setLanguageStrings(),e.styles||(e.styles=[]),angular.forEach(["eliterate","gw","gwsb","purdue","usc","columbia","columbiabusiness"],function(t){e.templateUrl==="templates/episode/"+t+".html"&&angular.forEach(["color","typography"],function(i){var n=!1;angular.forEach(e.styles,function(e){e.match(i)&&(n=!0)}),n||e.styles.push(i+t[0].toUpperCase()+t.substring(1))})}),e.title&&f.events["internal:landingscreen:"+e._id]&&(f.events["internal:landingscreen:"+e._id].title=e.title,f.events["internal:landingscreen:"+e._id]=b(f.events["internal:landingscreen:"+e._id])),e=b(e)},f.deriveAsset=function(e){return"Asset::Video"===e._type&&(e=r.resolveVideo(e)),e=b(e)},f.deriveContainer=function(e){if(e.haveNotLoadedChildData=!1,e.children&&e.children.length>0){e.children=e.children.sort(function(e,t){return e.name.en>t.name.en?1:-1}),e.children=e.children.sort(function(e,t){return e.sort_order-t.sort_order});var t=[];angular.forEach(e.children,function(e){f.containers[e._id]?t.push(f.containers[e._id]):(e.haveNotLoadedChildData=!0,f.containers[e._id]=angular.copy(b(e)))}),e.loadedChildData=!0}else e.children=[];return b(e)};var v=function(e){if(void 0!==e)return!("Annotation"!==e._type||!e.templateUrl.match(/transcript/))};f.deriveEvent=function(i){if(i=b(i),"Scene"!==i._type){i.searchableText=(i.display_annotation||i.display_description)+" "+(i.display_title||i.display_annotator),i.cosmetic||(i.cosmetic=!1),i.sxs&&(i.cosmetic=!1),i.templateUrl||(i.templateUrl=""),i.avatar_id&&(f.assets[i.avatar_id]||(f.assets[i.avatar_id]={}),i.avatar=f.assets[i.avatar_id]),f.episodes[i.cur_episode_id]&&"templates/episode/usc.html"===f.episodes[i.cur_episode_id].templateUrl&&(""===i.templateUrl&&(i.templateUrl="templates/item/usc-badges.html"),"Link"===i._type&&("templates/transmedia-link-default.html"===i.templateUrl&&(i.templateUrl="templates/transmedia-link-noembed.html"),i.display_title.match(/ACTIVITY/)&&(i.display_description=i.display_description+'<div class="uscWindowFgOnly">Remember! You need to complete this activity to earn a Friends of USC Scholars badge. (When you’re finished - Come back to this page and click <b>Continue</b>).<br><br>If you’d rather <b>not</b> do the activity, clicking Continue will take you back to the micro-lesson and you can decide where you want to go from there.</div>'),i.display_title.match(/Haven't Registered/)&&(i.styles=i.styles?i.styles:[],i.styles.push("uscHackOnlyGuests"),i.uscReviewModeHack="uscHackOnlyGuests"),i.display_title.match(/Connect with/)&&(i.styles=i.styles?i.styles:[],i.styles.push("uscHackOnlyBadge"),i.uscReviewModeHack="uscHackOnlyBadge"))),i.isContent=!1,i.isTranscript=!1,i.noEmbed=void 0!==i.noEmbed&&i.noEmbed,i.mixedContent=!1,i.noExternalLink=!1,i.targetTop=!1,i.isVideoUrl=!1,i.layouts?(i.layoutCss=i.layouts[0],("inline"===i.layouts[0]||i.layouts[0].match(/sidebar/)||i.layouts[0].match(/burst/))&&(i.isContent=!0)):i.isContent=!0,v(i)&&(i.isTranscript=!0),i.templateUrl.match(/noembed/)&&(i.noEmbed=!0);var n="https"===t.protocol();"Link"===i._type&&i.url&&i.url.match(/^http:\/\//)&&n&&(i.noEmbed=!0,i.mixedContent=!0,i.showInlineDetail=!1),"Link"===i._type&&r.isVideoUrl(i.url)&&(i.isVideoUrl=!0),"Link"===i._type&&i.url&&/mailto/.test(i.url)&&(i.noEmbed=!0),i.templateUrl.match(/-embed/)&&(i.noExternalLink=!0),i.templateUrl.match(/frameicide/)&&(i.targetTop=!0,i.noEmbed=!0)}switch(h[i.templateUrl]?(i.origTemplateUrl=i.templateUrl,i.templateUrl=h[i.templateUrl],i.isContent||"templates/item/image-plain.html"!==i.templateUrl||(i.templateUrl="templates/item/image-fill.html")):i.origTemplateUrl=i.templateUrl,i.producerItemType||("Scene"===i._type?i.producerItemType="scene":"Annotation"===i._type?i.templateUrl.match(/transcript/)?i.producerItemType="transcript":i.producerItemType="annotation":"Upload"===i._type?i.templateUrl.match(/file/)?i.producerItemType="file":i.producerItemType="image":"Link"===i._type?i.templateUrl.match(/video/)?i.producerItemType="video":i.producerItemType="link":"Plugin"===i._type?i.templateUrl.match(/question/)&&(i.producerItemType="question"):"Chapter"===i._type&&(i.producerItemType="chapter"),i.producerItemType||console.warn("Couldn't determine a producerItemType for ",i.templateUrl)),i.producerItemType){case"chapter":i.isContent=!1;break;case"annotation":i.isPq=i.isHeader=i.isLongText=i.isDef=!1,/pullquote/.test(i.templateUrl)&&(i.isPq=!0),/text-h1|text-h2/.test(i.templateUrl)&&(console.log("setting header!!"),i.isHeader=!0),/text-transmedia/.test(i.templateUrl)&&(i.isLongText=!0),i.isDef=!0}return i.displayStartTime=e("asTime")(i.start_time),i};var b=function(e){var t=a.lang?a.lang:"en";return angular.forEach(["title","annotator","annotation","description","name"],function(i){e[i]&&("string"==typeof e[i]?e["display_"+i]=e[i]:e[i][t]?e["display_"+i]=e[i][t]:e["display_"+i]=e[i].en)}),e};f.setLanguageStrings=function(){angular.forEach(f.events,function(e){e=b(e)}),angular.forEach(f.episodes,function(e){e=b(e)}),angular.forEach(f.containers,function(e){e=b(e)})},f.resolveEpisodeEvents=function(e){var t=[],n=[],a=[],o=f.episodes[e];angular.forEach(f.events,function(i){i.cur_episode_id===e&&("Scene"===i._type?t.push(i):"Chapter"===i._type?(a.push(i),n.push(i)):n.push(i))});var r={};angular.forEach(n,function(e){if("Annotation"===e._type&&e.chapter_marker===!0&&a.push(e),"Annotation"===e._type&&e.annotator){var t=o.defaultLanguage||"en",i=e.annotator[t];void 0===i&&(i=e.annotator[Object.keys(e.annotator).sort()[0]]),r[i]?(r[i].name=angular.extend(r[i].name,e.annotator),r[i].annotation_image_id||(r[i].annotation_image_id=e.annotation_image_id)):r[i]={name:e.annotator,annotation_image_id:e.annotation_image_id};for(var n=Object.keys(r[i].name).sort(),s=r[i].name[t]||"(untranslated)",l=0;l<n.length;l++)n[l]!==t&&(s=s+" / "+r[i].name[n[l]]);r[i].key=s}}),o.annotators=r,o.chapters=a;var s=0;o.masterAsset&&(s=o.masterAsset.duration,angular.forEach(o.scenes,function(e){e.start_time>s&&(e.start_time=s-.2)})),o.scenes=t.sort(function(e,t){return e._id.indexOf("internal:start")>-1||t._id.indexOf("internal:end")>-1?-1:t._id.indexOf("internal:start")>-1||e._id.indexOf("internal:end")>-1?1:e.start_time-t.start_time}),o.chapters=a.sort(function(e,t){return e.start_time-t.start_time}),angular.forEach(n,function(e){s>0&&e.start_time>s-.11&&(e.start_time=s-.2,e.end_time=s-.1),e.start_time<.01&&(e.start_time=.01,e.end_time<.01&&(e.end_time=.01)),e.start_time>e.end_time&&(e.end_time=e.start_time)}),o.items=m(n);for(var l=1,c=o.scenes.length;l<c;l++)l===c-1?0!==s&&(o.scenes[l].end_time=s):o.scenes[l].end_time=o.scenes[l+1].start_time;for(var d=0,p=t.length;d<p;d++){for(var u=t[d],g=[],h={},b=0,_=n.length;b<_;b++){var w=n[b];w.start_time>=u.start_time&&w.start_time<u.end_time&&(v(w)&&(h.end_time===u.end_time&&(h.end_time=w.start_time),h=w),w.end_time<=u.end_time?(f.events[w._id].scene_id=u._id,g.push(w)):u.end_time-.25<w.start_time&&d!==p-1?w.start_time=u.end_time:(w.end_time=u.end_time,w.scene_id=u._id,g.push(w)))}f.events[u._id].items=m(g)}o.styleCss=y(o),angular.forEach(f.events,function(t){if(t.cur_episode_id===e){t.styleCss=y(t);var n,a="templates/item/image-plain.html"===t.templateUrl,r="templates/item/image-inline-withtext.html"===t.templateUrl,s="templates/item/image-caption-sliding.html"===t.templateUrl,l="templates/item/image-thumbnail.html"===t.templateUrl,c="templates/item/image-fill.html"===t.templateUrl,d="templates/item/text-transmedia.html"===t.templateUrl,m="templates/item/text-definition.html"===t.templateUrl,p="templates/item/text-h1.html"===t.templateUrl,u="templates/item/text-h2.html"===t.templateUrl,g="templates/item/pullquote-noattrib.html"===t.templateUrl||"templates/item/pullquote.html"===t.templateUrl,h=["highlightSolid","highlightBorder","highlightSide","highlightBloom","highlightTilt","highlightNone"],v=["transitionFade","transitionPop","transitionNone","transitionSlideL","transitionSlideR"];"Scene"!==t._type&&(n=f.scene(t.scene_id),o.styles.indexOf("timestampNone")!==-1||o.styles.indexOf("timestampInline")!==-1||i.existy(n)&&i.existy(n.styles)&&(n.styles.indexOf("timestampNone")!==-1||n.styles.indexOf("timestampInline")!==-1)||(a||d||m)&&(!i.existy(t.styles)||t.styles.indexOf("timestampInline")===-1&&t.styles.indexOf("timestampNone")===-1)&&(t.styleCss+=" timestampNone"),(p||u||g)&&(t.styleCss+=" timestampNone"),i.existy(t.layouts)&&t.layouts.indexOf("showCurrent")!==-1||0!==i.intersection(o.styles,h).length||i.existy(n)&&i.existy(n.styles)&&0!==i.intersection(n.styles,h).length||i.existy(t.styles)&&0!==i.intersection(t.styles,h).length||(t.styleCss+=" highlightSolid"),0!==i.intersection(o.styles,v).length||i.existy(n)&&i.existy(n.styles)&&0!==i.intersection(n.styles,v).length||i.existy(t.styles)&&0!==i.intersection(t.styles,v).length||(a||r||s||l||g||c?i.existy(t.layouts)&&t.layouts.indexOf("videoOverlay")===-1?t.styleCss+=" transitionPop":t.styleCss+=" transitionFade":t.styleCss+=" transitionSlideL")),t.layouts&&(t.styleCss=t.styleCss+" "+t.layouts.join(" ")),t.styleCss=t.styleCss.replace(/timestampInline/,"")}})},f.resolveEpisodeContainers=function(e){var t=f.episodes[e];t.parents=[],delete t.previousEpisodeContainer,delete t.nextEpisodeContainer,t.navigation_depth=0},f.episode=function(e){return f.episodes[e]||console.warn("called modelSvc.episode for a nonexistent ID",e),f.episodes[e]},f.episodeEvents=function(e){var t=[];return angular.forEach(f.events,function(i){i.cur_episode_id===e&&t.push(i)}),t},f.isOnExistingSceneStart=p,f.getEpisodeScenes=u,f.sceneAtEpisodeTime=function(e,t){t=t||o.getMetaProp("time");for(var i=f.episodes[e].scenes,n=0;n<i.length;n++)if(i[n].start_time<=t&&i[n].end_time>t)return i[n]},f.scene=function(e){return f.events[e]||console.warn("called modelSvc.scene for a nonexistent ID",e),f.events[e]};var y=function(e){var t={typography:!1,color:!1,highlight:!1,timestamp:!1,transition:!1},i=[];if(angular.forEach(e.styles,function(e){i.push(e),angular.forEach(t,function(i,n){0===e.indexOf(n)&&(t[n]=e)})}),e.scene_id){var n=f.events[e.scene_id].styles;angular.forEach(n,function(e){angular.forEach(t,function(n,a){t[a]||0!==e.indexOf(a)||(i.push(e),t[a]=e)})})}if(e.cur_episode_id){var a=f.episodes[e.cur_episode_id].styles;angular.forEach(a,function(e){angular.forEach(t,function(n,a){t[a]||0!==e.indexOf(a)||i.push(e)})})}if("Scene"!==e._type&&!e.isContent&&e.layouts&&e.layouts[0].match(/Bg/))for(var o=0;o<i.length;o++)i[o].match(/transition/)&&"transitionNone"!==i[o]&&(i[o]="transitionFade");return i.join(" ")};return f.assocEventWithAsset=g,f.resolveEpisodeAssets=function(e){if(angular.forEach(f.events,function(t){if(t.cur_episode_id===e){var i=t.asset_id||t.link_image_id||t.annotation_image_id;i&&f.assets[i]&&(f.events[t._id].asset=f.assets[i])}}),f.episodes[e]){var t=f.episodes[e].master_asset_id;t&&f.assets[t]&&(f.episodes[e].masterAsset=f.assets[t]);var i=f.episodes[e].poster_frame_id;i&&f.assets[i]&&(f.episodes[e].poster=f.assets[i])}},f.addLandingScreen=function(e){f.events["internal:landingscreen:"+e]={_id:"internal:landingscreen:"+e,_type:"Scene",_internal:!0,templateUrl:"templates/scene/landingscreen.html",cur_episode_id:e,episode_id:e,start_time:-.01,end_time:.01}},f.addEndingScreen=function(e){var t=f.episodes[e];if(!t||!t.scenes)return void console.warn("addEndingScreen called on an episode without scenes");if(!t.masterAsset)return void console.warn("No master asset in episode...");t.scenes=t.scenes.sort(function(e,t){return e.start_time-t.start_time});var i=t.scenes[t.scenes.length-1];if(i._id.match(/internal:endingscreen/))return void console.error("Attempted to add an ending screen twice");var n=parseFloat(t.masterAsset.duration);i.end_time=n-.1,angular.forEach(i.items,function(e){e.end_time>n-.1&&(e.end_time=n-.1)}),f.events["internal:endingscreen:"+e]={_id:"internal:endingscreen:"+e,_type:"Scene",_internal:!0,templateUrl:"templates/scene/endingscreen.html",cur_episode_id:e,start_time:n-.1,end_time:n},f.events["internal:endingscreen:"+e]=b(f.events["internal:endingscreen:"+e]),f.resolveEpisodeEvents(e)},f.isTranscoded=function(e){return e.mediaSrcArr.length>0},n.debugInBrowser&&(console.log("Event cache:",f.events),console.log("Asset cache:",f.assets),console.log("Container cache:",f.containers),console.log("Episode cache:",f.episodes),console.log("Narrative cache:",f.narratives),console.log("Customer cache:",f.customers)),f}t.a=n,n.$inject=["$filter","$location","ittUtils","config","appState","playbackService","urlService"]},"+ViR":function(e,t){var i="templates/producer/item/producer-file.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},"+YBj":function(e,t,i){"use strict";(function(e){function i(t,i,n,a,o){return{restrict:"A",replace:!0,scope:!0,templateUrl:"templates/timeline-story.html",controller:"TimelineController",link:function(r,s){function l(e){return e>98?100:e}function c(e){return e<3?0:e}function d(e){var t=r.currentVolume()+e;t=l(t),"function"==typeof r.setVolume&&r.setVolume(t)}function m(e){var t=r.currentVolume()-e;t=c(t),"function"==typeof r.setVolume&&r.setVolume(t)}r.appState=i,r.timeline=n,r.handlePosition=0,r.zoomLevel=1,r.zoomOffset=0,i.isTouchDevice&&!o.getMetaProp("hasBeenPlayed")&&(r.isSuppressed=!0);var p,u,g=r.$watch(function(){return o.getMetaProp("hasBeenPlayed")},function(e){e===!0&&(r.isSuppressed=!1,g())});t(function(){p=s.find(".progressbarContainer"),u=s.find(".progressbar"),x()}),r.autoZoom=function(e){r.savedZoomLevel=r.zoomLevel;var t=e.end_time-e.start_time,i=o.getMetaProp("duration")-e.end_time;r.zoomLevel=Math.min(Math.max(Math.round(.6*i/t),1),20),v()},r.endAutoZoom=function(){r.savedZoomLevel&&(r.zoomLevel=r.savedZoomLevel,v(),delete r.savedZoomLevel)};var f=r.$watch(function(){return i.editEvent},function(e){"producer"===i.product&&(e?r.autoZoom(e):r.endAutoZoom())});r.appState=i,r.setNewLanguage=function(){a.setLanguageStrings()},r.showSceneMenuTooltip=function(e){e&&!i.isTouchDevice?r.sceneMenuToolTip=!0:r.sceneMenuToolTip=!1},r.prevScene=function(){n.prevScene()},r.nextScene=function(){n.nextScene()},r.userChangingVolume=function(e){i.muted&&r.toggleMute();var t=angular.element(e.currentTarget),n=function(e,i){var n=(e.clientX-t.offset().left)/t.width()*100;n>98&&(n=100),n<3&&(n=0),i?r.setVolume(n):r.$apply(r.setVolume(n))};n(e,!0),t.bind("mousemove.volume",n),angular.element(document).bind("mouseup.volume",function(){angular.element(document).unbind("mouseup.volume"),t.unbind("mousemove.volume")})};var h={PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFTARROW:37,UPARROW:38,RIGHTARROW:39,DOWNARROW:40};r.onVolumeKeyDown=function(e){var t=e,i=!0;switch(t.keyCode){case h.LEFTARROW:m(1),i=!1;break;case h.RIGHTARROW:case h.UPARROW:d(1),i=!1;break;case h.DOWNARROW:m(1),i=!1;break;case h.PAGEUP:d(10),i=!1;break;case h.PAGEDOWN:m(10),i=!1;break;case h.HOME:m(100),i=!1;break;case h.END:d(100),i=!1;break;default:i=!0}i||(e.stopPropagation(),e.preventDefault())},r.currentVolume=function(){return i.muted?0:i.volume},r.audioIcon=function(){return i.muted?"muted":"vol"+Math.floor(i.volume/34)},r.showTooltip=function(e){e.showTooltip=!0},r.hideTooltip=function(e){e.showTooltip=!1},r.zoomIn=function(){r.stopWatching=!0,r.zoomLevel=r.zoomLevel+1,v()},r.zoomOut=function(){r.stopWatching=!0,r.zoomLevel<=2?r.zoomLevel=1:r.zoomLevel<=3?r.zoomLevel=1.5:r.zoomLevel=r.zoomLevel/2,v()};var v=function(){r.zoomOffset=-((r.zoomLevel-1)*(o.getMetaProp("time")/o.getMetaProp("duration"))),p.stop().animate({left:100*r.zoomOffset+"%",width:100*r.zoomLevel+"%"},1e3,function(){r.stopWatching=!1})};r.$watch(function(){return{t:o.getMetaProp("time"),d:o.getMetaProp("duration")}},function(){r.stopWatching||(r.zoomOffset=-((r.zoomLevel-1)*(o.getMetaProp("time")/o.getMetaProp("duration"))),p&&p.css({left:100*r.zoomOffset+"%"}))},!0);var b=function(e){o.pauseOtherPlayers(),t(function(){r.seekHandleVisible=!0},250),r.isSeeking=!0;var n=i.isTouchDevice?"touchend.timeline":"mouseup.timeline";u.bind(n,function(){_()}),angular.element(document).bind(n,function(){w()}),y(e)};r.$watch(function(){return o.getMetaProp("time")},function(){i.editEvent&&(r.willSeekTo=o.getMetaProp("time"))});var y=function(e){if(r.isSeeking){var t=o.getMetaProp("duration");r.willSeekTo=(e.clientX-p.offset().left)/p.width()*t,r.willSeekTo<0&&(r.willSeekTo=0),r.willSeekTo>t&&(r.willSeekTo=t)}},_=function(){r.stopWatching=!0,r.enableAutoscroll(),n.seek(r.willSeekTo,"scrubTimeline"),v()},w=function(){angular.element(document).off("mouseup.timeline"),angular.element(document).off("touchend.timeline"),u.off("mouseup.timeline"),u.off("touchend.timeline"),t(function(){r.isSeeking=!1,r.seekHandleVisible=!1})},x=function(){var t=e(s.find(".playhead"));i.isTouchDevice?(t.on("touchstart.timeline",function(e){b(e.originalEvent.targetTouches[0]),e.preventDefault()}),t.on("touchmove.timeline",function(e){y(e.originalEvent.targetTouches[0]),e.preventDefault()})):(t.on("mousedown.timeline",function(e){b(e),e.preventDefault()}),t.on("mousemove.timeline",function(e){y(e),e.preventDefault()}))};r.$on("$destroy",function(){w(),f()})}}}t.a=i,i.$inject=["$timeout","appState","timelineSvc","modelSvc","playbackService"]}).call(t,i("7t+N"))},"+o/S":function(e,t){var i="templates/item/modal.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=modal ng-style=modalStyle ng-click=dismiss();> <span ng-if=\"item._type == 'Link'\" ng-click=$event.stopPropagation()> <div class=modalmenu> <a href={{item.url}} target=_blank class=escapelink>(new window)</a> </div> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </span> <span ng-if=\"item._type == 'Upload'\"> <span ng-switch=\"item.asset.content_type.indexOf('image/')\"> <span ng-switch-when=-1> <div class=modalmenu> <a href={{item.asset.url}} target=_blank class=escapelink>(new window)</a> </div> <itt-iframe x-src={{item.asset.url}} item=item x-contenttype={{item.asset.content_type}}></itt-iframe> </span> <span ng-switch-default> <div class=modalimage ng-if=\"item._type == 'Upload'\"> <img ng-src={{item.asset.url}}> </div> </span> </span> </span> </div> ")}]),e.exports=i},"/EO3":function(e,t,i){e.exports=i.p+"images/eliterate-logo-5a6d4df662628d18f39bd41cec77fbc0.svg"},"/J5y":function(e,t,i){var n=i("8UQ/");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"/Tte":function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field" ng-show="selectService.getVisibility(\'imageUpload\')">','\t<div class="label">Image','\t\t<itt-validation-tip ng-if="ittItemForm.itemAsset.$invalid" text="Image is required"></itt-validation-tip>',"\t</div>",'\t<div class="input" ng-include="\'templates/producer/upload-producer.html\'"></div>',"</div>"].join(" ")}}t.a=n},"/Vo5":function(e,t,i){var n=i("CvNk");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"/ddf":function(e,t,i){"use strict";function n(e){return{restrict:"EA",require:"^ngModel",scope:{item:"="},link:function(t,i,n,a){function o(){return t.item}function r(t){var i=t.templateUrl,n=t.asset;switch(i){case"templates/item/file.html":case"templates/item/image-plain.html":case"templates/item/image-inline.html":case"templates/item/image-inline-withtext.html":case"templates/item/image-caption-sliding.html":case"templates/item/image.html":case"templates/item/image-fill.html":case"templates/item/link-withimage-notitle.html":e.existy(n)?a.$setValidity("itemAsset",!0):a.$setValidity("itemAsset",!1);break;case"templates/item/link.html":case"templates/item/link-withimage.html":case"templates/item/link-modal-thumb.html":case"templates/item/link-descriptionfirst.html":case"templates/item/link-embed.html":a.$setValidity("itemAsset",!0)}}a&&(a.$validators.itemAsset=function(){return!0},t.$watch(o,r,!0))}}}t.a=n,n.$inject=["ittUtils"]},"0HzY":function(e,t,i){e.exports=i.p+"1fef2fca683b4acc8da9b75bb5e24401.otf"},"0U0Q":function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",doValidate:"=?",ittItemForm:"=?"},template:['<div class="field">','\t<div class="label">Question text','\t\t<itt-validation-tip ng-if="$ctrl.ittItemForm[$ctrl.textAreaName].$invalid" text="Question Text is a required field"></itt-validation-tip>',"\t</div>",'\t<div class="input" do-validate="$ctrl.doValidate" on-emit-name="$ctrl.onName($taName)" sxs-input-i18n="$ctrl.data.data._plugin.questiontext" x-inputtype="\'textarea\'"></div>',"</div>"].join(" "),controller:[function(){function e(e){console.log("name!",e),t.textAreaName=e}var t=this;t.onName=e}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},"0ePo":function(e,t){var i="templates/item/question-mc-inner.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="question item__text"> <p ng-bind-html="plugin.questiontext | i18n"></p> <div ng-if=!showChart> <div ng-repeat="distractor in choices"> <div ng-if="(distractor.text | i18n) != \'\'"> <label ng-class="{\n\t\t\t\t\tcorrect: plugin.hasBeenAnswered && distractor.correct,\n\t\t\t\t\tincorrect: plugin.hasBeenAnswered && !distractor.correct\n\t\t\t\t}"> <input ng-change=scoreQuiz($index) type=radio name=fnord ng-model=index ng-disabled=plugin.hasBeenAnswered value={{$index}} ng-checked=distractor.selected> <span ng-bind-html="distractor.text | i18n"></span> </label> </div> </div> <div ng-if=plugin.hasBeenAnswered ng-bind-html="feedback() | i18n"></div> </div> <div ng-if=showChart> <div ng-if=!plugin.hasBeenAnswered ng-repeat="distractor in plugin.distractors"> <div ng-if="(distractor.text | i18n) != \'\'"> <label> <input ng-change=scorePoll($index) type=radio name=fnord ng-disabled=plugin.hasBeenAnswered ng-model=$parent.plugin.selectedDistractor value={{$index}}> <span ng-bind-html="distractor.text | i18n"></span> </label> </div> </div> <br> <div ng-if=plugin.hasBeenAnswered> <p ng-if=plugin.selectedDistractor>Here\'s how others answered this question. (Your choice was: <b ng-repeat="distractor in plugin.distractors | filter:{ index: plugin.selectedDistractor }" ng-bind-html="distractor.text | i18n"></b>) </p> <itt-flotr2-chart type={{chartType}} title="" data={{chartData}} options={{chartOptions}}></itt-flotr2-chart> </div> </div> </div> ')}]),e.exports=i},"10O6":function(e,t,i){"use strict";function n(e,t){return{require:"?ngModel",scope:{onValidationNotice:"&"},link:function(i,n,a,o){function r(){return m}function s(e){i.onValidationNotice({$notice:e})}function l(t){if(m={},o.$isEmpty(t))return m.error={showInfo:!0,message:"Field cannot be blank."},!1;if(e.isVideoUrl(t)){var i=e.checkUrl(t).type;return"html5"===i?(m[i]={showInfo:!0,message:c(i)+" video currently not supported"},!1):(m[i]={showInfo:!0,message:c(i)+" detected",doInfo:!0},!0)}return m.error={showInfo:!0,message:t+" is not a valid episode URL"},!1}var c=t.capitalize,d={showInfo:!1,message:"",doInfo:!1},m={kaltura:d,youtube:d,html5:d,error:d};o.$validators={episodeUrl:l},i.$watch(r,s,!0)}}}t.a=n,n.$inject=["urlService","ittUtils"]},"14zs":function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",ittItemForm:"="},template:['<div class="field">','\t<div class="label">Transcript [{{$ctrl.appState.lang}}]','\t\t<itt-validation-tip ng-if="$ctrl.ittItemForm[$ctrl.textAreaName].$invalid" text="Transcript is a required field"></itt-validation-tip>',"\t</div>",'\t<div class="input" sxs-input-i18n="$ctrl.data.annotation" do-validate="true" x-inputtype="\'textarea\'" on-emit-name="$ctrl.onName($taName)" autofocus></div>',"</div>"].join(" "),controller:["appState",function(e){function t(e){i.textAreaName=e}var i=this;i.onName=t,i.appState=e,i.textAreaName=""}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},"16s6":function(e,t,i){e.exports=i.p+"images/regis-big-c22eff5e768728c28159f4517e38eb72.svg"},"1Bkj":function(e,t,i){var n=i("U5Jr");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"1LX6":function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,'input[readonly]{background:none;border:medium none!important;box-shadow:none!important}.assetUploader .uploadDropTarget{border:2px dashed #bbb;border-radius:.5em;box-shadow:inset 1px 1px 2px rgba(0,0,0,.2);padding:.5em;text-align:center;background-color:#fff}.assetUploader .uploadDropTarget input{border:none!important;width:70px!important}.assetUploader .uploadDropTarget.droppable{box-shadow:inset 2px 2px 6px rgba(0,0,0,.6);border:2px solid #bbb}.assetUploader .uploadList{border-bottom:1px solid #eee;font-size:.7em;line-height:1em;margin:.2em;padding:.2em}.assetUploader .uploadName,.assetUploader .uploadProgress{display:inline-block;overflow-x:hidden;white-space:nowrap}.assetUploader .uploadName{width:60%}.assetUploader .uploadProgress{float:right;width:38%;position:relative}.uploadProgress progress{width:70%}.asset__field-group{display:flex;flex-direction:column;padding:1px 0}.asset__field-group div{display:flex;justify-content:flex-start;padding:2px 0}.containerAssets{padding:1em;clear:both}.goUp{font-size:11px}.goUp:before{content:"\\2191";padding-right:5px}.containerAssets .controls{font-size:16px;text-align:right}.containerAssets .title{font-size:1.5em}.containerAssets table .thumbnail{height:50px;width:50px;display:block}.containerAssets table{width:100%;border-collapse:collapse}.containerAssets tr{height:50px}.containerAssets td{padding:4px}.containerAssets tr:nth-child(2n){background-color:#fdfdfd}.containerAssets .grid{display:inline-block;padding:1em;width:33%;max-height:180px;text-align:center;vertical-align:top}.containerAssets .grid .thumbnail{border:1px solid #ccc;display:block;max-height:125px;max-width:100%;margin:auto}.containerAssets .grid div.thumbnail{background-color:#ccc;color:#fff;height:125px;line-height:125px}.containerAssets .scrollPane{max-height:450px;overflow-y:auto;border:1px solid #ccc}.containerAssets .grid:hover,.containerAssets tr:hover{background-color:#eee;cursor:pointer}.floatAssetPicker{bottom:20%;left:5%;position:fixed;right:5%;top:5%;background-color:#fff;box-shadow:0 0 100px rgba(0,0,0,.5);z-index:99}.floatAssetPicker .scrollContainer{position:absolute;top:0;left:0;bottom:0;right:0;overflow-y:auto}.floatAssetPicker .controlsContainer{position:absolute;bottom:.5em;right:.5em}.padForEditing .episode{border-bottom:180px solid #bbb}.authoringFormScrollContainer{height:210px;overflow-y:scroll;overflow-x:hidden;padding-right:24px}.authoringForm .field{clear:both}.authoringForm .field .input,.authoringForm .field .label{margin:.3em 0}.authoringForm .field>.label{width:25%;text-align:right;float:left}.authoringForm .label{font-size:smaller;color:#666;padding:3px .25em}.authoringForm .input{width:75%;float:right}.authoringForm .input input.ng-invalid{border:1px solid #c00}.authoringForm .input input,.authoringForm .input select,.authoringForm .input textarea{width:100%;border:1px solid #ccc;border-radius:.3em 0 0 .3em;font-size:16px}.authoringForm button{border:1px solid #ccc;background-color:#fff;border-radius:.3em;font-family:sans-serif;font-size:13px;color:#000}.authoringForm .input label{font-family:sans-serif;font-size:13px;white-space:nowrap;display:inline-block}.authoringForm .input input,.authoringForm .input option,.authoringForm .input textarea{padding:.3em}.authoringForm textarea{max-height:2em;transition:max-height 1s}.authoringForm textarea:focus{max-height:8em}.authoringForm .input input:focus,.authoringForm .input select:focus,.authoringForm .input textarea:focus{border-color:#666;box-shadow:2px 2px 2px rgba(0,0,0,.2)}.authoringForm .input input[type=checkbox],.authoringForm .input input[type=radio]{width:2em}.authoringForm label{padding-right:2em}.authoringForm button,.ittTabFoot button{padding:.2em .6em}.authoringForm .button-prev{font-size:.7em}.authoringForm option{padding:.2em 0}.annotatorEmptyCue{font-size:13px;position:absolute;padding:3px;pointer-events:none}.authoringForm .floaterContainer{position:relative;display:inline-block}.authoringForm .floater{background-color:#fff;border:1px solid #ccc;box-shadow:1px 1px 2px rgba(0,0,0,.3);font-size:smaller;padding:.5em;position:absolute;z-index:99}.addButtonPanel,.editButtonPanel{background-color:#fff;bottom:71px;cursor:pointer;font-size:12px;min-width:60px;padding:0 .6em;position:fixed}.isProducer .editButtonPanel{border-radius:0 1em 0 0;border-right:2px solid #999;border-top:2px solid #999;left:0;min-height:45px}.isProducer .addButtonPanel{border-left:2px solid #999;border-radius:1em 0 0;border-top:2px solid #999;right:0;min-height:45px}.isSxS .addButtonPanel{border:5px solid #666;border-radius:30px;bottom:80px;line-height:80px;font-size:11px;height:60px;right:1em}.isProducer.controlPanel a,.isSxS.controlPanel a{color:#616161;display:inline-block;line-height:1.5em;padding:.5em}@media screen and (max-width:825px){.isProducer.controlPanel .addButtonPanel a{display:block}}.isSxS.controlPanel a{text-align:center}.isProducer.controlPanel .button:before{font-family:Story;font-size:1.5em;line-height:1.5em;padding-right:.25em;display:inline-block}.isSxS.controlPanel .button:before{padding-bottom:3px}.eventIcon:before,.isSxS.controlPanel .button:before{font-family:Story;font-size:2.5em;display:block}.edit-event{color:#fff}.eventIcon{position:absolute;top:2em;left:1em;opacity:.2;height:72px;width:72px;font-size:1.2em}.edit-event:before{font-family:Story;content:"\\E601";color:#000}.button-add:before{content:"\\E90B"}.addButtonPanel .button-add:hover,.addButtonPanel .button:hover,.editButtonPanel .button-add:hover,.editButtonPanel .button:hover{color:#de6625}.button-chapter:before,.eventIcon.icon-comment:before{content:"\\E60B"}.button-comment:before,.eventIcon.icon-comment:before{content:"\\E600"}.button-link:before,.eventIcon.icon-link:before{content:"\\E604"}.button-question:before,.eventIcon.icon-question:before{content:"\\E605"}.button-image:before,.eventIcon.icon-image:before{content:"\\E603"}.button-file:before,.eventIcon.icon-file:before{content:"\\E602"}.button-video:before,.eventIcon.icon-videos:before{content:"\\E606"}.button-scene:before,.eventIcon.icon-scene:before{content:"\\E60F"}.button-episode:before,.eventIcon.icon-episode:before{content:"\\E610"}.searchMode .sxs-item{background-color:#fff;display:block;border:1px solid rgba(0,0,0,.3);box-shadow:2px 2px 2px rgba(0,0,0,.3);padding:10px}.item{position:relative}.item .edit-event{display:none;background-color:#fff;color:#fff;border:2px solid #555;border-radius:2.5em;width:2em;height:2em;overflow:hidden;padding:4px 6px;position:absolute;right:.6em;top:.5em}.canEditContent.isProducer .item:hover .edit-event,.canEditContent.isSxS .item:hover .sxs-item .edit-event{display:block}.item .edit-event span{font-size:0}.autocompleteList{z-index:99;position:absolute;background-color:#fff;box-shadow:2px 2px 2px rgba(0,0,0,.4)}.autocompleteItem{cursor:pointer;cursor:hand;height:30px;line-height:30px;padding-right:100px}.autocompleteItem.selected,.autocompleteItem:hover{background-color:#366;color:#fff}.autocompleteItem img{width:30px;height:30px;float:left;margin-right:.5em}.annotatorSubButton{position:absolute;right:0;top:2px;height:24px;z-index:10}.editingItem{background:rgba(0,0,128,.3);position:absolute;height:1em;border:1px solid #555;border-left:1px solid #000;border-right:none}ul.nav-tabs{list-style-type:none}li.tab-pane{display:inline}.ittTabs{clear:both;height:230px;position:relative}.ittTabLabel{cursor:default;float:left;padding:0 10px;border-bottom:1px solid #ccc}.ittTabLabel.cur{border:1px solid #ccc;border-bottom:none}.ittTabLabel a{color:#767676}.ittTabLabel.cur a{color:#000}.ittTabContents{position:absolute;left:0;right:0;top:20px}.ittTabFoot{clear:both;width:100%;text-align:right;padding-right:24px;font-size:.86em}.ittTabFoot button:disabled{color:#b7b7b7}.invalid{background-color:#fee!important}.ytRecordWidgetFloater{position:fixed;top:8%;left:0;text-align:center;right:0}',""])},"1Wv5":function(e,t){var i="templates/toolbar-story.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=toolbar> <div class="buttongroup nav-item scene-nav-btns"> <a ng-if="appState.productLoadedAs == \'narrative\' && !narrative.disable_navigation" class="button button-exitEpisode" href=/#/story/{{narrative.path_slug.en}}> <span>Exit</span> </a> <button tabindex=0 class="button button-nav" ng-click=toggleNavPanel();> <span>Chapters</span> </button> </div> <div class="nav-item toolbar-logos"> <img ng-src=/images/customer/Narrasys_Logo.png id=toolbar-logo-big ng-if="episode.templateUrl === \'templates/episode/narrasys-pro.html\' && appState.windowWidth > 500"> <span ng-if=showDebugInfo> </span> <img ng-src=/images/customer/Narrasys-Tree.png id=toolbar-logo-small ng-if="episode.templateUrl === \'templates/episode/narrasys-pro.html\' && appState.windowWidth <= 500"/> </div> <div class="nav-item new-window-btn"> <div ng-if="appState.isFramed && (appState.productLoadedAs == \'player\'\n\t \t\t\t|| (appState.productLoadedAs == \'narrative\'\n\t \t\t\t&& !narrative.disable_new_window ) )" class="escapegroup buttongroup"> <a class="button button-mainframeescape" ng-click=pause() ng-href="{{newWindowUrl}}&t={{playbackService.getMetaProp(\'time\')|| 0}}&access_token={{appState.user.access_token}}" target=_blank> <span>New window</span> </a> </div> </div> <div class="nav-item searchgroup buttongroup" ng-class="{cur: show.searchPanel}"> <button tabindex=2 class="button button-search" ng-click=toggleSearchPanel() aria-label=Search aria-expanded={{show.searchPanel}}> <span>Search</span> </button> <label for=searchtext class=hidden>Search Text</label> <input tabindex=2 name=searchtext id=searchtext type=text ng-show=show.searchPanel ng-model=appState.searchText ng-model-options="{ debounce: 200 }"/> </div> <div class="nav-item profilegroup buttongroup"> <a class="button button-preview" ng-if="appState.productLoadedAs==\'producer\' && (userHasRole(\'admin\') || userHasRole(\'customer admin\'))" ng-click=toggleProducerPreview()> <span ng-if="appState.product == \'producer\'">Preview</span> <span ng-if="appState.product == \'player\'">Edit</span> </a> <a class="button button-profile" ng-hide=isTrueGuest() ng-click="appState.show.profilePanel = !appState.show.profilePanel"> <span>Profile</span> </a> </div> </div> <div ng-cloak ng-show=show.navPanel class="navPanel topDrawer" ng-class=episode.styleCss> <div class=parent ng-repeat="parent in episode.parents" ng-bind-html=parent.display_name></div> <h2 ng-bind-html=episode.display_title class=fakeLink ng-click=seek(0)></h2> <div class=scene x-ng-if="chapter.display_annotation || chapter.display_title" x-ng-repeat="chapter in episode.chapters" x-ng-class="{currentScene: chapter.isCurrent}" x-ng-click=seek(chapter.start_time)> <span class=displayTime>{{chapter.displayStartTime}}</span> <p> <button class=fakeLink tabindex=0 ng-bind-html="chapter.display_annotation || chapter.display_title" x-ng-class="{sceneLink: !chapter.isCurrent}" ng-focus=showControls()></button> <br> <span ng-bind-html=chapter.display_description></span> </p> </div> </div> ')}]),e.exports=i},"1wG1":function(e,t,i){"use strict";function n(e){function t(){return d}function i(e,t){return e=l(e,!1),c(t)&&t>0&&(e+="&start="+t),e}function n(e){if(!e)return!1;e=e.replace(/%3F/,"?"),e=e.replace(/%26/,"&");var t=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);return!(!t||!t[1])&&t[1]}function a(e){return!!e&&(e=e.replace(/%3F/,"?"),e=e.replace(/%26/,"&"),/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i.test(e))}function o(e){return e.reduce(function(e,t){return a(t)&&e.mediaSrcArr.push(t),e},{type:"youtube",mediaSrcArr:[]})}function r(e){return e===!1?"?controls=1&autoplay=1&modestbranding=1&showinfo=1&rel=0&iv_load_policy=3&wmode=transparent":"?enablejsapi=1&controls=0&modestbranding=1&showinfo=0&rel=0&iv_load_policy=3&wmode=transparent"}function s(e,t){return!!e&&"//www.youtube.com/embed/"+e+(t?"":r(t))}function l(e,t){return!!e&&s(n(e),t)}var c=e.existy,d="video/x-youtube";return{type:"youtube",getMimeType:t,extractYoutubeId:n,isYoutubeUrl:a,canPlay:a,parseMediaSrc:o,embedParams:r,createEmbedLinkFromYoutubeId:s,embeddableYoutubeUrl:l,parseInput:l,getOutgoingUrl:i}}t.a=n,n.$inject=["ittUtils"]},"2+b9":function(e,t){var i="templates/item/sxs-annotation.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate sxs-item"> <a class=edit-event ng-click=editItem() ng-if=item.editableByThisUser>[Edit]</a> <div class=avatar> <img ng-src="{{item.avatar.url || \'/images/no-avatar.gif\'}}"> </div> <div class=itemHead> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <div class=text ng-bind-html=item.annotation.en></div> <div class=clear></div> </div> ')}]),e.exports=i},"2/3b":function(e,t){var i="templates/item/caption.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div class="itemTemplate itemCaption"> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <div class=text ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> <div class=clear></div> </div> ')}]),e.exports=i},"21/g":function(e,t,i){"use strict";var n=i("/jXN"),a=(i.n(n),i("FAT7")),o=i("sj8+"),r=i("UCel"),s=i("ONCz"),l=i("iDst"),c=i("Ob1N"),d=i("CJsm"),m=i("rbKl"),p=i("uIaz"),u=i("IRta"),g=i("ACpg"),f=i("iyYB");angular.module("itt.controllers",[]).controller("EditController",o.a).controller("EpisodeController",r.a).controller("ErrorController",s.a).controller("EventTestController",l.a).controller("ItemController",c.a).controller("NarrativeCtrl",d.a).controller("NarrativesCtrl",m.a).controller("PlayerController",p.a).controller("SceneController",u.a).controller("SearchPanelController",g.a).controller("TimelineController",f.a).controller("ContainerAssetsTestController",a.a)},"2EyI":function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{text:"@",doInfo:"=?"},template:['<span class="tooltip-static">',"\t<i class=\"fa fa-info-circle\" ng-class=\"{'error-red': !doInfo, 'info-blue': doInfo}\"></i>",'\t<span class="tooltip-text">{{text}}</span>',"</span>"].join("\n")}}t.a=n},"2n3E":function(e,t,i){var n="templates/episode/washingtonSBCTC.html",a='<div class="episode episode-wsbctc" ng-class=episode.styleCss> <div class="fill bigwsbctc"></div> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <div id=branding-wrapper> <img src='+i("AYkA")+' id=sbctc-logo alt="Washington SBCTC logo"/> <a id=itt-logo href=//inthetelling.com target=_blank> <img src='+i("wIHC")+' alt="In The Telling logo"> </a> </div> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"2pP/":function(e,t,i){e.exports=i.p+"images/gw-logo-big-8289b800367e6e1af3982c809cf45210.svg"},"2qXd":function(e,t,i){var n="templates/scene/2colL.html",a='<div class="scene twocol" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=videoPositioner> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> </div> <div class="col col1"> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in (mainBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (mainContentItems | isCurrent).length == 1\n\t\t\t\t\t: (mainContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: mainContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: mainContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: mainContentItems.length == 0\n\t\t\t}" itt-width-watch> <img src='+i("rXKF")+' class=matchVideoHeight> <div class=clear></div> <div class="item animate" ng-repeat="item in showCurrent ? (mainContentItems | isCurrent) : mainContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> <div class="col col2"> <div class="pane altPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in (altBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <img src='+i("rXKF")+' class=matchVideoHeight> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in (altFgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"3gcz":function(e,t){var i="templates/item/text-transmedia.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=item__title> <h2 class="item__title item__title--transmedia" ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></h2> </div> </div> <div class="text item__text item__text--transmedia" ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> </div> <div class=clear></div> </div> ')}]),e.exports=i},"3hY0":function(e,t,i){e.exports=i.p+"images/eliterate-mindwires-649b951e65b02bb2031d7a4880368eeb.svg"},"3v+Y":function(e,t,i){"use strict";function n(){var e=window.config?window.config:{};return e.apiDataBaseUrl||(e.apiDataBaseUrl="//"+window.location.host),e.localStorageKey||(e.localStorageKey="storyToken"),e.youtube||(e.youtube={domain:"//gdata.youtube.com/",timeout:5e3}),e}t.a=n,n.$inject=[]},"3vSo":function(e,t,i){e.exports=i.p+"images/purdue-logo-bd94d6c891348bb7892e668b4dea0bcc.svg"},"45nB":function(e,t,i){var n=i("mfQ+");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"4D0R":function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".george-washington .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Helvetica;color:#fff;background-color:#004065;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.george-washington .landingscreen .introtext{padding-bottom:2em}.george-washington .landingscreen #episode--description{display:none}.george-washington .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Helvetica;color:#fff;background-color:#004065;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.george-washington .searchPanel__wrapper{font-family:Helvetica,sans-serif;font-weight:300;color:#000}.george-washington .searchPanel__wrapper .fake-link--search-results{color:#004065}.george-washington .searchResults{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .searchResults .item__link--escape-link,.george-washington .searchResults .item__link--fake-link,.george-washington .searchResults .item__title--link{font-family:Helvetica,sans-serif;font-weight:300;color:#000;color:#004065}.george-washington .searchResults .item__link--escape-link:before,.george-washington .searchResults .item__link--fake-link:before,.george-washington .searchResults .item__title--link:before{color:#000}.george-washington .item__title{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .item__title--file a,.george-washington .item__title--link a{color:#004065}.george-washington .item__link--fake-link{font-family:Helvetica,sans-serif;font-weight:300;color:#000;color:#004065}.george-washington .item__text{font-family:Helvetica,sans-serif;font-weight:300;color:#000}.george-washington .item__text--definition h1,.george-washington .item__text--definition h2,.george-washington .item__text--definition h3,.george-washington .item__text--h2,.george-washington .item__text--transmedia h1,.george-washington .item__text--transmedia h2,.george-washington .item__text--transmedia h3{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .item .item__text--pullquote{font-family:Cardo,serif;font-weight:300;color:#000}.george-washington .item .item__text--pullquote:before{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#004065}.george-washington .item__text--image-caption,.george-washington .item__text--image-caption-sliding,.george-washington .item__title--image-caption,.george-washington .item__title--image-caption-sliding{color:#fff}.george-washington .item__link--escape-link{font-family:Helvetica,sans-serif;font-weight:300;color:#000;color:#004065}.george-washington .item__link--escape-link:before{color:#000}.george-washington .item .displayTime,.george-washington .item .startTime{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#004065}.george-washington .item .displayTime:hover,.george-washington .item .startTime:hover{text-decoration:underline}.george-washington .item.colorInvert{background-color:#000!important}.george-washington .item.colorInvert .item__link--escape-link,.george-washington .item.colorInvert .item__link--escape-link:before,.george-washington .item.colorInvert .item__text,.george-washington .item.colorInvert .item__text:before,.george-washington .item.colorInvert .item__title a,.george-washington .item.colorInvert .item__title a:before,.george-washington .item.colorInvert a.displayTime.startTime,.george-washington .item.colorInvert a.displayTime.startTime:before,.george-washington .item.colorInvert h1,.george-washington .item.colorInvert h2,.george-washington .item.colorInvert h3{color:#fff!important}.george-washington .content.allowHighlights .highlightSolid.item.isCurrent{background-color:hsla(37,36%,66%,.6)}.george-washington .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid hsla(37,36%,66%,.6)}.george-washington .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid hsla(37,36%,66%,.6)}.george-washington .content.allowHighlights .highlightBloom.item.isCurrent{background-color:hsla(37,36%,66%,.3);box-shadow:0 0 8px hsla(37,36%,66%,.3)}.george-washington .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Helvetica;color:#fff;background-color:#004065;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.george-washington .centered .item__title--file,.george-washington .centered .item__title--link,.george-washington .centered .item__title--link.title--link-embed,.george-washington .centerVV .item__title--file,.george-washington .centerVV .item__title--link,.george-washington .centerVV .item__title--link.title--link-embed,.george-washington .cornerH .item__title--file,.george-washington .cornerH .item__title--link,.george-washington .cornerH .item__title--link.title--link-embed,.george-washington .cornerV .item__title--file,.george-washington .cornerV .item__title--link,.george-washington .cornerV .item__title--link.title--link-embed,.george-washington .onecol .item__title--file,.george-washington .onecol .item__title--link,.george-washington .onecol .item__title--link.title--link-embed,.george-washington .pip .item__title--file,.george-washington .pip .item__title--link,.george-washington .pip .item__title--link.title--link-embed,.george-washington .twocol .item__title--file,.george-washington .twocol .item__title--link,.george-washington .twocol .item__title--link.title--link-embed{font-family:Helvetica,sans-serif;font-weight:300;color:#000}.george-washington .centerVV-mondrian .static-bg__main{border:4px solid #000;background-color:#004065}.george-washington .centerVV-mondrian .altPane{background-color:transparent}.george-washington .centerVV-mondrian .mainPane .item{background-color:#000}.george-washington .centerVV-mondrian .mainPane .item__text,.george-washington .centerVV-mondrian .mainPane .item__text--definition h1,.george-washington .centerVV-mondrian .mainPane .item__text--definition h2,.george-washington .centerVV-mondrian .mainPane .item__text--definition h3,.george-washington .centerVV-mondrian .mainPane .item__text--transmedia h1,.george-washington .centerVV-mondrian .mainPane .item__text--transmedia h2,.george-washington .centerVV-mondrian .mainPane .item__text--transmedia h3,.george-washington .centerVV-mondrian .mainPane .item__title,.george-washington .centerVV-mondrian .mainPane .item__title a{color:#fff}.george-washington .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__text,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.george-washington .centerVV-mondrian .mainPane .item.colorInvert h1,.george-washington .centerVV-mondrian .mainPane .item.colorInvert h2,.george-washington .centerVV-mondrian .mainPane .item.colorInvert h3{color:#000!important}.george-washington .centerVV-mondrian .item__title--image,.george-washington .centerVV-mondrian .item__title--image-thumbnail,.george-washington .centerVV-mondrian .item__title--image-thumbnail a,.george-washington .centerVV-mondrian .item__title--image a,.george-washington .centerVV-mondrian .item__title--link,.george-washington .centerVV-mondrian .item__title--link a{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .centerVV-mondrian .item__link--fake-link{color:#fff}.george-washington .centerVV-mondrian .item__link--escape-link{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#fff}.george-washington .centerVV-mondrian .item__link--escape-link:before{color:#004065}.george-washington .centerVV-mondrian .item .displayTime,.george-washington .centerVV-mondrian .item .startTime{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#fff}.george-washington .centerVV-mondrian .item .displayTime a,.george-washington .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},"4JKO":function(e,t,i){var n="templates/episode/episode.html",a='<div class="episode professional unbranded" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="professional__branding branding footer"> <div class=branding--content> <nys-copyright class=professional__copyright></nys-copyright> <a class=professional__logo href=//narrasys.com target=_blank> <img src='+i("PtaW")+' alt="In The Telling logo"> </a> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"4bbU":function(e,t){var i="templates/narrativelist.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=""> <itt-modal modal-class=narrative__modal ng-if="$ctrl.narrativeSelect || $ctrl.narrativeToEdit"> <h3>{{$ctrl.narrativeSelect ? \'Add\' : \'Edit\'}} Narrative</h3> <itt-narrative-editor customers=$ctrl.selectedCustomer narrative=$ctrl.narrativeToEdit hide-path-slug=$ctrl.narrativeSelect on-done=$ctrl.closeAddOrEditModal() on-update=$ctrl.addOrUpdateNarrative(n)> </itt-narrative-editor> </itt-modal> <div ng-repeat="customer in $ctrl.customersData" ng-click="$ctrl.customerRowClick(customer, $event)" ng-class=$ctrl.setRowClasses(customer)> <span ng-click="$ctrl.toggleRow(customer, $event)" ng-class="customer.showNarratives ? \'isOpen\' : \'isClosed\'"> </span> <a>{{customer.name}}</a> <div ng-if="customer.isActive === true"> <div ng-if=$ctrl.canAccess style=padding-left:1em> <itt-tooltip tip-text="Add Narrative"> <a class="icon__button button__add-inverted" ng-click=$ctrl.setSelectedNarrative(customer)></a> </itt-tooltip> </div> </div> <div ng-repeat="narrative in customer.narratives" style=padding-left:2em ng-if="customer.showNarratives === true" ng-click="$ctrl.toggleNarrativeRow(narrative, $event)" ng-class="$ctrl.setNarrativeRowClasses(customer, narrative)"> <div> <itt-edit-pencil can-access=true on-edit="$ctrl.setNarrativeToEdit($event, narrative, customer)"> <a>{{narrative.name.en}}</a> </itt-edit-pencil> <p ng-if=narrative.description> <small>{{narrative.description.en}}</small> </p> <div ng-if="$ctrl.narrativeRow._id === narrative._id"> <itt-tooltip tip-text="Go to Narrative"> <a ng-click="$ctrl.gotoNarrative(narrative._id, $event)" class="icon__button button__generateNarrative" title="Go to Narrative"></a> </itt-tooltip> <a itt-guest-accessible-url narrative=narrative clipboard-mode="Click to Copy"></a> </div> </div> </div> </div> </div> ')}]),e.exports=i},"4z8o":function(e,t,i){e.exports=i.p+"images/toolbar-bottom-f184eb055058a3180357dd376d98752d.png"},"55GB":function(e,t){var i="templates/item/searchresults-all.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span ng-class="{\'sxs-item\': item.sxs}"> <a ng-if=item.editableByThisUser class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div ng-style="\n    item.sxs?{background:\'url(\'+item.avatar.url+\') no-repeat scroll right top / 40px 40px\',minHeight:\'40px\'}:{}\n    " ng-class="{isCosmetic: item.cosmetic}" class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" ng-if="item._type !== \'Chapter\' && !item.chapter_marker" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> <div ng-if="item.display_annotator && item.producerItemType !== \'annotation\' || item.isPq" class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> <div ng-if="item.producerItemType == \'annotation\' && item.display_title && !item.isHeader && !item.isPq" class=authorName ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <span ng-if="item._type != \'Annotation\' && item._type !== \'Chapter\'"> <a tabindex=0 ng-if=item.noEmbed class="fakeLink escapelink item__link--escape-link item__link--fake-link" ng-click=outgoingLink(item.url) ng-bind-html="(item.display_title || \'(Untitled)\') | highlightSubstring: appState.searchText"></a> <a tabindex=0 role=button class="fakeLink item__link--fake-link" ng-if=!item.noEmbed x-ng-keypress=toggleDetailOnKeyPress($event) ng-click="item.showInlineDetail=!item.showInlineDetail" ng-bind-html="(item.display_title || \'(Untitled)\') | highlightSubstring: appState.searchText" aria-label="Toggle detail display of {{item.display_title}}"></a> </span> <span ng-if="item._type === \'Chapter\' || item.chapter_marker"> <h2 class=searchChapter ng-bind-html="(item.display_annotation || item.display_title) | highlightSubstring: appState.searchText"></h2> </span> </div> <div class="text item__text"> <div ng-class="{showAsHeader: item.showAsHeader}" ng-if=!item.chapter_marker ng-bind-html="item.display_annotation || item.display_description | highlightSubstring: appState.searchText"></div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <span ng-switch=item.producerItemType> <span ng-switch-when=file> <a tabindex=0 x-ng-keypress=outgoingLinkOnKeyPress(item.asset.url,$event) ng-click=outgoingLink(item.asset.url) class="escapelink item__link--escape-link">(new window)</a> <itt-iframe x-src={{item.asset.url}} x-contenttype={{item.asset.content_type}}></itt-iframe> </span> <span ng-switch-when=link> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class="escapelink item__link--escape-link">(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if="item.isVideoUrl && appState.viewMode == \'review\'" media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </span> <span ng-switch-when=video> <span ng-switch-when=file> <itt-video ng-if="item.isVideoUrl && appState.viewMode == \'review\'" media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> <a tabindex=0 x-ng-keypress=outgoingLinkOnKeyPress(item.asset.url,$event) ng-click=outgoingLink(item.asset.url) class="escapelink item__link--escape-link">(new window)</a> </span> </span> <span ng-switch-when=image> <div class=touchable style=position:relative> <img ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> </span> <span ng-switch-when=question> <div ng-if=item.asset.url class=touchable> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <itt-mc-question show-chart="item.data._plugin.questiontype == \'mc-poll\'" choices=item.data._plugin.distractors on-choice=save data=item.data._plugin qid=item._id></itt-mc-question> </span> <span ng-switch-default> <span ng-if="item.data._pluginType == \'credlyBadge\'" ng-include="\'templates/item/usc-badges-inner.html\'"></span> </span> </span> </div> </div> </span> ')}]),e.exports=i},"5HMG":function(e,t,i){"use strict";function n(){return{restrict:"A",replace:!0,templateUrl:"templates/narrativelist.html",scope:{customersData:"="},controller:["$location","authSvc","appState","dataSvc","modelSvc","ittUtils",function(e,t,i,n,a,o){function r(e,t){t.stopPropagation(),null===A.narrativeRow?A.narrativeRow=e:e===A.narrativeRow?A.narrativeRow=null:A.narrativeRow=e,A.customersData.forEach(function(e){e.isActive=!1})}function s(t){A.narrativeSelect=!1,A.selectedCustomer=[],A.narrativeToEdit=!1,t&&e.path("/story/"+t._id)}function l(e){e.data.path_slug&&(A.narrativeToEdit.error="path slug is already taken")}function c(e){var t="";A.narrativeSelect===!0?t="createNarrative":"[object Object]"===Object.prototype.toString.call(e)&&(t="updateNarrative"),v(e,t).then(s).catch(function(e){l(e)})}function d(e){var t=o.existy(e.narratives)&&e.narratives.length>1;A.selectedCustomer=[e],t?A.narrativeSelect=!A.narrativeSelect:n.getNarrativeList(e).then(function(){A.narrativeSelect=!A.narrativeSelect})}function m(e,t,i){e.stopPropagation(),A.narrativeToEdit=t,A.selectedCustomer=[i]}function p(e){return{hoverIndicator:!e.showNarratives,"container__row--even":e.evenOdd===!1,"container__row--odd":e.evenOdd===!0,isActive:e.isActive}}function u(e,t){return{hoverIndicator:e.showNarratives,"container__row--even":t.evenOdd===!1,"container__row--odd":t.evenOdd===!0,isActive:t===A.narrativeRow}}function g(t,i){i.stopPropagation(),e.path("/story/"+t)}function f(e,t){t.stopPropagation(),e.isActive=!e.isActive,A.narrativeRow=null,A.customersData.forEach(function(t){e._id!==t._id&&(t.isActive=!1)})}function h(e,t){t.stopPropagation(),e.showNarratives=!e.showNarratives,e.showNarratives?y(e):(e.showNarratives=!1,b())}function v(e,t){return n[t](e).then(function(e){var i=e.data,n=a.customers[i.customer_id];n=a.assocNarrativesWithCustomer(n,[i]);var o=A.customersData.filter(function(e){return e._id===n._id});if(1===o.length&&(x(n),o[0]=n,"createNarrative"===t))return i})}function b(){w()}function y(e){k(e.narratives)&&0!==e.narratives.length||_(e),k(e.narratives)&&e.narratives.length>=1&&w()}function _(e){n.getNarrativeList(e).then(function(){w()})}function w(){for(var e=1,t=A.customersData.length;e<=t;e++){e-1==0&&(A.customersData[0].evenOdd=!1);var i=A.customersData[e],n=A.customersData[e-1],a=null;if(k(n.narratives)&&n.narratives.length>0&&n.showNarratives===!0&&(x(n),a=n.narratives[n.narratives.length-1]),!k(i))return;k(a)?i.evenOdd=!a.evenOdd:i.evenOdd=!n.evenOdd}}function x(e){e.narratives=e.narratives.sort(function(e,t){var i=e.name.en.toLowerCase(),n=t.name.en.toLowerCase();return i<n?-1:i>n?1:0}).reduce(function(t,i,n){return 0===n?(i.evenOdd=!e.evenOdd,t.push(i),t):(i.evenOdd=!t[n-1].evenOdd,t.push(i),t)},[])}var A=this,k=o.existy;angular.extend(A,{narrativeSelect:!1,narrativeRow:null,logout:t.logout,user:i.user,setSelectedNarrative:d,customerRowClick:f,gotoNarrative:g,toggleRow:h,setRowClasses:p,setNarrativeRowClasses:u,setNarrativeToEdit:m,closeAddOrEditModal:s,addOrUpdateNarrative:c,toggleNarrativeRow:r}),function(){(t.userHasRole("admin")||t.userHasRole("customer admin"))&&(A.canAccess=!0),w()}()}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},"5Pym":function(e,t,i){var n=i("fgGe");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"5Tuk":function(e,t,i){e.exports=i.p+"images/Narrasys-Tree-cc1cd923afd67c6dc362c6aa5c3b5399.png"},"5ZNW":function(e,t,i){"use strict";function n(e){function t(e,t){var i=s(e);return i.name="resized"+t,i.lastModifiedDate=new Date,i}function i(t){var i=new FileReader,n=new Image;return e(function(e,n){i.onloadend=function(){console.log("onloadend fileReader!!"),e(i.result)},i.onerror=function(){console.log("FIleReader Err",i.error),n(i.error)},i.readAsDataURL(t)}).then(function(t){return n.src=t,console.log("image preload",n),e(function(e,t){n.onload=function(){e(n)},n.onerror=function(){t("Error Loading Image")}}).then(function(e){return e})})}function n(t,i,n,s){return e(function(e){var c=document.createElement("canvas"),d=r(c),m=0,p=0,u=t.width,g=t.height;for(a(c,u,g),d.drawImage(t,0,0,u,g);(u>i||g>n)&&!(.5*u<i||.5*g<n);)t.width=.5*t.width,t.height=.5*t.height,u=t.width,g=t.height,c=o(c,u,g);var f=l(c.width,c.height,i,n);s&&(f.height<n&&(p=(n-f.height)/2),f.width<i&&(m=(i-f.width)/2)),c=o(c,f.width,f.height,i,n,m,p),e(c.toDataURL("image/png",1))})}function a(e,t,i){e.width=t,e.height=i}function o(e,t,i,n,a,o,s){void 0===s&&(s=0),void 0===o&&(o=0);var l=document.createElement("canvas"),c=r(l);return l.width=void 0!==n?n:t,l.height=void 0!==a?a:i,c.drawImage(e,o,s,t,i),l}function r(e){var t=e.getContext("2d");return t.imageSmoothingEnabled=!0,t.mozImageSmoothingEnabled=!0,t.oImageSmoothingEnabled=!0,t.webkitImageSmoothingEnabled=!0,t}function s(e){if(e.indexOf(";base64,")==-1){var t=e.split(","),i=t[0].split(":")[1],n=decodeURIComponent(t[1]);return new Blob([n],{type:i})}for(var t=e.split(";base64,"),i=t[0].split(":")[1],n=window.atob(t[1]),a=n.length,o=new Uint8Array(a),r=0;r<a;++r)o[r]=n.charCodeAt(r);return new Blob([o],{type:i})}function l(e,t,i,n){var a=Math.min(i/e,n/t);return{width:Math.floor(e*a),height:Math.floor(t*a)}}return{createFileFromDataURL:t,readFileToImg:i,resizeImg:n}}t.a=n,n.$inject=["$q"]},"5a0T":function(e,t,i){e.exports=i.p+"images/rewind-overlay-fe81b430ef68ea426629d9c03ca8cde9.png"},"5iOH":function(e,t){var i="templates/producer/episodelist.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=standaloneAncillaryPage> <itt-nav on-logout=logout()></itt-nav> <h1>Projects</h1> <div itt-episode-list> <div ng-if=\"userHasRole('admin') || userHasRole('customer admin')\"> <itt-loading ng-if=loading></itt-loading> <div ng-repeat=\"child in root.children\" itt-container=containers[child._id] ng-class=\"{'container__row--odd': containers[child._id].evenOdd === false, 'container__row--even': containers[child._id].evenOdd === true }\" depth=0 on-container-click=onContainerClick($container) on-container-add=onContainerAdd($container) add-root-context=onContainerAdd click-root-context=onContainerClick> </div> <div ng-if=\"!(userHasRole('admin') || userHasRole('customer admin')) || (!loading && (failedLogin || root.children.length == 0))\"> Looks like you aren't logged in as an admin -- <a ng-click=logout();>try again</a>. </div> </div> </div> </div>")}]),e.exports=i},"6+VC":function(e,t,i){var n="templates/episode/university-arizona.html",a='<div class="episode professional university-arizona" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class=professional__branding> <div class=branding--content> <nys-copyright class=professional__copyright></nys-copyright> <img class=professional__logo src='+i("ebgR")+" /> </div> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"6/Qv":function(e,t,i){e.exports=i.p+"images/checkmark-80564877965f7d5b3ab0fccf3fde46c1.png"},"6Anz":function(e,t,i){e.exports=i.p+"images/definition-1-2fef34947b5de78c58be4fe71a440efd.png"},"6FL4":function(e,t,i){"use strict";function n(e){return function(t,i,n){t.$watch(n.ittShowFocus,function(t){e(function(){t&&i.filter(":visible").first().focus()})},!0)}}t.a=n,n.$inject=["$timeout"]},"6MZv":function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",modelOpts:"=?",doValidate:"=?",ittItemForm:"=?"},template:['<div class="field" ng-if="$ctrl.isVisible(\'titleField\')">','\t<div class="label">Title [{{$ctrl.appState.lang}}]','\t\t<itt-validation-tip ng-if="$ctrl.ittItemForm[$ctrl.textAreaName].$invalid" text="Title is a required field"></itt-validation-tip>',"\t</div>",'\t<div class="input" ng-model-options="$ctrl.modelOpts" do-validate="$ctrl.doValidate" sxs-input-i18n="$ctrl.data.title" on-emit-name="$ctrl.onName($taName)" x-inputtype="\'input\'" autofocus></div>',"</div>"].join(" "),controller:["appState","ittUtils","selectService",function(e,t,i){function n(e){a.textAreaName=e}var a=this;a.appState=e,a.isVisible=i.getVisibility,a.onName=n,t.existy(a.modelOpts)||(a.modelOpts={updateOn:"default"})}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},"6Uqt":function(e,t,i){"use strict";function n(){return{scope:!0,templateUrl:"templates/loading.html"}}t.a=n},"6WTw":function(e,t,i){"use strict";function n(){return{scope:{onSelected:"&"},restrict:"A",link:function(e,t){t.bind("change",function(){e.$apply(function(){console.log("changed?"),e.onSelected({files:t[0].files})})})}}}t.a=n},"6ZZG":function(e,t,i){"use strict";function n(e,t){return{restrict:"A",terminal:!0,priority:1e5,link:function(i,n){var a=t(n.attr("itt-dynamic-model"))(i);n.removeAttr("itt-dynamic-model"),n.attr("ng-model",a),e(n)(i)}}}t.a=n,n.$inject=["$compile","$parse"]},"6cdr":function(e,t,i){"use strict";function n(){return{restrict:"EA",transclude:!0,scope:{modalClass:"@",wrapperClass:"@?"},template:['<div class="{{wrapperClass ? wrapperClass : \'itt__modal\'}}"><div class="{{modalClass}}"><ng-transclude></ng-transclude></div></div>'].join(" ")}}t.a=n},"6fZU":function(e,t){var i="templates/item/question-mc-image-left.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text item__text--question-mc-image-left"> <div class="title item__title item__title--question-mc-image-left" ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div ng-if=item.asset.url class=touchable style=float:left;max-width:50%;padding-right:.5em> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <itt-mc-question show-chart="item.data._plugin.questiontype == \'mc-poll\'" choices=item.data._plugin.distractors on-choice=save data=item.data._plugin qid=item._id></itt-mc-question> <div class=clear></div> </div> </div>')}]),e.exports=i},"6tVy":function(e,t,i){"use strict";function n(e,t){return{require:["^ngModel","^ittGuestAccessibleUrl"],restrict:"EA",link:function(i,n,a,o){function r(e){if(m[m.type].error=null,d.$isEmpty(e))return m[m.type].error="Slug cannot be empty",!0;var t=l(e);return s(u,g).indexOf(t)!==-1&&(m[m.type].error=t+" is already taken."),!0}function s(e,t){return e.reduce(function(e,i){if(i.path_slug&&i.path_slug.en)if(c(t)){if(t!==i._id)return e.push(i.path_slug.en),e}else e.push(i.path_slug.en);return e},[])}var l=t.slugify,c=t.existy,d=o[0],m=o[1],p=e.customers[m.narrative.customer_id]||m.customer,u="narrative"===m.type?e.cachedNarrativesByCustomer(p):m.narrative.timelines,g=m[m.type]._id;d&&(d.$validators={validPathslug:r})}}}t.a=n,n.$inject=["modelSvc","ittUtils"]},"6ze8":function(e,t){var i="templates/narrative/default.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=""> <div ng-if=!loading> <div class=narrative> <div> <itt-edit-pencil can-access=canAccess on-edit=toggleEditNarrativeModal()> <h2 ng-bind-html=narrative.name.en></h2> </itt-edit-pencil> <p ng-bind-html=narrative.description.en></p> <p>Total Duration: {{totalNarrativeDuration | asTime}}</p> </div> <div class=episode__button-row> <div ng-if=canAccess> <itt-tooltip tip-text="Add Timeline" ng-class="{overlay: timelineUnderEdit || tmpTimeline}"> <a class="icon__button button__add-inverted" ng-click="addTmpTimeline(null, narrative.timelines)"></a> </itt-tooltip> <itt-tooltip tip-text="Export links to spreadsheet"> <a class="icon__button button__export-spreadsheet" ng-click=exportToSpreadsheet(narrative._id)> </a> </itt-tooltip> <itt-guest-accessible-url narrative=narrative sub-domain={{customers[0].domains[0]}} clipboard-mode="Click to copy URL"></itt-guest-accessible-url> </div> </div> <itt-modal ng-if=showEpisodeList> <div itt-episode-list class="admin episodePicker"> Choose an episode: <button ng-click="toggleEpisodeList(); doneEditingTimeline()">cancel</button> <ul ng-repeat="child in root.children" x-for-admin=true itt-container-episodes=containers[child._id] on-node-click=onEpisodeSelect(node) root-context=onEpisodeSelect depth=0></ul> </div> </itt-modal> <itt-modal wrapper-class=narrative__index modal-class=narrative__modal ng-if="editingNarrative || timelineUnderEdit != null"> <div ng-if=editingNarrative> <itt-narrative-editor narrative=narrative customers=customers on-done=toggleEditNarrativeModal() on-update=updateNarrative(n)> </itt-narrative-editor> </div> <div ng-if="timelineUnderEdit != null"> <itt-timeline-editor class=tl__editor timeline=timelineUnderEdit narrative=narrative on-done=doneEditingTimeline() on-update="editorAction(t, timelineUnderEdit)" on-delete=deleteTimeline(t)> </itt-timeline-editor> </div> </itt-modal> <div ui-tree=treeOpts ng-if="narrative.timelines.length !== 0"> <div ui-tree-nodes ng-model=narrative.timelines> <div class="storyTimeline hoverIndicator" ng-class-even="\'container__row--even\'" ng-class-odd="\'container__row--odd\'" ng-mouseenter="rowHover = true" ng-mouseleave="rowHover = false" ui-tree-node ng-repeat="timeline in narrative.timelines | filter: (canAccess === false || undefined) && {hidden: false}"> <div ng-class="{\'timeline--hidden\': timeline.hidden}"> <span ng-show="canAccess && rowHover" class=tlDrag__handle ui-tree-handle> <i class="fa fa-arrows"></i> </span> <div class=tl__wrapper> <itt-edit-pencil can-access=canAccess force="rowHover && canAccess" on-edit=toggleEditingTimeline(timeline)> <h3> <i ng-if=timeline.hidden class="fa fa-eye-slash"></i> <a href=/#/story/{{narrative._id}}/{{timeline._id}}>{{timeline.name.en}}</a> </h3> </itt-edit-pencil> <p>{{timeline.episode_segments[0].end_time | asTime}}</p> <p>{{timeline.description.en}}</p> <div class=tl__addButton> <div ng-if="rowHover && canAccess" class=episode__button-row> <div> <itt-tooltip tip-text="Insert Timeline"> <a class="icon__button button__add-inverted" ng-click="addTmpTimeline(timeline, narrative.timelines)"></a> </itt-tooltip> <itt-guest-accessible-url narrative=narrative timeline=timeline clipboard-mode="Copy to Clipboard"> </itt-guest-accessible-url> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <a ng-if=narrative.support_url target=_blank ng-href={{narrative.support_url}}>Support</a> ')}]),e.exports=i},"7ENw":function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,'.ta-root{border:1px solid #ccc;background-color:#fff;border-radius:.3em 0 0 .3em;display:block}.ta-root.focussed{border-color:#666;box-shadow:2px 2px 2px rgba(0,0,0,.2)}.ta-toolbar{max-height:0;border-bottom:1px solid #ccc;background-color:#eee;padding:0;opacity:0;border-radius:.3em 0 0 0;transition:.5s}.ta-root.focussed .ta-toolbar{max-height:30px;padding:4px;opacity:1}.btn-group{display:inline-block}.btn-toolbar{display:flex;justify-content:space-between;overflow:hidden}.ta-root.focussed .ta-toolbar button{margin-bottom:1em}.ta-root.focussed .ta-toolbar button.active{box-shadow:inset 2px 2px 3px rgba(0,0,0,.3)}.ta-hidden-input{border:medium none;height:1px;left:-10000px;margin:0;opacity:0;overflow:hidden;padding:0;position:absolute;top:-10000px;width:1px}.ta-root.focussed>.ta-scroll-window.form-control{outline:0 none}.ta-editor.ta-html,.ta-scroll-window.form-control{font-family:inherit;font-size:.86em;height:auto;overflow:auto}.ta-scroll-window.form-control{padding:0;position:relative}.ta-scroll-window>.ta-bind{height:auto;max-height:4em;padding:.3em;transition:.5s}.ta-root.focussed .ta-scroll-window>.ta-bind{max-height:10em!important;overflow-y:scroll}.ta-editor:focus{-moz-user-select:text}.ta-resizer-handle-overlay{display:none;position:absolute;z-index:100}.ta-resizer-handle-overlay>.ta-resizer-handle-info{background-color:#fff;border:1px solid #000;bottom:16px;opacity:.7;padding:0 4px;position:absolute;right:16px}.ta-resizer-handle-overlay>.ta-resizer-handle-background{background-color:rgba(0,0,0,.2);border:1px solid #000;bottom:5px;left:5px;position:absolute;right:5px;top:5px}.ta-resizer-handle-overlay>.ta-resizer-handle-corner{height:10px;position:absolute;width:10px}.ta-resizer-handle-overlay>.ta-resizer-handle-corner-tl{border-left:1px solid #000;border-top:1px solid #000;left:0;top:0}.ta-resizer-handle-overlay>.ta-resizer-handle-corner-tr{border-right:1px solid #000;border-top:1px solid #000;right:0;top:0}.ta-resizer-handle-overlay>.ta-resizer-handle-corner-bl{border-bottom:1px solid #000;border-left:1px solid #000;bottom:0;left:0}.ta-resizer-handle-overlay>.ta-resizer-handle-corner-br{background-color:#fff;border:1px solid #000;bottom:0;cursor:se-resize;right:0}.popover{background-clip:padding-box;background-color:#fff;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2);display:none;font-size:14px;font-weight:400;left:0;line-height:1.42857;max-width:276px;padding:1px;position:absolute;text-align:left;top:0;white-space:normal;z-index:1060}.popover.top{margin-top:-10px}.popover.bottom{margin-top:10px}.popover-title{background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0;font-size:14px;margin:0;padding:8px 14px}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{border-color:transparent;border-style:solid;display:block;height:0;position:absolute;width:0}.popover>.arrow{border-width:11px}.popover>.arrow:after{border-width:10px;content:""}.popover.top>.arrow{border-bottom-width:0;border-top-color:rgba(0,0,0,.25);bottom:-11px;left:50%;margin-left:-11px}.popover.top>.arrow:after{border-bottom-width:0;border-top-color:#fff;bottom:1px;content:" ";margin-left:-10px}.popover.bottom>.arrow{border-bottom-color:rgba(0,0,0,.25);border-top-width:0;left:50%;margin-left:-11px;top:-11px}.popover.bottom>.arrow:after{border-bottom-color:#fff;border-top-width:0;content:" ";margin-left:-10px;top:1px}',""])},"7EQ+":function(e,t,i){e.exports=i.p+"images/draggable-9ebbc17abaf3fe3b097569da07252b88.png"},"7GUz":function(e,t){var i="templates/item/transcript.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate transcript"> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> </div> <div class=icon style=float:left;margin-right:.5em> <img ng-if=item.asset.url ng-src={{item.asset.url}}> <div class=clear></div> </div> <div class="authorName item__title" ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> <div class="text item__text" ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> <div class=clear></div> </div> ')}]),e.exports=i},"7Kem":function(e,t,i){var n="templates/episode/regis.html",a='<div class="episode episode-regis" ng-class=episode.styleCss> <div class="fill bigregis"></div> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"7XCA":function(e,t){var i="templates/item/image-thumbnail.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="thumbnail touchable" x-ng-class="{fullsize: item.showInlineDetail || item.isActive}" x-ng-click=toggleDetailView()> <img ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <div class="text item__text"> <div class="title item__title item__title--image-thumbnail" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div class="text item__text item__text--image-thumbnail" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <div class=clear></div> </div> ')}]),e.exports=i},"7Ztq":function(e,t,i){e.exports=i.p+"images/gw-bug-2cdd63458860d1836a39a52972e46bdb.svg"},"81AW":function(e,t,i){var n="templates/episode/gw.html",a='<div class="episode episode-gw" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("BRlR")+' alt="George Washington"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"83Nc":function(e,t,i){e.exports=i.p+"images/CPB_Textured_BG_v3-0d9bd2208b1914ad778b1bb5a659328d.png"},"84qX":function(e,t){var i="templates/item/pullquote.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate headerItem"> <div class=category></div> <div class="pullquote item__text item__text--pullquote" ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> <div class=pullquoteSpeaker ng-if=item.display_annotator> — <span ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></span></div> </div> ')}]),e.exports=i},"888c":function(e,t){var i="templates/testbed-event.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<style>.testContentPane{border:1px solid #000;position:absolute;overflow:hidden;top:3em;left:2em;right:2em;bottom:10em}.testEditorPane{position:absolute;bottom:0;z-index:2;left:0;right:0;height:10em;overflow-y:scroll}label{margin:0 2em}</style> <div class=controls> <label> Content pane type: <select size=1 ng-model=testbed.contentType ng-init="testbed.contentType=\'content\'"> <option value=content>Content</option> <option value=fill>Overlay</option> </select> </label> <label ng-if="testbed.contentType == \'content\'"> <input type=checkbox ng-model=testbed.isNarrow> Narrow content pane </label> <label> Item state: <select size=1 ng-model=item.state ng-init="item.state=\'isCurrent\'"> <option value=isCurrent>Current</option> <option value=isPast>Past</option> <option value=isFuture>Future</option> </select> </label> <label> <input type=checkbox ng-model=testbed.showCurrent ng-init="testbed.showCurrent = false;"> Hide non-current items </label> </div> <div class="testContentPane allowHighlights allowSidebars hasLeftSidebar hasRightSidebar {{testbed.contentType}}" ng-class="{isNarrow: testbed.isNarrow, showCurrent: testbed.showCurrent}"> <div ng-if="!(testbed.showCurrent && item.state!=\'isCurrent\')" class="item animate" itt-item=item ng-class="item.styleCss + \' \' + item.state"></div> </div> <div class=testEditorPane itt-item-editor=item></div> ')}]),e.exports=i},"8AxP":function(e,t,i){"use strict";function n(){return{restrict:"A",replace:!0,controller:["$scope","$location","$timeout","appState","authSvc","dataSvc","modelSvc","ittUtils",function(e,t,i,n,a,o,r,s){function l(t,i,n){return t.sort(function(e,t){return e.name.en.toLowerCase()<t.name.en.toLowerCase()?-1:e.name.en.toLowerCase()>t.name.en.toLowerCase()?1:0}),angular.forEach(t,function(t){var a=r.containers[t._id];a.evenOdd=i,i=!i,a.isActive&&n&&(e.lastClickedContainer={container:a,bool:!1}),a.showChildren&&a.children&&(i=l(a.children,i,n))}),i}function c(t){l(e.root.children,!t.evenOdd,!1)}function d(t){t.container.children?(t.bool===!1&&(t.container.showChildren=!t.container.showChildren),l(e.root.children,!0,!1)):o.getContainer(t.container._id).then(function(i){t.container=r.containers[i],t.bool===!1&&(t.container.showChildren=!0),l(e.root.children,!0,!1)}),t.bool===!0&&(s.existy(e.lastClickedContainer)?e.lastClickedContainer.container!==t.container?(e.lastClickedContainer.container.isActive=!1,e.lastClickedContainer=t,e.lastClickedContainer.container.isActive=!0):e.lastClickedContainer.container.isActive=!e.lastClickedContainer.container.isActive:(e.lastClickedContainer=t,e.lastClickedContainer.container.isActive=!0))}e.logout=function(){a.logout()},e.appState=n,e.loading=!0,e.containers=r.containers,e.userHasRole=a.userHasRole,o.getCustomerList(),o.getContainerRoot().then(function(t){e.root={children:[]},angular.forEach(t,function(t){e.root.children.push(r.containers[t])}),l(e.root.children,!0,!0),e.loading=!1},function(){e.failedLogin=!0,e.loading=!1}),e.onContainerAdd=c,e.onContainerClick=d}]}}t.a=n},"8FYh":function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".episode{padding-top:45px;width:100%;min-height:100%}.branding{width:100%;height:210px;background:linear-gradient(rgba(0,0,0,.05),rgba(0,0,0,.25));position:relative;color:#fff}@media (min-width:0\\0) and (min-resolution:0.001dpcm){.branding{background-color:#eee}.video .fgLayer{display:none}}.branding img{height:72px}.branding .logo{width:20%}.branding .logo,.branding .narrasys-logo{position:absolute;display:block;top:1em}.branding .logo img{border:none}.branding a.itt,.branding a.narrasys-brand{right:5%;text-align:right}.copyright{position:absolute;bottom:75px;left:10px;font-size:.8em;text-shadow:1px 1px 0 rgba(0,0,0,.3)}.copyright a{color:#fff!important;text-decoration:underline}.videoFirstPlay{position:absolute;cursor:pointer;cursor:hand}.videoFirstPlay img{width:100%;height:100%}.video .poster{background-size:100% 100%;background-repeat:none}.banner-logo{left:38%;margin:0 auto;position:fixed;right:38%;text-align:center;top:5px}.banner-logo img{margin:auto;max-height:35px;max-width:100%}.episode-eliterate .branding a.eliterate{left:5%}.episode-eliterate{background-image:url("+i("YhLU")+");background-size:90%;background-position:0 30%;background-repeat:no-repeat}.episode-gw .videoMask.firstplay{background-image:url("+i("FlWQ")+")}.episode-gw .videoMask.rewind{background-image:url("+i("ShQF")+")}.episode-gw .landingscreen{width:400px;margin:0 auto 50px;background-image:url("+i("2pP/")+");background-size:60%;background-position:50% 40px;background-repeat:no-repeat;padding:150px 0 0}.episode-gw .landingscreen .introtext,.episode-gw .landingscreen .videoMagnet{float:none;width:100%;clear:both}.episode-gw .landingscreen .introtext h1{font-weight:400;font-size:24px;line-height:25px}@media screen and (max-width:500px){.episode-gw .landingscreen{width:90%;padding-top:45%}}.episode-purdue .landingscreen{background-image:url("+i("mcsu")+");background-position:0 100%;background-repeat:no-repeat;background-size:110%}.uscWindowFgOnly{display:none}.overlay.windowFg .uscWindowFgOnly{display:block;margin:1em 0}.uscHackOnlyGuests{display:none}.guestUser .uscHackOnlyGuests{display:block}.uscHackOnlyBadge{display:none}.uscHackUserHasBadge .uscHackOnlyBadge{display:block}.episode-columbiabusiness{background:linear-gradient(#a9b8d3,#fefcfc)}.episode-columbiabusiness .trident{background:url("+i("eIOM")+") 50% 50%;background-size:250%;position:fixed!important;opacity:.3;pointer-events:none}.episode-columbiabusiness .DiscoverModeOnly .item{background-color:rgba(221,224,234,.5)}.episode-schoolclimatesolutions{background:url("+i("w19C")+") no-repeat scroll right -140px bottom -140px/90% auto #fff}.episode-middlebury .DiscoverModeOnly{background-color:#06132d;display:block}.episode-middlebury .DiscoverModeOnly .startTime{color:#fff}.episode-middlebury .branding{background:url("+i("Sfkd")+") repeat-x 50% 0;color:#5e5e5e}.episode-middlebury .branding .logo{top:120px;right:100px;width:100px}.episode-middlebury .branding .logo.itt{right:20px}.episode-middlebury .copyright{text-shadow:none!important;margin-right:210px;bottom:auto;top:120px}.episode-middlebury .copyright a{color:#000!important;text-shadow:none!important}.episode-middlebury .colorInvert .colorInvert{background-color:#73a3e7;color:#06132d}.episode-middlebury .reviewMode{border-bottom:130px solid #06132d}.episode-middlebury .fakeLink,.episode-middlebury a{color:#73a3e7;text-shadow:1px 1px 0 #06132d}.episode-middlebury .colorInvert a{color:#73a3e7;text-shadow:none!important}.episode-middlebury .colorInvert .colorInvert a{color:#06132d;text-decoration:underline}.episode-middlebury .colorInvert .colorInvert .startTime{color:#06132d}.episode-middlebury{font-family:Garamond,Droid Serif,serif;font-size:110%}.episode-prolotherapy{font-family:Source Sans Pro,sans-serif}.episode-prolotherapy .colorInvert{background-color:#3f58a7;color:#fff}.episode-prolotherapy .colorInvert .colorInvert{background-color:#fff;color:#3f58a7}.episode-prolotherapy .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(63,88,167,.2)}.episode-prolotherapy .landingscreen{background:url("+i("XTrX")+") no-repeat 0 100%}.episode-prolotherapy .landingscreen .videoMagnet{float:right}.episode-prolotherapy .landingscreen .introtext{float:left}.episode-gwsb .gwsb-seal{background:#fffdf9;background:radial-gradient(ellipse at center,#fffdf9 0,#fff0b5 100%);position:fixed!important}.episode-gwsb .gwsb-seal div{background:url("+i("beTW")+") 50% 50% no-repeat;background-size:90%;opacity:.05}.episode-gwsb .branding{background:none}.episode-gwsb .copyright,.episode-gwsb .copyright a{text-shadow:none;color:#ccc!important}.episode-gwsb .altPane{background:none}.episode-gwsb .content{border:2px solid #c0ab80;margin:.5em}.episode-gwsb .altPane .fill .item,.episode-gwsb .mainPane .fill .item{margin:0 .5em}.episode-gwsb .cornerH .altPane .fill .item{margin:.5em}.episode-gwsb .centered .content,.episode-gwsb .cornerH .mainPane .content,.episode-gwsb .pip .content{border:none;margin:0}.episode-gwsb .content.isEmpty,.episode-gwsb .reviewMode .content{border:none}.episode-gwsb .reviewMode .mainPane{background-color:hsla(0,0%,100%,.2)}.episode-gwsb .videoMask.firstplay{background-image:url("+i("FlWQ")+")}.episode-gwsb .videoMask.rewind{background-image:url("+i("ShQF")+")}.episode-gwsb .landingscreen{padding:2em 0 0;text-align:center}.episode-gwsb .landingscreen p{padding:.5em 0 2em}.episode-gwsb .landingscreen>div{position:absolute;width:100%}.episode-gwsb .landingscreen .introtext{font-family:Helvetica,sans-serif;color:#008bc4;text-transform:uppercase;width:100%}.episode-gwsb .landingscreen .videoMagnet{float:none;margin:auto;clear:both}.episode-gwsb .landingscreen-end{background:url("+i("2pP/")+") 50% 100% no-repeat;width:100%;height:150px}.episode-gwsb .landingscreen .introtext .episode-gwsb .footer{background:url("+i("7Ztq")+") 100% 0 no-repeat;background-size:80px}.episode-gwsb .authorName,.episode-gwsb .title,.episode-gwsb a.startTime.displayTime{font-family:Helvetica,sans-serif;font-size:1.3em;line-height:1.3em;color:#004b6e;text-transform:uppercase}.episode-gwsb .title,.episode-gwsb .title a{font-weight:bolder;text-transform:uppercase}.episode-gwsb .startTime{font-weight:lighter}.episode-gwsb .sceneTitle{margin:0;border-bottom:2px solid #c0ab80}.episode-gwsb .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid #c0ab80;margin:.5em}.episode-gwsb .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid #c0ab80}.episode-kellogg .banner-logo{top:0;left:150px;right:150px;height:45px;pointer-events:none}@media screen and (min-width:999px){.episode-kellogg .banner-logo{background:url("+i("S7ON")+") 50% 50% no-repeat}}@media screen and (min-width:675px) and (max-width:1000px){.episode-kellogg .banner-logo{background:url("+i("xQo2")+") 50% 50% no-repeat}}@media screen and (max-width:674px){.episode-kellogg .banner-logo{background:url("+i("yQ/W")+") 50% 50% no-repeat}}.episode-kellogg .branding{background:url("+i("hqIs")+') 0 0 repeat-x;border-top:40px solid #00ac9e}.episode-kellogg .branding img{float:right;margin-top:85px;margin-right:20px}.episode-kellogg .copyright{top:85px}.episode-kellogg .copyright,.episode-kellogg .copyright a{color:#666!important;text-shadow:none}.episode-kellogg .fakeLink,.episode-kellogg a{color:#00ac9e}.episode-kellogg .item a{text-decoration:underline;font-size:90%}.episode-kellogg .item a:hover{text-decoration:none;border-bottom:2px solid}.episode-kellogg .colorInvert{color:#fff;background-color:#00ac9e}.episode-kellogg .item .startTime{background-color:#ccc;padding:4px}.episode-kellogg .content.allowHighlights .highlightSolid.item.isCurrent,.episode-kellogg .item.isCurrent .startTime{background-color:#c4d760}.episode-kellogg .reviewMode .item.isCurrent{background:none}.episode-wiley{font-family:Source Sans Pro,sans-serif;font-weight:300}.episode-wiley .fakeLink,.episode-wiley a{color:#00a8ff}.episode-wiley .pullquote,.episode-wiley h1,.episode-wiley h2,.episode-wiley h3,.episode-wiley h4{font-weight:200;color:gray}.episode-wiley h1{font-size:2.3em;line-height:1.2em;color:gray}.episode-wiley h2{color:#b22222}.episode-wiley .landingscreen{padding:0}.episode-wiley .endingscreen .introtext,.episode-wiley .landingscreen .introtext{display:none}.episode-wiley .landingscreen .videoMagnet{float:none;width:100%}.episode-wiley .endingscreen .videoMagnet{margin:0 10%}.episode-wiley.wiley-endscreentext .endingscreen:after{content:"Learn more: Check out the etext and its resources to learn more about the topics discussed in this episode.";display:block;font-size:120%;font-style:italic;margin:1em 0}.episode-wiley .colorInvert{background-color:gray;color:#fff}.episode-wiley .colorInvert .pullquote,.episode-wiley .colorInvert h1,.episode-wiley .colorInvert h2,.episode-wiley .colorInvert h3{color:#fff}.episode-wiley .item .startTime{border:2px solid #ccc;padding:3px;font-size:80%;font-weight:700;opacity:.5}@media screen and (min-width:700px){.episode-wiley{font-size:105%}.episode-wiley .searchMode .searchResults{margin:0}}@media screen and (min-width:750px){.episode-wiley{font-size:105%}.episode-wiley .searchMode .searchResults{margin-right:315px}}@media screen and (min-width:900px){.episode-wiley{font-size:110%}.episode-wiley .searchMode .searchResults{margin-right:315px}}.episode-regis .reviewMode:before,.episode-regis .scene.isCurrent:before,.episode-regis .searchMode:before{background-image:url('+i("16s6")+');background-position:80% 0;background-repeat:no-repeat;background-size:75% auto;content:"";opacity:.07;position:fixed;bottom:0;right:0;top:45px;left:0}.episode-regis{background:linear-gradient(#f2f2f2,#94a4b2);font-family:Lato,sans-serif;font-weight:300;font-size:1.1em}.episode-regis .branding{background:none;font-size:11px}.episode-regis .content .item{background-color:#d8d3c3!important;color:#000;box-shadow:0 7px 5px rgba(0,0,0,.3)!important;padding-left:75px}.episode-regis .content .highlightSolid.item.isCurrent{background-color:#f2f2f2!important;color:#000;box-shadow:0 7px 5px rgba(0,0,0,.3)!important;padding-left:75px}.episode-regis .content .sxs-item .item .startTime{margin-left:-75px;width:70px;text-align:right}.episode-regis .reviewMode .item,.episode-regis .searchMode .item{background:none!important;box-shadow:none!important}.episode-regis .reviewMode .item.isCurrent,.episode-regis .searchMode .item.isCurrent{background-color:#fff!important}.episode-regis .item .startTime{font-weight:100;font-size:1.3em;line-height:1.3em}.episode-regis .authorName,.episode-regis .reviewMode .item a.fakeLink,.episode-regis .searchMode .item a.fakeLink,.episode-regis .title{font-size:1.3em;line-height:1.3em;font-weight:700;text-transform:uppercase}.episode-regis .category{position:absolute;left:10px;font-size:10px;top:-6px}.episode-regis .escapelink:before{font-weight:400;padding:0 .5em;font-size:60%}.episode-regis .fakeLink,.episode-regis a,.episode-regis a:visited{color:#284865}.episode-regis .content .item.colorInvert,.episode-regis .item.colorInvert a{color:#fff!important;background-color:#103852!important}.episode-regis .landingscreen{background-image:url('+i("g5Re")+");background-repeat:no-repeat;margin:auto;background-size:90%;padding:2em 0}.episode-regis .landingscreen .introtext{display:none}.episode-regis .landingscreen .videoMagnet{float:none;margin:auto;width:65%}@media screen and (max-width:330px){.episode-regis .landingscreen{background-position:50% 90px;width:300px;padding-top:1em}}@media screen and (min-width:331px) and (max-width:550px){.episode-regis .landingscreen{background-position:50% 140px;width:90%}}@media screen and (min-width:551px){.episode-regis .landingscreen{background-position:50% 210px;max-width:750px;width:90%}}.episode-wsbctc{background-image:url("+i("oa1I")+');background-position:0 0;background-repeat:no-repeat;background-size:95%;font-family:Gotham,sans-serif}.episode-wsbctc .branding{background:transparent}.episode-wsbctc .copyright{color:grey;text-shadow:none!important}.episode-wsbctc .copyright a{color:grey!important;text-shadow:none!important}.episode-wsbctc .reviewMode:before,.episode-wsbctc .scene.isCurrent:before,.episode-wsbctc .searchMode:before{content:"";position:fixed;bottom:0;right:0;top:45px;left:0}.episode-wsbctc .content.allowHighlights .highlightSolid.item.isCurrent,.episode-wsbctc .searchMode .item.isCurrent{background-color:#d8d3c3!important}.episode-wsbctc .content .item.colorInvert,.episode-wsbctc .item.colorInvert a{color:#fff!important;background-color:#2b4b71!important}.episode-wsbctc .authorName,.episode-wsbctc .searchMode .item a.fakeLink,.episode-wsbctc .title{font-size:1.2em;color:#2b4b71}.episode-wsbctc a,.fakeLink,a:visited{color:#2b4b71}#branding-wrapper{position:relative;float:right;bottom:-80px;padding-right:10px}#sbctc-logo{margin-right:3px;position:relative;bottom:20px}.professional{background-repeat:no-repeat;background-position:100% 0;background-size:100%;position:absolute}.professional .static-bg__alt,.professional .static-bg__main{position:absolute;top:0;background-repeat:no-repeat;background-size:cover;height:100%;width:100%}.professional .mainPane{background-color:transparent}.professional .altPane{background-color:rgba(0,0,0,.05)}.professional .professional__branding{position:absolute;width:100%}.professional .branding--content{display:flex;justify-content:space-between;align-items:center;padding:10px}.professional .branding--content .professional__logo{height:130px}.professional .branding--content .professional__copyright{margin-bottom:55px;z-index:1;color:grey;font-size:14px}.professional .branding--content .professional__copyright a{text-decoration:underline;color:grey}.professional .landingscreen{padding-top:0}.professional .landingscreen div{display:flex;flex-direction:column}.professional .landingscreen .introtext{width:100%;margin-bottom:5em}.professional .landingscreen .videoMagnet{width:100%}.professional .endingscreen div.pane.introtext p{position:relative;top:0}.professional .item .itemCaption{color:#fff}.professional .item .imagePlain{margin:0 auto!important;padding:1px 10px 1px 5px}.professional .item .pullquote{position:relative;font-size:2.7vw;bottom:.3em}.professional .item .pullquote:before{opacity:.6;font-size:6.5vw;content:"\\201C";position:relative}.professional .item__text--definition,.professional .item__text--transmedia{font-size:1.5vw!important}.professional .item__text--h1 h1,.professional .item__text--h1 h2,.professional .item__text--h1 h3,.professional .item__text--h2 h1,.professional .item__text--h2 h2,.professional .item__text--h2 h3{text-align:center;margin:10px auto}.professional .item__text--h1 h2,.professional .item__text--h2 h2{font-size:2vw}.professional .item__text--h1 h1,.professional .item__text--h2 h1{font-size:2.5vw}.professional .item__text--h1 h3,.professional .item__text--h2 h3{font-size:1.5vw}.professional .centered .item__text--h1 h1,.professional .centered .item__text--h1 h2,.professional .centered .item__text--h1 h3,.professional .centered .item__text--h2 h1,.professional .centered .item__text--h2 h2,.professional .centered .item__text--h2 h3,.professional .cornerH .item__text--h1 h1,.professional .cornerH .item__text--h1 h2,.professional .cornerH .item__text--h1 h3,.professional .cornerH .item__text--h2 h1,.professional .cornerH .item__text--h2 h2,.professional .cornerH .item__text--h2 h3,.professional .cornerV .item__text--h1 h1,.professional .cornerV .item__text--h1 h2,.professional .cornerV .item__text--h1 h3,.professional .cornerV .item__text--h2 h1,.professional .cornerV .item__text--h2 h2,.professional .cornerV .item__text--h2 h3,.professional .onecol .item__text--h1 h1,.professional .onecol .item__text--h1 h2,.professional .onecol .item__text--h1 h3,.professional .onecol .item__text--h2 h1,.professional .onecol .item__text--h2 h2,.professional .onecol .item__text--h2 h3,.professional .pip .item__text--h1 h1,.professional .pip .item__text--h1 h2,.professional .pip .item__text--h1 h3,.professional .pip .item__text--h2 h1,.professional .pip .item__text--h2 h2,.professional .pip .item__text--h2 h3,.professional .twocol .item__text--h1 h1,.professional .twocol .item__text--h1 h2,.professional .twocol .item__text--h1 h3,.professional .twocol .item__text--h2 h1,.professional .twocol .item__text--h2 h2,.professional .twocol .item__text--h2 h3{text-align:left}.professional .centered-pro .edit-event{top:1.8em}.professional .centerVV .altPane{background-color:transparent}.professional .centerVV .col{position:relative}.professional .centerVV .item.centerVV-h2{margin-top:14px;background:#fff}.professional .centerVV .item__text--definition{font-size:1.7vw}.professional .centerVV-mondrian .col{position:relative}.professional .centerVV-mondrian .altPane .item{margin-top:.8em}.professional .centerVV-mondrian .mainPane .item{margin-top:1.7em}.professional .centerVV-mondrian .mainPane .item__text--transmedia,.professional .centerVV-mondrian .mainPane .item__title--transmedia{padding-top:0;margin-top:0}.professional .centerVV-mondrian .item__link--escape-link{color:#fff}.professional .centerVV-mondrian .item__text--h2{padding-top:10px}.professional .centerVV-mondrian .item .item__text--pullquote{padding-top:0}@media screen and (min-width:1366px){.professional .item .pullquote{font-size:2vw}.professional .item .pullquote:before{font-size:5.8vw}.professional .item__text--definition,.professional .item__text--transmedia{font-size:1vw!important}.professional .item__text--h1 h1,.professional .item__text--h1 h2,.professional .item__text--h1 h3,.professional .item__text--h2 h1,.professional .item__text--h2 h2,.professional .item__text--h2 h3{text-align:center;margin:10px auto}.professional .item__text--h1 h2,.professional .item__text--h2 h2{font-size:1.5vw}.professional .item__text--h1 h1,.professional .item__text--h2 h1{font-size:2vw}.professional .item__text--h1 h3,.professional .item__text--h2 h3{font-size:1vw}}@media screen and (min-width:768px) and (max-width:1024px){.professional .item .pullquote{font-size:3vw}.professional .item .pullquote:before{font-size:6.8vw}.professional .item__text--definition,.professional .item__text--transmedia{font-size:1.5vw!important}.professional .item__text--h1 h1,.professional .item__text--h1 h2,.professional .item__text--h1 h3,.professional .item__text--h2 h1,.professional .item__text--h2 h2,.professional .item__text--h2 h3{text-align:center;margin:10px auto}.professional .item__text--h1 h2,.professional .item__text--h2 h2{font-size:2.5vw}.professional .item__text--h1 h1,.professional .item__text--h2 h1{font-size:3vw}.professional .item__text--h1 h3,.professional .item__text--h2 h3{font-size:1.5vw}}@media screen and (min-width:320px) and (max-width:768px){.professional .item .pullquote{font-size:3.5vw}.professional .item .pullquote:before{font-size:7vw}.professional .item__text--definition,.professional .item__text--transmedia{font-size:2vw!important}.professional .item__text--h1 h1,.professional .item__text--h1 h2,.professional .item__text--h1 h3,.professional .item__text--h2 h1,.professional .item__text--h2 h2,.professional .item__text--h2 h3{text-align:center;margin:10px auto}.professional .item__text--h1 h2,.professional .item__text--h2 h2{font-size:3vw}.professional .item__text--h1 h1,.professional .item__text--h2 h1{font-size:3.5vw}.professional .item__text--h1 h3,.professional .item__text--h2 h3{font-size:2vw}}@media screen and (max-width:450px){.branding .narrasys-brand{display:none;border:1px solid red}.professional .professional__logo{display:none}}@font-face{font-family:Gotham Thin;src:url('+i("iHyy")+') format("opentype")}@font-face{font-family:Gotham Medium;src:url('+i("0HzY")+') format("opentype")}@font-face{font-family:Gotham Light Italic;src:url('+i("GARK")+') format("opentype")}.field-pros .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Roboto Condensed;color:#fff;background-color:#6baa36;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.field-pros .landingscreen .introtext{padding-bottom:2em}.field-pros .landingscreen #episode--description{display:none}.field-pros .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Roboto Condensed;color:#fff;background-color:#6baa36;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.field-pros .searchPanel__wrapper{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .searchPanel__wrapper .fake-link--search-results{color:#6baa36}.field-pros .searchResults{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .searchResults .item__link--escape-link,.field-pros .searchResults .item__link--fake-link,.field-pros .searchResults .item__title--link{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b;color:#6baa36}.field-pros .searchResults .item__link--escape-link:before,.field-pros .searchResults .item__link--fake-link:before,.field-pros .searchResults .item__title--link:before{color:#5b5b5b}.field-pros .item__title{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .item__title--file a,.field-pros .item__title--link a{color:#6baa36}.field-pros .item__link--fake-link{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b;color:#6baa36}.field-pros .item__text{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .item__text--definition h1,.field-pros .item__text--definition h2,.field-pros .item__text--definition h3,.field-pros .item__text--h2,.field-pros .item__text--transmedia h1,.field-pros .item__text--transmedia h2,.field-pros .item__text--transmedia h3{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .item .item__text--pullquote{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .item .item__text--pullquote:before{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#6baa36}.field-pros .item__text--image-caption,.field-pros .item__text--image-caption-sliding,.field-pros .item__title--image-caption,.field-pros .item__title--image-caption-sliding{color:#fff}.field-pros .item__link--escape-link{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b;color:#6baa36}.field-pros .item__link--escape-link:before{color:#5b5b5b}.field-pros .item .displayTime,.field-pros .item .startTime{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#6baa36}.field-pros .item .displayTime:hover,.field-pros .item .startTime:hover{text-decoration:underline}.field-pros .item.colorInvert{background-color:#5b5b5b!important}.field-pros .item.colorInvert .item__link--escape-link,.field-pros .item.colorInvert .item__link--escape-link:before,.field-pros .item.colorInvert .item__text,.field-pros .item.colorInvert .item__text:before,.field-pros .item.colorInvert .item__title a,.field-pros .item.colorInvert .item__title a:before,.field-pros .item.colorInvert a.displayTime.startTime,.field-pros .item.colorInvert a.displayTime.startTime:before,.field-pros .item.colorInvert h1,.field-pros .item.colorInvert h2,.field-pros .item.colorInvert h3{color:#fff!important}.field-pros .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(107,170,54,.6)}.field-pros .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(107,170,54,.6)}.field-pros .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(107,170,54,.6)}.field-pros .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(107,170,54,.3);box-shadow:0 0 8px rgba(107,170,54,.3)}.field-pros .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Roboto Condensed;color:#fff;background-color:#6baa36;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.field-pros .centered .static-bg__main,.field-pros .centerVV .static-bg__main,.field-pros .cornerH .static-bg__main,.field-pros .cornerV .static-bg__main,.field-pros .onecol .static-bg__main,.field-pros .pip .static-bg__main,.field-pros .twocol .static-bg__main{background-image:url('+i("jyEH")+")}.field-pros .centered .static-bg__alt,.field-pros .centerVV .static-bg__alt,.field-pros .cornerH .static-bg__alt,.field-pros .cornerV .static-bg__alt,.field-pros .onecol .static-bg__alt,.field-pros .pip .static-bg__alt,.field-pros .twocol .static-bg__alt{background-image:url("+i("xHF/")+")}.field-pros .centered .item__title--file,.field-pros .centered .item__title--link,.field-pros .centered .item__title--link.title--link-embed,.field-pros .centerVV .item__title--file,.field-pros .centerVV .item__title--link,.field-pros .centerVV .item__title--link.title--link-embed,.field-pros .cornerH .item__title--file,.field-pros .cornerH .item__title--link,.field-pros .cornerH .item__title--link.title--link-embed,.field-pros .cornerV .item__title--file,.field-pros .cornerV .item__title--link,.field-pros .cornerV .item__title--link.title--link-embed,.field-pros .onecol .item__title--file,.field-pros .onecol .item__title--link,.field-pros .onecol .item__title--link.title--link-embed,.field-pros .pip .item__title--file,.field-pros .pip .item__title--link,.field-pros .pip .item__title--link.title--link-embed,.field-pros .twocol .item__title--file,.field-pros .twocol .item__title--link,.field-pros .twocol .item__title--link.title--link-embed{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .centerVV-mondrian .static-bg__main{border:4px solid #5b5b5b;background-color:#6baa36}.field-pros .centerVV-mondrian .static-bg__alt{background-image:url("+i("xHF/")+")}.field-pros .centerVV-mondrian .altPane{background-color:transparent}.field-pros .centerVV-mondrian .mainPane .item{background-color:#5b5b5b}.field-pros .centerVV-mondrian .mainPane .item__text,.field-pros .centerVV-mondrian .mainPane .item__text--definition h1,.field-pros .centerVV-mondrian .mainPane .item__text--definition h2,.field-pros .centerVV-mondrian .mainPane .item__text--definition h3,.field-pros .centerVV-mondrian .mainPane .item__text--transmedia h1,.field-pros .centerVV-mondrian .mainPane .item__text--transmedia h2,.field-pros .centerVV-mondrian .mainPane .item__text--transmedia h3,.field-pros .centerVV-mondrian .mainPane .item__title,.field-pros .centerVV-mondrian .mainPane .item__title a{color:#fff}.field-pros .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__text,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.field-pros .centerVV-mondrian .mainPane .item.colorInvert h1,.field-pros .centerVV-mondrian .mainPane .item.colorInvert h2,.field-pros .centerVV-mondrian .mainPane .item.colorInvert h3{color:#5b5b5b!important}.field-pros .centerVV-mondrian .item__title--image,.field-pros .centerVV-mondrian .item__title--image-thumbnail,.field-pros .centerVV-mondrian .item__title--image-thumbnail a,.field-pros .centerVV-mondrian .item__title--image a,.field-pros .centerVV-mondrian .item__title--link,.field-pros .centerVV-mondrian .item__title--link a{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .centerVV-mondrian .item__link--fake-link{color:#fff}.field-pros .centerVV-mondrian .item__link--escape-link{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#fff}.field-pros .centerVV-mondrian .item__link--escape-link:before{color:#6baa36}.field-pros .centerVV-mondrian .item .displayTime,.field-pros .centerVV-mondrian .item .startTime{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#fff}.field-pros .centerVV-mondrian .item .displayTime a,.field-pros .centerVV-mondrian .item .startTime a{text-decoration:underline}.narrasys{background-image:url("+i("xbCZ")+")}.narrasys .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Gotham Medium;color:#fff;background-color:#de6625;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.narrasys .landingscreen .introtext{padding-bottom:2em}.narrasys .landingscreen #episode--description{display:none}.narrasys .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Gotham Medium;color:#fff;background-color:#de6625;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.narrasys .searchPanel__wrapper{font-family:Gotham Thin,sans-serif;color:#4d4d4d}.narrasys .searchPanel__wrapper .fake-link--search-results{color:#de6626}.narrasys .searchResults{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .searchResults .item__link--escape-link,.narrasys .searchResults .item__link--fake-link,.narrasys .searchResults .item__title--link{font-family:Gotham Thin,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .searchResults .item__link--escape-link:before,.narrasys .searchResults .item__link--fake-link:before,.narrasys .searchResults .item__title--link:before{color:#4d4d4d}.narrasys .item__title{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .item__title--file a,.narrasys .item__title--link a{color:#de6626}.narrasys .item__link--fake-link{font-family:Gotham Thin,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .item__text{font-family:Gotham Thin,sans-serif;color:#4d4d4d}.narrasys .item__text--definition h1,.narrasys .item__text--definition h2,.narrasys .item__text--definition h3,.narrasys .item__text--h2,.narrasys .item__text--transmedia h1,.narrasys .item__text--transmedia h2,.narrasys .item__text--transmedia h3{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .item .item__text--pullquote{font-family:Gotham Light Italic,sans-serif;color:#4d4d4d}.narrasys .item .item__text--pullquote:before{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#de6625}.narrasys .item__text--image-caption,.narrasys .item__text--image-caption-sliding,.narrasys .item__title--image-caption,.narrasys .item__title--image-caption-sliding{color:#fff}.narrasys .item__link--escape-link{font-family:Gotham Thin,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .item__link--escape-link:before{color:#4d4d4d}.narrasys .item .displayTime,.narrasys .item .startTime{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .item .displayTime:hover,.narrasys .item .startTime:hover{text-decoration:underline}.narrasys .item.colorInvert{background-color:#4d4d4d!important}.narrasys .item.colorInvert .item__link--escape-link,.narrasys .item.colorInvert .item__link--escape-link:before,.narrasys .item.colorInvert .item__text,.narrasys .item.colorInvert .item__text:before,.narrasys .item.colorInvert .item__title a,.narrasys .item.colorInvert .item__title a:before,.narrasys .item.colorInvert a.displayTime.startTime,.narrasys .item.colorInvert a.displayTime.startTime:before,.narrasys .item.colorInvert h1,.narrasys .item.colorInvert h2,.narrasys .item.colorInvert h3{color:#fff!important}.narrasys .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(222,102,37,.6)}.narrasys .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(222,102,37,.6)}.narrasys .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(222,102,37,.6)}.narrasys .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(222,102,37,.3);box-shadow:0 0 8px rgba(222,102,37,.3)}.narrasys .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Gotham Medium;color:#fff;background-color:#de6625;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.narrasys .centered .item__title--file,.narrasys .centered .item__title--link,.narrasys .centered .item__title--link.title--link-embed,.narrasys .centerVV .item__title--file,.narrasys .centerVV .item__title--link,.narrasys .centerVV .item__title--link.title--link-embed,.narrasys .cornerH .item__title--file,.narrasys .cornerH .item__title--link,.narrasys .cornerH .item__title--link.title--link-embed,.narrasys .cornerV .item__title--file,.narrasys .cornerV .item__title--link,.narrasys .cornerV .item__title--link.title--link-embed,.narrasys .onecol .item__title--file,.narrasys .onecol .item__title--link,.narrasys .onecol .item__title--link.title--link-embed,.narrasys .pip .item__title--file,.narrasys .pip .item__title--link,.narrasys .pip .item__title--link.title--link-embed,.narrasys .twocol .item__title--file,.narrasys .twocol .item__title--link,.narrasys .twocol .item__title--link.title--link-embed{font-family:Gotham Thin,sans-serif;color:#4d4d4d}.narrasys .centerVV-mondrian .static-bg__main{border:4px solid #4d4d4d;background-color:#de6625}.narrasys .centerVV-mondrian .altPane{background-color:transparent}.narrasys .centerVV-mondrian .mainPane .item{background-color:#4d4d4d}.narrasys .centerVV-mondrian .mainPane .item__text,.narrasys .centerVV-mondrian .mainPane .item__text--definition h1,.narrasys .centerVV-mondrian .mainPane .item__text--definition h2,.narrasys .centerVV-mondrian .mainPane .item__text--definition h3,.narrasys .centerVV-mondrian .mainPane .item__text--transmedia h1,.narrasys .centerVV-mondrian .mainPane .item__text--transmedia h2,.narrasys .centerVV-mondrian .mainPane .item__text--transmedia h3,.narrasys .centerVV-mondrian .mainPane .item__title,.narrasys .centerVV-mondrian .mainPane .item__title a{color:#fff}.narrasys .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__text,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.narrasys .centerVV-mondrian .mainPane .item.colorInvert h1,.narrasys .centerVV-mondrian .mainPane .item.colorInvert h2,.narrasys .centerVV-mondrian .mainPane .item.colorInvert h3{color:#4d4d4d!important}.narrasys .centerVV-mondrian .item__title--image,.narrasys .centerVV-mondrian .item__title--image-thumbnail,.narrasys .centerVV-mondrian .item__title--image-thumbnail a,.narrasys .centerVV-mondrian .item__title--image a,.narrasys .centerVV-mondrian .item__title--link,.narrasys .centerVV-mondrian .item__title--link a{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .centerVV-mondrian .item__link--fake-link{color:#fff}.narrasys .centerVV-mondrian .item__link--escape-link{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#fff}.narrasys .centerVV-mondrian .item__link--escape-link:before{color:#de6625}.narrasys .centerVV-mondrian .item .displayTime,.narrasys .centerVV-mondrian .item .startTime{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#fff}.narrasys .centerVV-mondrian .item .displayTime a,.narrasys .centerVV-mondrian .item .startTime a{text-decoration:underline}.career-playbook{background-image:url("+i("p3Yx")+")}.career-playbook .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Lato;color:#fff;background-color:#00acee;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.career-playbook .landingscreen .introtext{padding-bottom:2em}.career-playbook .landingscreen #episode--description{display:none}.career-playbook .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Lato;color:#fff;background-color:#00acee;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.career-playbook .searchPanel__wrapper{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d}.career-playbook .searchPanel__wrapper .fake-link--search-results{color:#00acee}.career-playbook .searchResults{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .searchResults .item__link--escape-link,.career-playbook .searchResults .item__link--fake-link,.career-playbook .searchResults .item__title--link{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d;color:#00acee}.career-playbook .searchResults .item__link--escape-link:before,.career-playbook .searchResults .item__link--fake-link:before,.career-playbook .searchResults .item__title--link:before{color:#4d4d4d}.career-playbook .item__title{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .item__title--file a,.career-playbook .item__title--link a{color:#00acee}.career-playbook .item__link--fake-link{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d;color:#00acee}.career-playbook .item__text{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d}.career-playbook .item__text--definition h1,.career-playbook .item__text--definition h2,.career-playbook .item__text--definition h3,.career-playbook .item__text--h2,.career-playbook .item__text--transmedia h1,.career-playbook .item__text--transmedia h2,.career-playbook .item__text--transmedia h3{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .item .item__text--pullquote{font-family:Lato,sans-serif;font-weight:300;font-style:italic;color:#4d4d4d}.career-playbook .item .item__text--pullquote:before{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#00acee}.career-playbook .item__text--image-caption,.career-playbook .item__text--image-caption-sliding,.career-playbook .item__title--image-caption,.career-playbook .item__title--image-caption-sliding{color:#fff}.career-playbook .item__link--escape-link{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d;color:#00acee}.career-playbook .item__link--escape-link:before{color:#4d4d4d}.career-playbook .item .displayTime,.career-playbook .item .startTime{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#00acee}.career-playbook .item .displayTime:hover,.career-playbook .item .startTime:hover{text-decoration:underline}.career-playbook .item.colorInvert{background-color:#4d4d4d!important}.career-playbook .item.colorInvert .item__link--escape-link,.career-playbook .item.colorInvert .item__link--escape-link:before,.career-playbook .item.colorInvert .item__text,.career-playbook .item.colorInvert .item__text:before,.career-playbook .item.colorInvert .item__title a,.career-playbook .item.colorInvert .item__title a:before,.career-playbook .item.colorInvert a.displayTime.startTime,.career-playbook .item.colorInvert a.displayTime.startTime:before,.career-playbook .item.colorInvert h1,.career-playbook .item.colorInvert h2,.career-playbook .item.colorInvert h3{color:#fff!important}.career-playbook .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(0,172,238,.6)}.career-playbook .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(0,172,238,.6)}.career-playbook .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(0,172,238,.6)}.career-playbook .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(0,172,238,.3);box-shadow:0 0 8px rgba(0,172,238,.3)}.career-playbook .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Lato;color:#fff;background-color:#00acee;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.career-playbook .centered .static-bg__main,.career-playbook .centerVV .static-bg__main,.career-playbook .cornerH .static-bg__main,.career-playbook .cornerV .static-bg__main,.career-playbook .onecol .static-bg__main,.career-playbook .pip .static-bg__main,.career-playbook .twocol .static-bg__main{background-image:url("+i("O68L")+")}.career-playbook .centered .static-bg__alt,.career-playbook .centerVV .static-bg__alt,.career-playbook .cornerH .static-bg__alt,.career-playbook .cornerV .static-bg__alt,.career-playbook .onecol .static-bg__alt,.career-playbook .pip .static-bg__alt,.career-playbook .twocol .static-bg__alt{background-image:url("+i("83Nc")+")}.career-playbook .centered .item__title--file,.career-playbook .centered .item__title--link,.career-playbook .centered .item__title--link.title--link-embed,.career-playbook .centerVV .item__title--file,.career-playbook .centerVV .item__title--link,.career-playbook .centerVV .item__title--link.title--link-embed,.career-playbook .cornerH .item__title--file,.career-playbook .cornerH .item__title--link,.career-playbook .cornerH .item__title--link.title--link-embed,.career-playbook .cornerV .item__title--file,.career-playbook .cornerV .item__title--link,.career-playbook .cornerV .item__title--link.title--link-embed,.career-playbook .onecol .item__title--file,.career-playbook .onecol .item__title--link,.career-playbook .onecol .item__title--link.title--link-embed,.career-playbook .pip .item__title--file,.career-playbook .pip .item__title--link,.career-playbook .pip .item__title--link.title--link-embed,.career-playbook .twocol .item__title--file,.career-playbook .twocol .item__title--link,.career-playbook .twocol .item__title--link.title--link-embed{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d}.career-playbook .centerVV-mondrian .static-bg__main{border:4px solid #4d4d4d;background-color:#00acee}.career-playbook .centerVV-mondrian .altPane{background-color:transparent}.career-playbook .centerVV-mondrian .mainPane .item{background-color:#4d4d4d}.career-playbook .centerVV-mondrian .mainPane .item__text,.career-playbook .centerVV-mondrian .mainPane .item__text--definition h1,.career-playbook .centerVV-mondrian .mainPane .item__text--definition h2,.career-playbook .centerVV-mondrian .mainPane .item__text--definition h3,.career-playbook .centerVV-mondrian .mainPane .item__text--transmedia h1,.career-playbook .centerVV-mondrian .mainPane .item__text--transmedia h2,.career-playbook .centerVV-mondrian .mainPane .item__text--transmedia h3,.career-playbook .centerVV-mondrian .mainPane .item__title,.career-playbook .centerVV-mondrian .mainPane .item__title a{color:#fff}.career-playbook .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__text,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert h1,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert h2,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert h3{color:#4d4d4d!important}.career-playbook .centerVV-mondrian .item__title--image,.career-playbook .centerVV-mondrian .item__title--image-thumbnail,.career-playbook .centerVV-mondrian .item__title--image-thumbnail a,.career-playbook .centerVV-mondrian .item__title--image a,.career-playbook .centerVV-mondrian .item__title--link,.career-playbook .centerVV-mondrian .item__title--link a{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .centerVV-mondrian .item__link--fake-link{color:#fff}.career-playbook .centerVV-mondrian .item__link--escape-link{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#fff}.career-playbook .centerVV-mondrian .item__link--escape-link:before{color:#00acee}.career-playbook .centerVV-mondrian .item .displayTime,.career-playbook .centerVV-mondrian .item .startTime{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#fff}.career-playbook .centerVV-mondrian .item .displayTime a,.career-playbook .centerVV-mondrian .item .startTime a{text-decoration:underline}.george-washington .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Helvetica;color:#fff;background-color:#004065;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.george-washington .landingscreen .introtext{padding-bottom:2em}.george-washington .landingscreen #episode--description{display:none}.george-washington .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Helvetica;color:#fff;background-color:#004065;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.george-washington .searchPanel__wrapper{font-family:Helvetica,sans-serif;font-weight:300;color:#000}.george-washington .searchPanel__wrapper .fake-link--search-results{color:#004065}.george-washington .searchResults{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .searchResults .item__link--escape-link,.george-washington .searchResults .item__link--fake-link,.george-washington .searchResults .item__title--link{font-family:Helvetica,sans-serif;font-weight:300;color:#000;color:#004065}.george-washington .searchResults .item__link--escape-link:before,.george-washington .searchResults .item__link--fake-link:before,.george-washington .searchResults .item__title--link:before{color:#000}.george-washington .item__title{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .item__title--file a,.george-washington .item__title--link a{color:#004065}.george-washington .item__link--fake-link{font-family:Helvetica,sans-serif;font-weight:300;color:#000;color:#004065}.george-washington .item__text{font-family:Helvetica,sans-serif;font-weight:300;color:#000}.george-washington .item__text--definition h1,.george-washington .item__text--definition h2,.george-washington .item__text--definition h3,.george-washington .item__text--h2,.george-washington .item__text--transmedia h1,.george-washington .item__text--transmedia h2,.george-washington .item__text--transmedia h3{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .item .item__text--pullquote{font-family:Cardo,serif;font-weight:300;color:#000}.george-washington .item .item__text--pullquote:before{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#004065}.george-washington .item__text--image-caption,.george-washington .item__text--image-caption-sliding,.george-washington .item__title--image-caption,.george-washington .item__title--image-caption-sliding{color:#fff}.george-washington .item__link--escape-link{font-family:Helvetica,sans-serif;font-weight:300;color:#000;color:#004065}.george-washington .item__link--escape-link:before{color:#000}.george-washington .item .displayTime,.george-washington .item .startTime{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#004065}.george-washington .item .displayTime:hover,.george-washington .item .startTime:hover{text-decoration:underline}.george-washington .item.colorInvert{background-color:#000!important}.george-washington .item.colorInvert .item__link--escape-link,.george-washington .item.colorInvert .item__link--escape-link:before,.george-washington .item.colorInvert .item__text,.george-washington .item.colorInvert .item__text:before,.george-washington .item.colorInvert .item__title a,.george-washington .item.colorInvert .item__title a:before,.george-washington .item.colorInvert a.displayTime.startTime,.george-washington .item.colorInvert a.displayTime.startTime:before,.george-washington .item.colorInvert h1,.george-washington .item.colorInvert h2,.george-washington .item.colorInvert h3{color:#fff!important}.george-washington .content.allowHighlights .highlightSolid.item.isCurrent{background-color:hsla(37,36%,66%,.6)}.george-washington .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid hsla(37,36%,66%,.6)}.george-washington .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid hsla(37,36%,66%,.6)}.george-washington .content.allowHighlights .highlightBloom.item.isCurrent{background-color:hsla(37,36%,66%,.3);box-shadow:0 0 8px hsla(37,36%,66%,.3)}.george-washington .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Helvetica;color:#fff;background-color:#004065;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.george-washington .centered .item__title--file,.george-washington .centered .item__title--link,.george-washington .centered .item__title--link.title--link-embed,.george-washington .centerVV .item__title--file,.george-washington .centerVV .item__title--link,.george-washington .centerVV .item__title--link.title--link-embed,.george-washington .cornerH .item__title--file,.george-washington .cornerH .item__title--link,.george-washington .cornerH .item__title--link.title--link-embed,.george-washington .cornerV .item__title--file,.george-washington .cornerV .item__title--link,.george-washington .cornerV .item__title--link.title--link-embed,.george-washington .onecol .item__title--file,.george-washington .onecol .item__title--link,.george-washington .onecol .item__title--link.title--link-embed,.george-washington .pip .item__title--file,.george-washington .pip .item__title--link,.george-washington .pip .item__title--link.title--link-embed,.george-washington .twocol .item__title--file,.george-washington .twocol .item__title--link,.george-washington .twocol .item__title--link.title--link-embed{font-family:Helvetica,sans-serif;font-weight:300;color:#000}.george-washington .centerVV-mondrian .static-bg__main{border:4px solid #000;background-color:#004065}.george-washington .centerVV-mondrian .altPane{background-color:transparent}.george-washington .centerVV-mondrian .mainPane .item{background-color:#000}.george-washington .centerVV-mondrian .mainPane .item__text,.george-washington .centerVV-mondrian .mainPane .item__text--definition h1,.george-washington .centerVV-mondrian .mainPane .item__text--definition h2,.george-washington .centerVV-mondrian .mainPane .item__text--definition h3,.george-washington .centerVV-mondrian .mainPane .item__text--transmedia h1,.george-washington .centerVV-mondrian .mainPane .item__text--transmedia h2,.george-washington .centerVV-mondrian .mainPane .item__text--transmedia h3,.george-washington .centerVV-mondrian .mainPane .item__title,.george-washington .centerVV-mondrian .mainPane .item__title a{color:#fff}.george-washington .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__text,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.george-washington .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.george-washington .centerVV-mondrian .mainPane .item.colorInvert h1,.george-washington .centerVV-mondrian .mainPane .item.colorInvert h2,.george-washington .centerVV-mondrian .mainPane .item.colorInvert h3{color:#000!important}.george-washington .centerVV-mondrian .item__title--image,.george-washington .centerVV-mondrian .item__title--image-thumbnail,.george-washington .centerVV-mondrian .item__title--image-thumbnail a,.george-washington .centerVV-mondrian .item__title--image a,.george-washington .centerVV-mondrian .item__title--link,.george-washington .centerVV-mondrian .item__title--link a{font-family:Helvetica,sans-serif;font-weight:700;color:#000}.george-washington .centerVV-mondrian .item__link--fake-link{color:#fff}.george-washington .centerVV-mondrian .item__link--escape-link{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#fff}.george-washington .centerVV-mondrian .item__link--escape-link:before{color:#004065}.george-washington .centerVV-mondrian .item .displayTime,.george-washington .centerVV-mondrian .item .startTime{font-family:Helvetica,sans-serif;font-weight:700;color:#000;color:#fff}.george-washington .centerVV-mondrian .item .displayTime a,.george-washington .centerVV-mondrian .item .startTime a{text-decoration:underline}.unbranded .landingscreen{padding:10% 15%}.unbranded .landingscreen div{display:block}.unbranded .landingscreen p{margin:2em 0 1em}.unbranded .landingscreen .introtext{width:45%;float:right}.unbranded .landingscreen .videoMagnet{width:50%;float:left}@media screen and (max-width:501px){.unbranded .landingscreen div{display:block}.unbranded .landingscreen h1{font-size:24px}.unbranded .landingscreen p{margin:1em 0}.unbranded .landingscreen .introtext{width:100%;float:none;margin:0}.unbranded .landingscreen .videoMagnet{width:100%;float:none}}.unbranded .professional__branding{width:100%;height:210px;background:linear-gradient(rgba(0,0,0,.05),rgba(0,0,0,.25));position:relative;color:#fff;padding:10px}.unbranded .professional__branding .professional__copyright{text-shadow:1px 1px 0 rgba(0,0,0,.3);color:#fff}.unbranded .professional__branding .professional__copyright a{color:#fff;text-decoration:underline}.unbranded .altPane{background-color:rgba(0,0,0,.05)}.unbranded .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Open Sans;color:#fff;background-color:#ccc;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.unbranded .searchPanel__wrapper{font-family:Open Sans,sans-serif;font-weight:400;color:#000}.unbranded .searchPanel__wrapper .fake-link--search-results{color:#00c}.unbranded .searchResults{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .searchResults .item__link--escape-link,.unbranded .searchResults .item__link--fake-link,.unbranded .searchResults .item__title--link{font-family:Open Sans,sans-serif;font-weight:400;color:#000;color:#00c}.unbranded .searchResults .item__link--escape-link:before,.unbranded .searchResults .item__link--fake-link:before,.unbranded .searchResults .item__title--link:before{color:#000}.unbranded .item__title{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .item__title--file a,.unbranded .item__title--link a{color:#00c}.unbranded .item__link--fake-link{font-family:Open Sans,sans-serif;font-weight:400;color:#000;color:#00c}.unbranded .item__text{font-family:Open Sans,sans-serif;font-weight:400;color:#000}.unbranded .item__text--definition h1,.unbranded .item__text--definition h2,.unbranded .item__text--definition h3,.unbranded .item__text--h2,.unbranded .item__text--transmedia h1,.unbranded .item__text--transmedia h2,.unbranded .item__text--transmedia h3{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .item .item__text--pullquote{font-family:Droid Serif,serif;font-weight:400;color:#000}.unbranded .item .item__text--pullquote:before{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#ccc}.unbranded .item__text--image-caption,.unbranded .item__text--image-caption-sliding,.unbranded .item__title--image-caption,.unbranded .item__title--image-caption-sliding{color:#ddd}.unbranded .item__link--escape-link{font-family:Open Sans,sans-serif;font-weight:400;color:#000;color:#00c}.unbranded .item__link--escape-link:before{color:#000}.unbranded .item .displayTime,.unbranded .item .startTime{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#00c}.unbranded .item .displayTime:hover,.unbranded .item .startTime:hover{text-decoration:underline}.unbranded .item.colorInvert{background-color:#000!important}.unbranded .item.colorInvert .item__link--escape-link,.unbranded .item.colorInvert .item__link--escape-link:before,.unbranded .item.colorInvert .item__text,.unbranded .item.colorInvert .item__text:before,.unbranded .item.colorInvert .item__title a,.unbranded .item.colorInvert .item__title a:before,.unbranded .item.colorInvert a.displayTime.startTime,.unbranded .item.colorInvert a.displayTime.startTime:before,.unbranded .item.colorInvert h1,.unbranded .item.colorInvert h2,.unbranded .item.colorInvert h3{color:#ddd!important}.unbranded .content.allowHighlights .highlightSolid.item.isCurrent{background-color:hsla(0,0%,80%,.6)}.unbranded .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid hsla(0,0%,80%,.6)}.unbranded .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid hsla(0,0%,80%,.6)}.unbranded .content.allowHighlights .highlightBloom.item.isCurrent{background-color:hsla(0,0%,80%,.3);box-shadow:0 0 8px hsla(0,0%,80%,.3)}.unbranded .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Open Sans;color:#fff;background-color:#ccc;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.unbranded .centered .item__title--file,.unbranded .centered .item__title--link,.unbranded .centered .item__title--link.title--link-embed,.unbranded .centerVV .item__title--file,.unbranded .centerVV .item__title--link,.unbranded .centerVV .item__title--link.title--link-embed,.unbranded .cornerH .item__title--file,.unbranded .cornerH .item__title--link,.unbranded .cornerH .item__title--link.title--link-embed,.unbranded .cornerV .item__title--file,.unbranded .cornerV .item__title--link,.unbranded .cornerV .item__title--link.title--link-embed,.unbranded .onecol .item__title--file,.unbranded .onecol .item__title--link,.unbranded .onecol .item__title--link.title--link-embed,.unbranded .pip .item__title--file,.unbranded .pip .item__title--link,.unbranded .pip .item__title--link.title--link-embed,.unbranded .twocol .item__title--file,.unbranded .twocol .item__title--link,.unbranded .twocol .item__title--link.title--link-embed{font-family:Open Sans,sans-serif;font-weight:400;color:#000}.unbranded .centerVV-mondrian .static-bg__main{border:4px solid #000;background-color:#ccc}.unbranded .centerVV-mondrian .altPane{background-color:transparent}.unbranded .centerVV-mondrian .mainPane .item{background-color:#000}.unbranded .centerVV-mondrian .mainPane .item__text,.unbranded .centerVV-mondrian .mainPane .item__text--definition h1,.unbranded .centerVV-mondrian .mainPane .item__text--definition h2,.unbranded .centerVV-mondrian .mainPane .item__text--definition h3,.unbranded .centerVV-mondrian .mainPane .item__text--transmedia h1,.unbranded .centerVV-mondrian .mainPane .item__text--transmedia h2,.unbranded .centerVV-mondrian .mainPane .item__text--transmedia h3,.unbranded .centerVV-mondrian .mainPane .item__title,.unbranded .centerVV-mondrian .mainPane .item__title a{color:#ddd}.unbranded .centerVV-mondrian .mainPane .item.colorInvert{background-color:#ddd!important}.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__text,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.unbranded .centerVV-mondrian .mainPane .item.colorInvert h1,.unbranded .centerVV-mondrian .mainPane .item.colorInvert h2,.unbranded .centerVV-mondrian .mainPane .item.colorInvert h3{color:#000!important}.unbranded .centerVV-mondrian .item__title--image,.unbranded .centerVV-mondrian .item__title--image-thumbnail,.unbranded .centerVV-mondrian .item__title--image-thumbnail a,.unbranded .centerVV-mondrian .item__title--image a,.unbranded .centerVV-mondrian .item__title--link,.unbranded .centerVV-mondrian .item__title--link a{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .centerVV-mondrian .item__link--fake-link{color:#ddd}.unbranded .centerVV-mondrian .item__link--escape-link{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#ddd}.unbranded .centerVV-mondrian .item__link--escape-link:before{color:#ccc}.unbranded .centerVV-mondrian .item .displayTime,.unbranded .centerVV-mondrian .item .startTime{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#ddd}.unbranded .centerVV-mondrian .item .displayTime a,.unbranded .centerVV-mondrian .item .startTime a{text-decoration:underline}.university-arizona{background-image:url("+i("HxtV")+")}.university-arizona .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Noto Sans;color:#fff;background-color:#ab0520;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.university-arizona .landingscreen .introtext{padding-bottom:2em}.university-arizona .landingscreen #episode--description{display:none}.university-arizona .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Noto Sans;color:#fff;background-color:#ab0520;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.university-arizona .searchPanel__wrapper{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b}.university-arizona .searchPanel__wrapper .fake-link--search-results{color:#ab0520}.university-arizona .searchResults{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .searchResults .item__link--escape-link,.university-arizona .searchResults .item__link--fake-link,.university-arizona .searchResults .item__title--link{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b;color:#ab0520}.university-arizona .searchResults .item__link--escape-link:before,.university-arizona .searchResults .item__link--fake-link:before,.university-arizona .searchResults .item__title--link:before{color:#072d5b}.university-arizona .item__title{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .item__title--file a,.university-arizona .item__title--link a{color:#ab0520}.university-arizona .item__link--fake-link{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b;color:#ab0520}.university-arizona .item__text{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b}.university-arizona .item__text--definition h1,.university-arizona .item__text--definition h2,.university-arizona .item__text--definition h3,.university-arizona .item__text--h2,.university-arizona .item__text--transmedia h1,.university-arizona .item__text--transmedia h2,.university-arizona .item__text--transmedia h3{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .item .item__text--pullquote{font-family:Amiri,serif;font-weight:300;color:#072d5b}.university-arizona .item .item__text--pullquote:before{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#ab0520}.university-arizona .item__text--image-caption,.university-arizona .item__text--image-caption-sliding,.university-arizona .item__title--image-caption,.university-arizona .item__title--image-caption-sliding{color:#fff}.university-arizona .item__link--escape-link{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b;color:#ab0520}.university-arizona .item__link--escape-link:before{color:#072d5b}.university-arizona .item .displayTime,.university-arizona .item .startTime{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#ab0520}.university-arizona .item .displayTime:hover,.university-arizona .item .startTime:hover{text-decoration:underline}.university-arizona .item.colorInvert{background-color:#072d5b!important}.university-arizona .item.colorInvert .item__link--escape-link,.university-arizona .item.colorInvert .item__link--escape-link:before,.university-arizona .item.colorInvert .item__text,.university-arizona .item.colorInvert .item__text:before,.university-arizona .item.colorInvert .item__title a,.university-arizona .item.colorInvert .item__title a:before,.university-arizona .item.colorInvert a.displayTime.startTime,.university-arizona .item.colorInvert a.displayTime.startTime:before,.university-arizona .item.colorInvert h1,.university-arizona .item.colorInvert h2,.university-arizona .item.colorInvert h3{color:#fff!important}.university-arizona .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(171,5,32,.6)}.university-arizona .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(171,5,32,.6)}.university-arizona .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(171,5,32,.6)}.university-arizona .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(171,5,32,.3);box-shadow:0 0 8px rgba(171,5,32,.3)}.university-arizona .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Noto Sans;color:#fff;background-color:#ab0520;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.university-arizona .centered .item__title--file,.university-arizona .centered .item__title--link,.university-arizona .centered .item__title--link.title--link-embed,.university-arizona .centerVV .item__title--file,.university-arizona .centerVV .item__title--link,.university-arizona .centerVV .item__title--link.title--link-embed,.university-arizona .cornerH .item__title--file,.university-arizona .cornerH .item__title--link,.university-arizona .cornerH .item__title--link.title--link-embed,.university-arizona .cornerV .item__title--file,.university-arizona .cornerV .item__title--link,.university-arizona .cornerV .item__title--link.title--link-embed,.university-arizona .onecol .item__title--file,.university-arizona .onecol .item__title--link,.university-arizona .onecol .item__title--link.title--link-embed,.university-arizona .pip .item__title--file,.university-arizona .pip .item__title--link,.university-arizona .pip .item__title--link.title--link-embed,.university-arizona .twocol .item__title--file,.university-arizona .twocol .item__title--link,.university-arizona .twocol .item__title--link.title--link-embed{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b}.university-arizona .centerVV-mondrian .static-bg__main{border:4px solid #072d5b;background-color:#ab0520}.university-arizona .centerVV-mondrian .altPane{background-color:transparent}.university-arizona .centerVV-mondrian .mainPane .item{background-color:#072d5b}.university-arizona .centerVV-mondrian .mainPane .item__text,.university-arizona .centerVV-mondrian .mainPane .item__text--definition h1,.university-arizona .centerVV-mondrian .mainPane .item__text--definition h2,.university-arizona .centerVV-mondrian .mainPane .item__text--definition h3,.university-arizona .centerVV-mondrian .mainPane .item__text--transmedia h1,.university-arizona .centerVV-mondrian .mainPane .item__text--transmedia h2,.university-arizona .centerVV-mondrian .mainPane .item__text--transmedia h3,.university-arizona .centerVV-mondrian .mainPane .item__title,.university-arizona .centerVV-mondrian .mainPane .item__title a{color:#fff}.university-arizona .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__text,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert h1,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert h2,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert h3{color:#072d5b!important}.university-arizona .centerVV-mondrian .item__title--image,.university-arizona .centerVV-mondrian .item__title--image-thumbnail,.university-arizona .centerVV-mondrian .item__title--image-thumbnail a,.university-arizona .centerVV-mondrian .item__title--image a,.university-arizona .centerVV-mondrian .item__title--link,.university-arizona .centerVV-mondrian .item__title--link a{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .centerVV-mondrian .item__link--fake-link{color:#fff}.university-arizona .centerVV-mondrian .item__link--escape-link{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#fff}.university-arizona .centerVV-mondrian .item__link--escape-link:before{color:#ab0520}.university-arizona .centerVV-mondrian .item .displayTime,.university-arizona .centerVV-mondrian .item .startTime{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#fff}.university-arizona .centerVV-mondrian .item .displayTime a,.university-arizona .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},"8UQ/":function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".control-text{clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.timeline{position:relative}.timeline a{color:#000;cursor:pointer;cursor:hand}.progressbarBox{margin:0 1em 0 4em;position:relative}.pbarBottom,.pbarTop{margin:.2em 2em;height:1.5em;line-height:1.5em;clear:both;text-align:right}.pbarMain{height:1em}.progressbarBox .button{display:inline-block;height:1.2em;min-width:1em;overflow:hidden}.pbarBottom .button{padding-right:1em}.timedisplay{float:left;font-size:.8em;margin-top:-.4em}.progressbar{position:absolute;left:2em;right:2em;box-shadow:inset 4px 3px 8px rgba(0,0,0,.2);width:auto;height:1em;background-color:rgba(0,0,0,.2);user-select:none}.progressbar .mask{height:1em;overflow:hidden;position:absolute;width:100%}.progressbarContainer{position:absolute;height:1em;width:100%;pointer-events:none}.progressbar .buffered,.progressbar .handle,.progressbar .marker,.progressbar .played{position:absolute;height:1em;cursor:default}.progressbar .buffered{background-color:#fff;opacity:.4}.progressbar .played{background:#8db9d4 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAALklEQVQYGWP4//+/DwMU4GKDpXFJIosTVoisGhebsClQ9xJWiMsKZHHCphBrHQDRYVi0zUYEIwAAAABJRU5ErkJggg==) repeat;box-shadow:inset 4px 2px 4px rgba(0,0,0,.15);border-right:2px solid #527890}.progressbar .buffered{background:hsla(0,0%,100%,.6);border-radius:0 .5em .5em 0}.progressbar .handle{border-left:2px solid #000;height:1.2em;margin-top:-.1em;margin-bottom:.1em;width:1px;pointer-events:auto}.progressbar .handle.sxsHandle{margin-left:-2px;height:1.3em;margin-top:-.2em;border:2px solid #333}.progressbar .sxsHandle .tip{border:2px solid #333;padding:1px;border-radius:6px;background-color:hsla(0,0%,100%,.5);margin-top:-1em;font-size:11px!important;background:url("+i("7EQ+")+') 50% 50% no-repeat;box-shadow:2px 2px 4px rgba(0,0,0,.2)}.progressbar .marker{font-size:.7em;line-height:1.4em;width:1em;margin-left:-.5em;pointer-events:auto}.progressbar .marker.stop{border-left:1px solid #000;height:15px;margin-left:0}.progressbar .marker.stop:before{content:""}.progressbar .marker.mini{font-size:.5em;line-height:2em;opacity:.5}.progressbar .marker.multi:before,.progressbar .marker:before{content:"\\E007";font-family:Story;position:absolute}.progressbar .marker.multi:before{right:5px}.progressbar .marker.multi{border-left:1px solid #000;height:15px}.timeline .tooltip{position:absolute;width:250px;margin-left:-125px;bottom:1.5em;text-align:center;background:#404040;border:2px solid #000;color:#fff;border-radius:.5em}.timeline .tooltip:after,.timeline .tooltip:before{top:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.timeline .tooltip:after{border-color:rgba(64,64,64,0);border-top-color:#404040;border-width:6px;margin-left:-6px}.timeline .tooltip:before{border-color:transparent;border-top-color:#000;border-width:9px;margin-left:-9px}.timeline .sceneMenuTooltip.tooltip{left:85px;bottom:53px;width:175px}.timeline .handle .tip{font-size:smaller;top:-1em;position:absolute;width:50px;margin-left:-25px;text-align:center}.timeline .button-next,.timeline .button-prev{width:1.5em;font-size:1.3em;margin-top:-.15em;height:1em}.button-scenemenu{background-color:#ccc;border-radius:.5em 0 0 .5em;height:1em;width:2em}.timeline .button-prev{position:absolute;left:0}.timeline .button-next{position:absolute;right:0;text-align:right}.button-scenemenu{position:absolute;left:2em}.button-prev:before{content:"\\E608";font-family:Story}.button-next:before{font-family:Story;content:"\\E607"}.button-scenemenu:before{content:"\\E60B";font-family:Story;font-size:.6em;position:absolute;top:30%}.button-pause,.button-play{position:absolute;cursor:pointer;font-size:2em;height:2.2em;line-height:2.2em;left:.5em;bottom:0}.button-play:before{font-family:Story;content:"\\E001"}.button-pause:before{font-family:Story;content:"\\E002"}.button-mute{padding-right:0!important}.button-mute.muted:before{font-family:Story;content:"\\E003"}.button-mute.vol0:before{font-family:Story;content:"\\E004"}.button-mute.vol1:before{font-family:Story;content:"\\E005"}.button-mute.vol2:before{font-family:Story;content:"\\E006"}.button-captions{padding-right:.5em}.button-captions:before{font-family:Story;content:"\\E008";color:#ccc}.button-captions.active:before{color:#000}.button-fullscreen{padding-right:.5em}.button-fullscreen:before{font-family:Story;content:"\\E60C"}.button-fullscreen.active:before{content:"\\E60D"}.button-zoomin,.button-zoomout{height:1em;overflow:hidden;display:inline-block}.button-zoomout:before{font-family:Story;content:"\\E613"}.button-zoomin:before{font-family:Story;content:"\\E612"}.volumebar{position:relative;display:inline-block;box-shadow:inset 4px 3px 8px rgba(0,0,0,.2);border-radius:.5em;width:4em;height:.5em;margin:.25em 0 .25em .5em;background-color:rgba(0,0,0,.2);user-select:none;overflow:hidden}.volumebar .volume{position:absolute;height:1em;background:#555 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAP0lEQVQIHWWMAQoAIAgDR/QJ/Ub//04+w7ZICBwcOg5FZi5iBB82AGzixEglJrd4TVK5XUJpskSTEvpdFzX9AB2pGziSQcvAAAAAAElFTkSuQmCC) -50% 0 repeat}.pbarBottom .screen-reader-offscreen{position:absolute;left:-999px;width:1px;height:1px;top:auto}.speedcontrol{margin-left:1em;display:inline}.button-speedcontrol{width:1em;display:inline-block}.button-speedcontrol div,.speeddisplay{display:inline-block}.speeddisplay{width:1.75em;cursor:pointer}.arrowLeft,.arrowRight{width:0;height:0;border-top:.4em solid transparent;border-bottom:.4em solid transparent}.arrowLeft{border-right:.4em solid #000}.arrowRight{border-left:.4em solid #000}.languageSelector{border:0;position:absolute;top:0;right:0}',""])},"8Vj+":function(e,t,i){"use strict";function n(e){return{link:function(t,i){e(function(){"TEXTAREA"===i[0].tagName||"INPUT"===i[0].tagName?i[0].focus():i.find("input,textarea")[0].focus()})}}}t.a=n,n.$inject=["$timeout"]},"8fXl":function(e,t){var i="templates/item/image-inline.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class=touchable> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <div class=clear></div> </div> ')}]),e.exports=i},"8kF3":function(e,t,i){var n=i("oZrc");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"9Qqj":function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Highlight<span ng-if="episode"> Style</spann></div>','\t<div class="input">','\t\t<select size="1" ng-model="itemForm.highlight">','\t\t\t<option ng-if="episode" value="">(Default)</option>','\t\t\t<option ng-if="item._type === \'Scene\'" value="">(Inherit from episode)</option>','\t\t\t<option ng-if="item._type !== \'Scene\' && !episode" value="">(Inherit from layout)</option>','\t\t\t<option value="None">No highlight</option>','\t\t\t<option value="Solid">Solid</option>','\t\t\t<option value="Border">Border</option>','\t\t\t<option value="Side">Side</option>','\t\t\t<option value="Bloom">Translucent</option>','\t\t\t<option value="Tilt">Tilt</option>',"\t\t</select>","\t</div>","</div>"].join(" ")}}t.a=n},"9Z/6":function(e,t,i){"use strict";function n(e,t,i){return{templateUrl:"templates/producer/inputi18n.html",scope:{field:"=sxsInputI18n",inputtype:"=inputtype",doValidate:"=",onEmitName:"&"},link:function(n,a,o){n.field||(n.field={en:""}),n.appState=t,n.textangularname="ta"+(new Date).getUTCMilliseconds()+"y"+Math.random().toString(16),n.onEmitName({$taName:n.textangularname}),"textarea"===n.inputtype&&(e(function(){if(void 0!==o.autofocus){i.retrieveEditor(n.textangularname).scope.displayElements.text.trigger("focus")}}),n.trim=function(){var e=n.field[t.lang];e&&(console.log("BEFORE",e),e=e.replace(/<br\/>/g,"<br>"),e=e.replace(/<div>/g,"<br>"),e=e.replace(/<\/?(span|div)>/g,""),e=e.replace(/(<br>)*$/,""),console.log("AFTER",e),n.field[t.lang]=e)},n.sanitizePastedHtml=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent})}}}t.a=n,n.$inject=["$timeout","appState","textAngularManager"]},"9ij1":function(e,t){var i="templates/timeline-story.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=timeline ng-show=!isSuppressed ng-cloak> <button tabindex=0 ng-focus=showControls() class=button ng-class=setBtnClass() ng-click=timelineBtnClick()> <span class=control-text>{{controlText}}</span> </button> <div class=progressbarBox> <div class=pbarTop> <span ng-if="appState.product == \'producer\'"> <a class="button button-zoomout" ng-if="zoomLevel != 1" ng-click=zoomOut()> <span class=control-text>Zoom out</span> </a> <small ng-if="zoomLevel != 1">Zoom: {{zoomLevel*100}}%</small> <a class="button button-zoomin" ng-click=zoomIn()> <span class=control-text>Zoom in</span> </a> </span> </div> <div class=pbarMain> <button ng-focus=showControls() ng-class="{invisible: playbackService.getMetaProp(\'time\') == 0}" class="button button-prev" ng-click=prevScene()> <span class=control-text>Previous</span> </button> <button ng-focus=showControls() tabindex=0 ng-class="{invisible: playbackService.getMetaProp(\'time\')>= playbackService.getMetaProp(\'duration\')- 0.1}" class="button button-next" ng-click=nextScene()> <span class=control-text>Next</span> </button> <div class=progressbar> <div class=mask> <div class=progressbarContainer style=width:{};> <div class=buffered ng-style="{width: playbackService.getMetaProp(\'bufferedPercent\')+\'%\'}"></div> <div class=played ng-style="{width: markerPercent(playbackService.getMetaProp(\'time\'))+\'%\'}"></div> </div> </div> <div class=progressbarContainer style=width:{};> <div class=handle ng-show=isSeeking ng-style="{left: markerPercent(willSeekTo)+\'%\'}"> <div class=tip ng-show=seekHandleVisible>{{willSeekTo | asTime}}</div> </div> <div class=tooltip ng-if=eventGroup.showTooltip ng-repeat="eventGroup in timeline.displayMarkedEvents" ng-style="{left: markerPercent(eventGroup.start_time)+\'%\'}"> <span class=content>{{eventGroup.toolTipText}}</span> </div> <div class="handle sxsHandle playhead" ng-show=appState.editEvent ng-style="{left: markerPercent(appState.editEvent.start_time)+\'%\'}"> <div class=tip ng-click="">{{appState.editEvent.start_time | asTime}}</div> </div> </div> <div class="playhead mask"> <div class=progressbarContainer ng-style="{width: zoomLevel+\'00%\'}"> <div class=marker ng-mouseover=showTooltip(eventGroup) ng-mouseout=hideTooltip(eventGroup) ng-repeat="eventGroup in timeline.displayMarkedEvents" ng-style="{left: markerPercent(eventGroup.start_time)+\'%\'}" ng-if="eventGroup.stop || eventGroup.toolTipText || appState.product == \'producer\' && eventGroup.toolTipText != null" ng-class="{stop: eventGroup.stop && !eventGroup.multiStop, mini: eventGroup.layoutChange, multi: eventGroup.multiStop}"> </div> <div ng-if=appState.editEvent class=editingItem ng-style="{left: markerPercent(appState.editEvent.start_time)+\'%\', right: markerPercent(playbackService.getMetaProp(\'duration\') - appState.editEvent.end_time)+\'%\'}"></div> </div> </div> </div> </div> <div class=pbarBottom> <span class=timedisplay> {{playbackService.getMetaProp(\'time\')| asTime}} / {{playbackService.getMetaProp(\'duration\') | asTime}} <span class=speedcontrol> <button ng-focus=showControls() class=button-speedcontrol ng-click=changeSpeed(-0.25) aria-label="Slow down video"> <div ng-class="{arrowLeft: playbackService.getMetaProp(\'timeMultiplier\') > 0.5}"></div> </button> <span class=speeddisplay ng-click=resetSpeed()>{{playbackService.getMetaProp(\'timeMultiplier\')}}x</span> <button ng-focus=showControls() class=button-speedcontrol ng-click=changeSpeed(0.25) aria-label="Speed up video"> <div ng-class="{arrowRight: playbackService.getMetaProp(\'timeMultiplier\') < 2}"></div> </button> </span> </span> <span style=display:inline-block;height:1em;position:relative ng-if="episode.languages.length > 1"> <select size=1 ng-model=appState.lang class=languageSelector ng-change=setNewLanguage() ng-options="language.code as (\'[\'+language.code.toUpperCase()+\']\') for language in episode.languages"> </select> </span> <button ng-focus=showControls() tabindex=0 ng-if="appState.viewMode == \'watch\'" class="button button-captions" ng-click="appState.hideCaptions=!appState.hideCaptions" ng-class="{active: !appState.hideCaptions}"> <span class=control-text>Captions</span> </button> <a ng-if="appState.viewMode==\'watch\'" class="button button-fullscreen active" ng-click="viewMode(\'discover\')"> <span class=control-text>Exit fullscreen</span> </a> <a ng-if="appState.viewMode!=\'watch\'" class="button button-fullscreen" ng-click="viewMode(\'watch\')"> <span class=control-text>Fullscreen video</span> </a> <span ng-if=!appState.isTouchDevice> <button ng-focus=showControls() tabindex=0 class="button button-mute {{audioIcon()}}" ng-click=toggleMute()> <span class=control-text>Mute</span> </button> <itt-volume-slider></itt-volume-slider> </span> </div> </div> </div> ')}]),e.exports=i},"9kaM":function(e,t,i){function n(e){return i(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./_career-playbook.scss":"zlnO","./_field-pros.scss":"ylp1","./_george-washington.scss":"pkAb","./_helpers.scss":"EYfB","./_narrasys.scss":"Beqr","./_unbranded.scss":"wQCO","./_university-arizona.scss":"S82Z","./admin.scss":"8kF3","./angular-ui-tree.scss":"x/xr","./colors.scss":"qJyT","./episode.scss":"Mj5z","./highlights.scss":"rBD9","./item.scss":"5Pym","./main.scss":"/Vo5","./narrative.scss":"yexq","./producer.scss":"v35d","./scene.scss":"Ge34","./textangular.scss":"tChN","./timeline.scss":"/J5y","./toolbar.scss":"1Bkj","./transitions.scss":"WM/Z","./typography.scss":"45nB"};n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id="9kaM"},"9vsO":function(e,t,i){var n="templates/episode/columbia.html",a='<div class="episode episode-columbia" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("AiMV")+' alt="Columbia University"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},ACpg:function(e,t,i){"use strict";function n(e,t,i,n){e.sortBy="startTime",e.toggleSortBy=function(t){e.sortBy=a(t),n.autoscroll="startTime"===e.sortBy},e.getToggledValue=function(e){return a(e)};var a=function(e){return"startTime"===e?"type":"startTime"};e.getFriendlySortText=function(e){return"startTime"===e?"time":"type"},e.indexed=!1,e.indexEvents=function(){if(!e.episode.items)return i(function(){e.indexEvents()},300),!1;e.indexed=!0,e.typeCategories=["transcript","annotation","file","image","link","video","question","other"],e.showTypes={transcript:{name:"Transcript",items:[]},annotation:{name:"Annotations",items:[]},file:{name:"Files",items:[]},image:{name:"Images",items:[]},link:{name:"Links",items:[]},video:{name:"Videos",items:[]},question:{name:"Questions",items:[]},other:{name:"Other",items:[]}};var t=function(e,t){return new Array(Math.max(t-String(parseInt(e,10)).length+1,0)).join(0)+e};angular.forEach(e.episode.items,function(i){i.wtfchromesort=t(i.start_time,5),"producer"!==n.product&&i.cosmetic||"Scene"!==i._type&&(i.producerItemType&&e.showTypes[i.producerItemType]?e.showTypes[i.producerItemType].items.push(i):e.showTypes.other.items.push(i),"annotation"===i.producerItemType&&(i.showAsHeader=!i.templateUrl.match(/(transmedia|definition)/)))})},t.$on("searchReindexNeeded",e.indexEvents)}t.a=n,n.$inject=["$scope","$rootScope","$timeout","appState"]},AYkA:function(e,t,i){e.exports=i.p+"images/WSBCTC_Logo-fe6d0db7ea475d9f84062dbe4db61b9c.svg"},AZay:function(e,t){var i="templates/item/text-definition.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div> <div class="itemTemplate definition"> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="item__title item__title--definition"> <span ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></span> </div> </div> <div class="text item__text item__text--definition" ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> </div> <div class=clear></div> </div> ')}]),e.exports=i},AeV0:function(e,t){var i="templates/producer/upload-masterasset.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div ng-if=showAssetPicker class=floatAssetPicker> <div class=scrollContainer> <div sxs-container-assets=episodeContainerId></div> </div> <div class=controlsContainer> <button ng-click=endChooseAsset();>Cancel</button> </div> </div> <div> <div ng-if="(masterAsset.original_filename) && !showUploadButtonsMaster"> {{masterAsset.display_name}} <button class=button ng-click="replaceAsset(\'Master\')"> Replace this asset </button> </div> <div ng-if="showUploadButtonsMaster || !(masterAsset.original_filename)"> <span ng-if=showUploadFieldMaster> <div itt-asset-uploader=episodeContainerId callback=assetUploaded(data)> </div> </span> <span ng-if=!showUploadFieldMaster> <button class=button ng-click="chooseAsset(\'Master\')">Browse uploaded assets</button> <button class=button ng-click="toggleUpload(\'Master\')">Upload new asset</button> </span> </div> </div> ')}]),e.exports=i},AiEB:function(e,t){var i="templates/producer/questionauthoring.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div style=margin:1em> <p>This is a standalone editor for question items. Fill in the fields below, then copy the JSON data below into the existing authoring tool. To edit an existing question paste its JSON into the json field and the editor will separate it out into editable fields.</p> <table class=authoringForm> <tr> <td class=label>Question type</td> <td> <select ng-model=question.questiontype> <option value=mc-poll>Poll</option> <option value=mc-formative>Formative</option> </select> </td> </tr> <tr> <td class=label>Question text</td> <td> <textarea rows=4 ng-model=question.questiontext>\n\t\t\t\t</textarea> </td> </tr> <tr> <td colspan=2>Answer choices. <span ng-if="question.questiontype == \'mc-formative\'">Check the correct answer (if more than one is selected, either will count as correct).</span>To remove an answer choice, just leave it blank. </td> </tr> <tr ng-repeat="distractor in question.distractors"> <td class=label> <input type=checkbox ng-model=distractor.correct ng-if="question.questiontype == \'mc-formative\'"> </td> <td> <input type=text ng-model=distractor.text> </td> </tr> <tr> <td class=label><a ng-click=addDistractor()>add another</a> </td> <td> </td> </tr> <tr ng-if="question.questiontype == \'mc-formative\'"> <td class=label>Feedback for correct answer</td> <td> <input type=text ng-model=question.correctfeedback> </td> </tr> <tr ng-if="question.questiontype == \'mc-formative\'"> <td class=label>Feedback for incorrect answer</td> <td> <input type=text ng-model=question.incorrectfeedback> </td> </tr> <tr> <td colspan=2> <br> <hr> <br> </td> </tr> <tr> <td class=label>JSON data: <span ng-if=editwarning>Invalid JSON!</span> </td> <td> <textarea rows=10 ng-model=pluginjson></textarea> </td> </tr> </table> <br> <hr> <br> <p class=label>Question preview:</p> <div class=item> <div ng-if=preview itt-item=questionpreview></div> </div> </div> ')}]),e.exports=i},AiMV:function(e,t,i){e.exports=i.p+"images/columbia-0fcb4dd40f866aa5065cd6eb377d0dcd.svg"},Airc:function(e,t,i){"use strict";function n(e,t,i,n,a){return{restrict:"A",replace:!0,templateUrl:"templates/player-timeline.html",link:function(o){i.init(),t.getNarrative(e.narrativePath).then(function(t){i.narrativeId=t._id,o.narrative=t;var r=n.getRoleForNarrative(t._id),s=n.getDefaultProductForRole(r);i.product=s,angular.forEach(t.timelines,function(t){t._id!==e.timelinePath&&t.path_slug.en!==e.timelinePath||(i.timelineId=t._id,t.episode_segments[0]&&(i.episodeId=t.episode_segments[0].episode_id,i.episodeSegmentId=t.episode_segments[0]._id,o.showPlayer=!0))}),i.episodeId||a.error({data:"Sorry, no episode was found in this timeline."})})}}}t.a=n,n.$inject=["$routeParams","dataSvc","appState","authSvc","errorSvc"]},AjZW:function(e,t,i){var n="templates/episode/eliterate.html",a='<div class="episode episode-eliterate" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="eliterate logo" href=//www.mindwires.com target=_blank> <img src='+i("3hY0")+' alt="Mindwires logo"> </a> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("/EO3")+" alt=E-Literate> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},AtYD:function(e,t,i){"use strict";function n(e,t){function i(){var i;return e(function(e,a){if(i=t(a,n),"undefined"==typeof YT||void 0===YT.Player){var o=document.createElement("script");o.src="//www.youtube.com/iframe_api",o.id="yt-iframe-api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}else t.cancel(i),e();window.onYouTubeIframeAPIReady=function(){t.cancel(i),e()}})}var n=2e3;return{load:i}}t.a=n,n.$inject=["$q","$timeout"]},BIS7:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,"@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes delayedFadeOut{0%{opacity:1}33%{opacity:1}to{opacity:0}}@keyframes delayedFadeIn{0%{opacity:0}33%{opacity:0}to{opacity:1}}body{-webkit-backface-visibility:hidden}.animate.ng-enter,.animate.ng-leave,.animate.ng-move{transition:all .5s ease-in-out}.animate.noTransitions{transition:none!important}.content .animate.ng-leave{display:block!important}.animate.ng-enter.transitionFade{opacity:0}.animate.ng-enter-active.transitionFade,.animate.ng-leave.transitionFade{opacity:1}.animate.ng-leave.ng-leave-active.transitionFade{opacity:0}.animate.ng-enter.transitionSlideL{transform:translateX(50px);opacity:0}.animate.ng-enter-active.transitionSlideL,.animate.ng-leave.transitionSlideL{transform:translateX(0);opacity:1}.animate.ng-enter.transitionSlideR,.animate.ng-leave.ng-leave-active.transitionSlideL{transform:translateX(-50px);opacity:0}.animate.ng-enter-active.transitionSlideR,.animate.ng-leave.transitionSlideR{transform:translateX(0);opacity:1}.animate.ng-leave.ng-leave-active.transitionSlideR{transform:translateX(50px);opacity:0}.animate.transitionExpandW{overflow:hidden;display:block}.animate.ng-enter.transitionExpandW{max-width:1px;opacity:0}.animate.ng-enter-active.transitionExpandW,.animate.ng-leave.transitionExpandW{max-width:1200px;opacity:1}.animate.ng-leave.ng-leave-active.transitionExpandW{max-width:1px;opacity:0}.animate.ng-enter.transitionPop{transform:scale(.9);opacity:0}.animate.ng-enter-active.transitionPop,.animate.ng-leave.transitionPop{transform:scale(1);opacity:1}.animate.ng-leave.ng-leave-active.transitionPop{transform:scale(.9);opacity:0}.animate.ng-enter.transitionNone,.animate.ng-leave.transitionNone,.animate.ng-move.transitionNone{transition:all 0s ease-in-out}",""])},BRlR:function(e,t,i){e.exports=i.p+"images/gw-logo-1019d2f84e8d475b9a61f2f04c8535e7.svg"},Beqr:function(e,t,i){var n=i("Fz2T");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},Bina:function(e,t,i){"use strict";function n(){return{template:["Narrative Player &#169;","<span ng-bind-html=\"now | date:'yyyy'\" ></span>",'<a href="//narrasys.com" target="_blank" rel="noopener noreferrer"> Narrasys</a>. All rights reserved.',"<br>",'<a href="/privacy">Privacy</a>','<span ng-if="narrative.support_url"> - ','\t<a ng-href="{{narrative.support_url}}">Support</a>',"</span>"].join("")}}t.a=n},Bxka:function(e,t,i){e.exports=i.p+"645f5b13f939a602db8b61187ce93e76.eot"},CHg3:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,"",""])},CIcw:function(e,t,i){"use strict";function n(e,t,i){return{restrict:"E",replace:!1,scope:{plugin:"=data",qid:"=",choices:"=",correct:"=",onChoice:"=",questionType:"@",showChart:"="},templateUrl:"templates/item/question-mc-inner.html",link:function(n){n.scoreQuiz=function(e){n.plugin.distractors[e].selected=!0,n.plugin.hasBeenAnswered=!0,n.plugin.selectedDistractor=n.plugin.distractors[e].index,t.captureEventActivity("question-answered",n.qid,{answer:n.plugin.distractors[e].text,index:n.plugin.distractors[e].index,correct:!!n.plugin.distractors[e].correct})},n.feedback=function(){for(var e=0;e<n.plugin.distractors.length;e++)if(n.plugin.distractors[e].index===n.plugin.selectedDistractor)return n.plugin.distractors[e].correct?n.plugin.correctfeedback:n.plugin.incorrectfeedback},n.questionType=n.plugin.questiontype,n.chartOptions={};var a=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&angular.forEach(n.plugin.distractors,function(n){if(n.index+""==a+""){var o=n.text;"object"==typeof o&&(o=o[i.lang]||o.en||""),t.push({data:e[a],label:o})}});return t};if(n.plugin.hasBeenAnswered===!0){void 0===n.plugin.answer_counts&&(console.error("No answer_counts returned from API"),n.plugin.answer_counts={});var o=n.plugin.answer_counts,r=a(o);n.chartData=r}n.scorePoll=function(t){console.log("scorePoll"),e.saveAnswer("question-answered",n.qid,{answer:n.plugin.distractors[t].text,index:n.plugin.distractors[t].index,correct:!!n.plugin.distractors[t].correct}).then(function(){n.plugin.answer_counts=void 0===n.plugin.answer_counts?{}:n.plugin.answer_counts,e.incrementAnswerCount(n.plugin.answer_counts,n.plugin.distractors[t].index);var i=n.plugin.answer_counts,o=a(i);n.chartData=o,n.plugin.distractors[t].selected=!0,n.plugin.hasBeenAnswered=!0,n.plugin.selectedDistractor=n.plugin.distractors[t].index})}}}}t.a=n,n.$inject=["questionAnswersSvc","analyticsSvc","appState"]},CJdj:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",ittItemForm:"="},template:['<div class="field">','\t<div class="label">Annotation Text [{{$ctrl.appState.lang}}]','\t\t<itt-validation-tip ng-if="$ctrl.ittItemForm[$ctrl.textAreaName].$invalid" text="Annotation Text is a required field"></itt-validation-tip>',"\t</div>",'\t<div class="input" sxs-input-i18n="$ctrl.data.annotation" do-validate="true" x-inputtype="\'textarea\'" on-emit-name="$ctrl.onName($taName)" autofocus></div>',"</div>"].join("\n"),controller:["appState",function(e){function t(e){i.textAreaName=e}var i=this;i.onName=t,i.appState=e,i.textAreaName=""}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},CJsm:function(e,t,i){"use strict";function n(e,t,i){e.narrativeResolve=t.n,e.customerResolve=t.c,e.logout=i.logout}t.a=n,n.$inject=["$scope","narrativeResolve","authSvc"]},CMCi:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".field-pros .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Roboto Condensed;color:#fff;background-color:#6baa36;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.field-pros .landingscreen .introtext{padding-bottom:2em}.field-pros .landingscreen #episode--description{display:none}.field-pros .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Roboto Condensed;color:#fff;background-color:#6baa36;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.field-pros .searchPanel__wrapper{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .searchPanel__wrapper .fake-link--search-results{color:#6baa36}.field-pros .searchResults{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .searchResults .item__link--escape-link,.field-pros .searchResults .item__link--fake-link,.field-pros .searchResults .item__title--link{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b;color:#6baa36}.field-pros .searchResults .item__link--escape-link:before,.field-pros .searchResults .item__link--fake-link:before,.field-pros .searchResults .item__title--link:before{color:#5b5b5b}.field-pros .item__title{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .item__title--file a,.field-pros .item__title--link a{color:#6baa36}.field-pros .item__link--fake-link{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b;color:#6baa36}.field-pros .item__text{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .item__text--definition h1,.field-pros .item__text--definition h2,.field-pros .item__text--definition h3,.field-pros .item__text--h2,.field-pros .item__text--transmedia h1,.field-pros .item__text--transmedia h2,.field-pros .item__text--transmedia h3{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .item .item__text--pullquote{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .item .item__text--pullquote:before{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#6baa36}.field-pros .item__text--image-caption,.field-pros .item__text--image-caption-sliding,.field-pros .item__title--image-caption,.field-pros .item__title--image-caption-sliding{color:#fff}.field-pros .item__link--escape-link{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b;color:#6baa36}.field-pros .item__link--escape-link:before{color:#5b5b5b}.field-pros .item .displayTime,.field-pros .item .startTime{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#6baa36}.field-pros .item .displayTime:hover,.field-pros .item .startTime:hover{text-decoration:underline}.field-pros .item.colorInvert{background-color:#5b5b5b!important}.field-pros .item.colorInvert .item__link--escape-link,.field-pros .item.colorInvert .item__link--escape-link:before,.field-pros .item.colorInvert .item__text,.field-pros .item.colorInvert .item__text:before,.field-pros .item.colorInvert .item__title a,.field-pros .item.colorInvert .item__title a:before,.field-pros .item.colorInvert a.displayTime.startTime,.field-pros .item.colorInvert a.displayTime.startTime:before,.field-pros .item.colorInvert h1,.field-pros .item.colorInvert h2,.field-pros .item.colorInvert h3{color:#fff!important}.field-pros .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(107,170,54,.6)}.field-pros .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(107,170,54,.6)}.field-pros .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(107,170,54,.6)}.field-pros .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(107,170,54,.3);box-shadow:0 0 8px rgba(107,170,54,.3)}.field-pros .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Roboto Condensed;color:#fff;background-color:#6baa36;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.field-pros .centered .static-bg__main,.field-pros .centerVV .static-bg__main,.field-pros .cornerH .static-bg__main,.field-pros .cornerV .static-bg__main,.field-pros .onecol .static-bg__main,.field-pros .pip .static-bg__main,.field-pros .twocol .static-bg__main{background-image:url("+i("jyEH")+")}.field-pros .centered .static-bg__alt,.field-pros .centerVV .static-bg__alt,.field-pros .cornerH .static-bg__alt,.field-pros .cornerV .static-bg__alt,.field-pros .onecol .static-bg__alt,.field-pros .pip .static-bg__alt,.field-pros .twocol .static-bg__alt{background-image:url("+i("xHF/")+")}.field-pros .centered .item__title--file,.field-pros .centered .item__title--link,.field-pros .centered .item__title--link.title--link-embed,.field-pros .centerVV .item__title--file,.field-pros .centerVV .item__title--link,.field-pros .centerVV .item__title--link.title--link-embed,.field-pros .cornerH .item__title--file,.field-pros .cornerH .item__title--link,.field-pros .cornerH .item__title--link.title--link-embed,.field-pros .cornerV .item__title--file,.field-pros .cornerV .item__title--link,.field-pros .cornerV .item__title--link.title--link-embed,.field-pros .onecol .item__title--file,.field-pros .onecol .item__title--link,.field-pros .onecol .item__title--link.title--link-embed,.field-pros .pip .item__title--file,.field-pros .pip .item__title--link,.field-pros .pip .item__title--link.title--link-embed,.field-pros .twocol .item__title--file,.field-pros .twocol .item__title--link,.field-pros .twocol .item__title--link.title--link-embed{font-family:Lato,sans-serif;font-weight:300;color:#5b5b5b}.field-pros .centerVV-mondrian .static-bg__main{border:4px solid #5b5b5b;background-color:#6baa36}.field-pros .centerVV-mondrian .static-bg__alt{background-image:url("+i("xHF/")+")}.field-pros .centerVV-mondrian .altPane{background-color:transparent}.field-pros .centerVV-mondrian .mainPane .item{background-color:#5b5b5b}.field-pros .centerVV-mondrian .mainPane .item__text,.field-pros .centerVV-mondrian .mainPane .item__text--definition h1,.field-pros .centerVV-mondrian .mainPane .item__text--definition h2,.field-pros .centerVV-mondrian .mainPane .item__text--definition h3,.field-pros .centerVV-mondrian .mainPane .item__text--transmedia h1,.field-pros .centerVV-mondrian .mainPane .item__text--transmedia h2,.field-pros .centerVV-mondrian .mainPane .item__text--transmedia h3,.field-pros .centerVV-mondrian .mainPane .item__title,.field-pros .centerVV-mondrian .mainPane .item__title a{color:#fff}.field-pros .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__text,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.field-pros .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.field-pros .centerVV-mondrian .mainPane .item.colorInvert h1,.field-pros .centerVV-mondrian .mainPane .item.colorInvert h2,.field-pros .centerVV-mondrian .mainPane .item.colorInvert h3{color:#5b5b5b!important}.field-pros .centerVV-mondrian .item__title--image,.field-pros .centerVV-mondrian .item__title--image-thumbnail,.field-pros .centerVV-mondrian .item__title--image-thumbnail a,.field-pros .centerVV-mondrian .item__title--image a,.field-pros .centerVV-mondrian .item__title--link,.field-pros .centerVV-mondrian .item__title--link a{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b}.field-pros .centerVV-mondrian .item__link--fake-link{color:#fff}.field-pros .centerVV-mondrian .item__link--escape-link{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#fff}.field-pros .centerVV-mondrian .item__link--escape-link:before{color:#6baa36}.field-pros .centerVV-mondrian .item .displayTime,.field-pros .centerVV-mondrian .item .startTime{font-family:Roboto Condensed,sans-serif;font-weight:700;color:#5b5b5b;color:#fff}.field-pros .centerVV-mondrian .item .displayTime a,.field-pros .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},CQGL:function(e,t){var i="templates/root.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="rootLogin standaloneAncillaryPage" itt-login> <itt-nav on-logout=logout()></itt-nav> <div class=inner> <div ng-if=appState.user._id> <div itt-user></div> </div> <div ng-if=!appState.user._id> <form ng-submit=adminLogin()> <h1>Sign in to Narrative Producer</h1> <label> <span>Username</span> <input type=email name=auth_key ng-model=loginForm.auth_key> </label> <label> <span>Password</span> <input type=password name=password ng-model=loginForm.password> </label> <input class="submit button" type=submit value="Sign in"> <span class=error ng-if=badlogin>Sorry, try again?</span> </form> </div> <br style=clear:both> </div> <small ng-if=!appState.user._id><a href={{apiDataBaseUrl}}/oauth2>OAuth</a></small> </div> ')}]),e.exports=i},CVkk:function(e,t){var i="templates/item/image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <div class="title item__title item__title--image"> <a class="fakeLink item__link--fake-link" role=button tabindex=0 ng-click=toggleDetailView() x-ng-keypress=toggleDetailOnKeyPress($event) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <div class="item__text item__text--image" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <div class=itemDetail x-ng-if=item.showInlineDetail> <div class=touchable style=position:relative> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> </div> <div class=clear></div> </div> ')}]),e.exports=i},CnAb:function(e,t,i){"use strict";function n(){function e(){return c}function t(e){return o(a(e),1024,768)}function i(e){return e.reduce(function(e,t){return n(t)&&e.mediaSrcArr.push(t),e},{type:l,mediaSrcArr:[]})}function n(e){var t=["partnerId","uiconfId","entryId","uniqueObjId"],i=a(e);return t.every(function(e){return i.hasOwnProperty(e)&&null!=i[e]})}function a(e){var t,i={},n=[];return"<script"===e.substring(0,7)?(n=/^.*?src\=.https?\:\/\/(?:www|cdnapi|cdnapisec)\.kaltura\.com\/p\/(.*?)\/sp\/(.*?)00.*?\/embedIframeJs\/uiconf_id\/(.*?)\/partner_id\/(.*?)\?(.*?)\".*/g.exec(e),null!=n?(i.partnerId=n[1],i.uiconfId=n[3],t=r(n[5]),i.entryId=t.entry_id,i.uniqueObjId=t.playerId):i=s(e)):"<div"===e.substring(0,4)?i=s(e):"<iframe"===e.substring(0,7)?null!=(n=/^.*?src\=.https?\:\/\/(?:www|cdnapi|cdnapisec)\.kaltura\.com\/p\/(.*?)\/sp\/(.*?)00.*?\/embedIframeJs\/uiconf_id\/(.*?)\/partner_id\/(.*?)\?(.*?)\".*/g.exec(e))&&(i.partnerId=n[1],i.uiconfId=n[3],t=r(n[5]),i.uniqueObjId=t.playerId,i.entryId=t.entry_id):"<object"===e.substring(0,7)?null!=(n=/^.*\n*?.*?id\=.(.*?)\"(.*?\n*)*?data\=.*?https?\:\/\/(?:www|cdnapi|cdnapisec)\.kaltura\.com\/kwidget\/wid\/_(.*?)\/uiconf_id\/(.*?)\/entry_id\/(.*?)\".*/g.exec(e))&&(i.uniqueObjId=n[1],i.partnerId=n[3],i.uiconfId=n[4],i.entryId=n[5]):"http"===e.substring(0,4)&&null!=(n=/^https?\:\/\/(?:www|cdnapi|cdnapisec)\.kaltura\.com\/p\/(.*?)\/sp\/(.*?)00.*?\/embedIframeJs\/uiconf_id\/(.*?)\/partner_id\/(.*?)\?(.*)/g.exec(decodeURIComponent(e)))&&(i.partnerId=n[1],i.uiconfId=n[3],t=r(n[5]),i.entryId=t.entry_id,i.uniqueObjId=t.playerId),i}function o(e,t,i){return"https://cdnapisec.kaltura.com/p/"+e.partnerId+"/sp/"+e.partnerId+"00/embedIframeJs/uiconf_id/"+e.uiconfId+"/partner_id/"+e.partnerId+"?entry_id="+e.entryId+"&playerId="+e.uniqueObjId+"&autoembed=true&width="+t+"&height="+i}function r(e){return"&"==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),JSON.parse('{"'+e.replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}function s(e){var t={},i=/^(?:.|\n|\r)*?kWidget\..*?mbed\(({(?:.|\n|\r)*})\).*?/g.exec(e);if(null!=i){var n=JSON.parse(i[1]);t.uniqueObjId=n.targetId,t.partnerId=n.wid.substring(1),t.uiconfId=n.uiconf_id,t.entryId=n.entry_id}return t}var l="kaltura",c="video/x-"+l;return{type:l,getMimeType:e,canPlay:n,parseMediaSrc:i,getKalturaObject:a,buildAutoEmbedURLFromKalturaObject:o,parseInput:t,getOutgoingUrl:function(){}}}t.a=n,n.$inject=[]},CvNk:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,'.errors{left:20%;position:fixed;right:10px;bottom:10px}.errors .error,.errors .notification{background-color:#fff;border:4px solid #c00;border-left:12px solid #c00;box-shadow:3px 3px 5px rgba(0,0,0,.4);border-radius:15px;padding:1em;margin:1em;overflow:auto}.unselectable{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.error-red{color:#c00}.info-blue{color:#2d6099}.errors .notification{border-color:#2d6099}.tooltip-static{position:relative}.tooltip-static .tooltip-text{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;position:absolute;z-index:1}.tooltip-static:hover .tooltip-text{visibility:visible;padding:5px}.ittTooltip{position:relative}.ittTooltip__text{background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:3px 5px;position:absolute;top:1.13em;left:1.3em;z-index:1;pointer-events:none}*{box-sizing:border-box;margin:0;padding:0}li{list-style:inside}body{background-color:#fff}.clear:after{clear:both;content:"";display:block}.overlay{pointer-events:none}.overlay .item,.overlay.windowFg{pointer-events:auto}.videoMagnet{margin-bottom:-5px}.videoMagnet img{width:100%}.small{font-size:smaller}.invisible{visibility:hidden}a{text-decoration:none;color:#00c;cursor:pointer;cursor:hand}.fakeLink:focus,.fakeLink:hover,a:focus,a:hover{text-decoration:underline}a.button:focus,a.button:hover{text-decoration:none;text-shadow:0 0 5px #ffc}h1,h2,h3,h4{margin:.8em 0 .2em;line-height:1em}.loading{text-align:center;font-size:small;min-height:400px;line-height:0;background-color:transparent}.loading .spinner{width:60px;height:60px;margin:100px auto -30px;position:relative;background-color:#fff;opacity:.5}.loading .pie{width:50%;height:100%;position:absolute;background-color:#ddd}.loading .rotating{border-radius:60px 0 0 60px;z-index:2;border-right:none;animation:rotate 2s ease-in-out infinite;transform-origin:100% 50%}.loading .filler{border-radius:0 60px 60px 0;z-index:1;border-left:none;animation:pieFill 2s steps(1) infinite;left:50%;opacity:0}.loading .mask{width:50%;height:100%;position:absolute;z-index:3;opacity:1;background:inherit;animation:pieMask 2s steps(1) infinite}.loading__background{position:fixed;width:100%;height:100%;border:2px solid #000;z-index:99999;opacity:.33;background-color:#000}.routeLoading{position:fixed;top:30%;right:50%;z-index:99999;min-height:0;width:60px;height:60px;border-radius:3px;box-shadow:0 0 5px 3px rgba(0,0,0,.5)}.routeLoading .spinner{margin:0;padding:0}.routeLoading .loading__text{position:relative;bottom:30px}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes pieFill{0%{opacity:0}50%,to{opacity:1}}@keyframes pieMask{0%{opacity:1}50%,to{opacity:0}}.bgLayer,.videoMagnet{z-index:1;pointer-events:none}.content{z-index:2}.overlay,.videoContainer{z-index:3}.videoMask{z-index:4}.watchModeCaptions{z-index:5}.windowFg.fgLayer{z-index:6}.modal-backdrop{z-index:7}.modal{z-index:8}.autoscroll,.controlPanel>div,.item .edit-event{z-index:9}.navPanel,.toolbar-bottom-controltrigger{z-index:10}.banner-logo,.profilePanel,.toolbar,.toolbar-bottom,.topDrawer{z-index:11}.searchPanel{z-index:12}.errors{z-index:13}@font-face{font-family:Story;src:url('+i("Bxka")+')}@font-face{font-family:Story;font-weight:400;font-style:normal;src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAADFsAAsAAAAAMSAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIGPGNtYXAAAAFoAAAAZAAAAGQDjKzJZ2FzcAAAAcwAAAAIAAAACAAAABBnbHlmAAAB1AAALEAAACxAISZPcWhlYWQAAC4UAAAANgAAADbX+rOcaGhlYQAALkwAAAAkAAAAJNKbBUVobXR4AAAucAAAAMwAAADMw7bN5mxvY2EAAC88AAAAaAAAAGjbHuN2bWF4cAAAL6QAAAAgAAAAIABHBBNuYW1lAAAvxAAAAYYAAAGGmUoJ+3Bvc3QAADFMAAAAIAAAACAAAwAAAAMD/gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6RQDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAEgAAAAOAAgAAgAGAAEAIOAJ5hPpFP/9//8AAAAAACDgAeYA6QP//f//AAH/4yADGg0XHgADAAEAAAAAAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAwABAA0ADQAACAAATCQHAAoD9gANA/oD+gAACAIAAQAOAA0AAAwAHAAATIREhASERIYABQP7AAcABQP7AA0D9AAMA/QAAAAMAAAAPA2cDcQAMACUAPgAAATYWFREUBi8BIxEzNwEGJicuATc+ATc+ATc2FhceAQcOAQcOAQc3DgEnLgEnLgEnJjY3PgEXHgEXHgEXFgYHAZEUGxsU8aCg8QEMBxcKCQMHCDsjIzoGBhYJCQYGBjokIzwHwQkXBwc7IyM7BgYECQoWBgc7IyM7BwYECQNxFAwb/MQbDBTxAYDx/eoHBAkKFwgHPCIjOgYGBQkJFgUGOiQjPQcGCQQHBzsjIzsGBhcJCQUHBjsjIzwGBxYKAAACAAAADwJHA3EAGAAkAAAlIiYnJjQ3PgE0JicmNDc2MhceARQGBw4BAzYWFREUBi8BIxEzAiUJEgcODh4fHx4ODg4oDiwtLSwHEp0UGxsU8aCg2wcHDigOHk1QTR4OKA4ODixxdHEsBwcClhQMG/zEGwwU8QGAAAADAAAADwNwA3EAHQA2AEIAACUiJicmNDc+ATQmJyY0NzYyFx4DFRQOAgcOASciJicmNDc+ATQmJyY0NzYyFx4BFAYHDgEDNhYVERQGLwEjETMC0AoRBw4OMTExMQ4ODicOHy8gEREgLx8HEbQJEgcODh4fHx4ODg4oDiwtLSwHEp0UGxsU8aCggAcIDicOMnuCezIOJw4PDx5HTVQrK1RNRx4IB1sHBw4oDh5NUE0eDigODg4scXRxLAcHApYUDBv8xBsMFPEBgAAAAAAEAAAADwRAA3EAIwBBAFoAZgAAJSImJyY0Nz4DNTQuAicmNDc2MhceAxUUDgIHDgEjJyImJyY0Nz4BNCYnJjQ3NjIXHgMVFA4CBw4BJyImJyY0Nz4BNCYnJjQ3NjIXHgEUBgcOAQM2FhURFAYvASMRMwN6CRIHDg4hMyISEiIzIQ4ODigOKD0pFhYpPSgHEgmqChEHDg4xMTExDg4OJw4fLyARESAvHwcRtAkSBw4OHh8fHg4ODigOLC0tLAcSnRQbGxTxoKAmBwcOKA4hTFNaLi5aU0whDigODg4oW2VsODhsZVsoBwdaBwgOJw4ye4J7Mg4nDg8PHkdNVCsrVE1HHggHWwcHDigOHk1QTR4OKA4ODixxdHEsBwcClhQMG/zEGwwU8QGAAAEAwP/AA0ADwAADAAAJAwIA/sABQAFAA8D+AP4AAgAABAAA/70FXgPDACIARQBWAIMAAAEiJjU0NjMyFhczLgMjIg4CFRQeAjMyPgI3Iw4BIyEiJjU0NjMyFhczLgMjIg4CFRQeAjMyPgI3Iw4BIwEhMjY1ETQmJyEOAQcRHgEzEz4BNz4DMzIeAhceARceARcOAQcOAQcOAwcuAycuAScuASc+ATcBxTYgKyYiKQOIBCA4TjIuUDsiIDxWNytJNyIEigQjIwHeNx8rJiEpBIgEITdOMi5QOyIgPFY3K0k2IgWKBCMj/P0EHkJeW0H72kBbAQFdQhQHFAkQWICfVVacfVUQCRQFIBIBARIgBRQJEFV9nFZVn4BYEAkUBx8RAgIRHwEVWzpPUS8rNVM5HyhLakNDa0soHzpUNig1WzpPUS8rNVM5HyhLakNDa0soHzpUNig1/qheQgLHQV0BAVtA/TNBXANCCQwGDBAJBQUJEAwGDAkqiYeHiikKCwcLEQoEAQEEChELBwsKKYqHh4kqAAAAAgCMAQEDsgK/AAMABwAAAQ0BESENARECPwFz/o3+TQF0/owCv9/fAb7f3wG+AAAAAQAO//UD8gN3ABMAACUzMjYRECYhIAYHMQ4BFRQWOwEVAiG/y0dm/nT+3YgeHA08iXK2WwEFARlIDB0cZbf2asEAAAAFABz/7QPkA6MAGgAfACUANgBHAAAJAQcOARcWNj8BAT4DNTQuAiMiDgIHMSUHJzcXAQcnARcHARQGDwEnNz4BNzYWFx4BFTETDgEHBhYzMjY1NCYjIgYHMQGr/romDxUBBEZtigFDUHlRKkFRSQgEMFZ8UAHELptbm/6Z4JsBwJvg/uQcEy8/DAUJAQIhIBol/hAaAgYnGhJWLhEHIRACW/65jDpbBhMIHykBQ1B7VTADCElRQSpTelE4Lptbm/6Z4JsBwJvg/v8CCgULQSQOHAUGGiAaKAIB0A8gBxkyVBIRLxUQAAAABgBm/9wDcAOkABMAHQAjACgALgA0AAATDgEZARceASEgNj8BEScjIgYHMQUUFjMXESERIRUHFTM1IxUdASE1IR0BITUhFR0BITUhFXcMBRINYwEDAQNkDRH697hEDAGMLm9x/aUBTfanpwG9/kMBvf5DAb3+QwOTDXv+tP49EAwEBAwQAvmvBA2CUCIB/Z0DEjw/LFgsrytX2ixXK7csWCwAAAADABr/3gPmA6oABQAvAEMAABMRJRElESUUDgInLgEnLgEnJgYHDgEjIiYnLgEnJiIHDgEHDgMHBiY9ASERMSUOARceATMyNjc2JicuASMiBgcxGgPM/DQDUQECBAMFKBcoGhIdIxwNFQEBLyAhNAUKNAwGNyERIBkQAwYEAtr+0xIVBAU4Ghk3BQUWEggdDg4dCAHE/hoEA8QE/hpRWIJTJAUGhylEIQQFGzEYZpI3OFUFCgkFWDsdS0MxBAmZnfn+6MwNNRcZLS0ZFzUNBgcHBgAAAAIAF//dA9wDiAAxAGMAAAEOAQ8BFx4BFxY2NzYWFxYGBw4BIyImJy4BIyIGFRQWFx4BNz4BNz4BNzQmJy4CBgcBDgEHDgEHBhYXHgEzMjY/AScuAScmBgcOASMiJicuATc+Azc2FhcWNicuAScmBgcCaCBdKSgwFDYRHxMXLW4gKBtPUT8gHDgPBRsPJCgOGSlhPkZcXF82AS8wGkVLSyD+4BtJOV80AQFPTxgvMExaRkM3FzUPGhESGSsXHj8PEQIPCT5FPAkePx8+VAUCUSUzeS4DiAtEKikHAwwGCgQUJwYsNl5PUS4YEgYJKCMXGRUkHQQFN1xfYU1CayoXHw4DDP74DTw5XmBOVoArDAgpQj8HAw0GCwMRGBUiGBxXFQ9AQjUDDAoVKiVCFEUNEgUWAAAAAwAa/94DywOYACYATABTAAABDgMXHgEXHgMXHgEzMjY3PgM3PgEuAScuAycuAQcxFx4BFRQGBw4BHQEjNz4BNz4BJy4BIyIGDwEjNz4BNz4BFx4BFzEDFSM1MxUxAZBVjmU0BgQnHBY7REkkIjg/PjkhNWJSPREJCgEKChE8T180Np035ioqIjolFnkFByA8Gw8JCB4gICkJCH0FBi0lHTQ4KyYZQ39/A5gTYYelVzl+LCE/NisMDAcHDBJAU2IzH05QTh40YVA+EhMJDbcZRy4uOzcjHhAaKC8xORksHBkSIyEjHS5IGhULAQIID/3wQH8/AAIAGgDUA+QCwAAWACcAABMOAQcOARceATMyNjc2JicuASciBgcxBQ8BFx4BNz4BNzYmIyIGBzF3HSMNDgQCAj/n5z4DAgQOF0emVIIJArOTBZlZRQgJBgQFCBcGXT0CuwYUFBQ2hLkyMrmDNxMiDgEBAVldeGA5JQUFTZy0SjcnAAAAAAEAuABTA60DLQAdAAAlATY0JwEmIgcGFB8BISIGFRQWMyEHDgEVFBYXFjICbQFAExP+wBI2EhMT0v4TGyUlGwHt0goJCQoSNlMBQBI2EgFAExMSNhLTJRsbJdMJGAwMGAkTAAABAFMAUwNcAy0AHQAACQEGFBcBFjI3NjQvASEyNjU0JiMhNz4BNTQmJyYiAZP+wBMTAUASNhITE9ICARslJRv9/9IKCQkKEjYDLf7AEjYS/sATExI2EtMlGxsl0wkYDAwYCRMAAgBDAAMDswNzACMAOAAAPwE+ARcuATU0PgIzMh4CFRQOAiMiJicWBg8BDgEnJjY3JTI+AjU0LgIjIg4CFRQeAjNJ1hAiDiUrNVt8RkZ7XDU1XHtGP3AtAQ4PthdCFxgEGgIYLlM9IyM9Uy4vUj0kJD1SL3O2Dw4BLXA/RntcNTVce0ZGfFs1KyUOIhDWGgQYF0IXzCQ9Ui8uUz0jIz1TLi9SPSQAAAAABAAY/9gEAAPAACMANwBPAGgAAD8BPgEXLgE1ND4CMzIeAhUUDgIjIiYnFgYPAQ4BJyY2NyUyPgI1NC4CIyIOAhUUHgI3FjY3PgEnLgEnLgEnJgYHDgEXHgEXHgEjHgE3PgE3PgE3NiYnLgEHDgEHDgEHBhYXIPITJxArMTxpjE9Qi2k8PGmLUEeAMgEQEc4bSxsaBB4CYDVdRigoRl01NV1GKChGXYQGGAkJAwcHPCMiOgYHFQoJBQUGOiQjPbsKFwYHPCMjOgYHBQkJFwYHOyMjOwYHBAlZzhEQATKAR1CLaTw8aYtQT4xpPDErECcT8h4EGhtLG+coRl01NV1GKChGXTU1XUYohgcDCgkYBwc8IyI6BgYECgkVBgY6JCM9CgMGBzwjIzoGBxYJCgQHBjsjIzsHBhcJAAAAAAYAAAAABAADgAADAAcACwAPABQAGAAAASEVIREhFSERIRUhATMVIxUzFSM1ETMVIwGAAoD9gAKA/YACgP2A/oD7+/v7+/sDgID/AID/AIADfoD+gID+gIAAAAAACMl6ABoDnDmmAAcADwAXAB8AJgAtADQAOwAAJScHFwchEQcBIRE3FzcnNxEnBycRISc3ASEXBxc3FxEBFzcnNyERASERBycHFwMXNxcRIRcBISc3JwcnAx98TX19AUZ9/ov+un17TXx9TXx9AUZ9fQHy/rp9fE17fchagU+AgP6v/gUBUYGAT3+AT4GB/q+AAXsBUYB/T4CB43xMfXwBRXwCb/66fHtNe339wUx8fP67fH0CP317TXt8AUYziIBPgYH+rwH7AVGAf0+A/dNPgIABUYEBK4GAT3+AAAQAWgAaA6YDZgAHAA8AFwAeAAAlFzcnNyERNwEhEQcnBxcHERc3FxEhFwcBISc3JwcnAtaBT4CA/q+B/YQBUYGAT3+AT4GB/q+AgAH7AVGAf0+AgZqAT4GB/q+AAXsBUYB/T4CB/lRPgIABUYGBAayBgE9/gAAAAAMAAP/ABAADwAATADUAUQAAJSEiJyY1ETQ3NjMhMhcWFREUBwYDNCcmIyEiBwYVFBcWOwEBBhUUFxYzMjcBFRQXFjMyNzY1AxQHBiMhIicmNRE0NzYzMhcWFREUFxYzITIXFgOA/gA1JSYlJjUCADUlJiUmNRITG/6AGxITEhMb6P7pEhISGRoSARgTExobEhNAEhMb/YA1JSYSExobExMSExsCQBoTE8AlJjUCADUlJiUmNf4ANSUmAkAbEhMSExobExP+6RIZGhISEgEY6hsSExITG/6AGxITJSY1AoAbEhMSExv9wBsSExMTAAAAAAMAAP/GBAADwAAPAB8AIgAABRQGIyEiJj0BNDYzITIWFQMhIgYVERQWMyEyNjURNCYBEQEEABwU/GAUHBwUA6AUHMD9gE9xcU8CgE9xcf3xAUAKFBwcFEAUHBwUA4pxT/6AT3FxTwGAT3H9gAIA/wAAAAAAAgAAAGAEAANgAA8AEgAAASEiBhURFBYzITI2NRE0JgERAQNA/YBPcXFPAoBPcXH98QFAA2BxT/6AT3FxTwGAT3H9gAIA/wAABgAAAFIEAAMuAA8AHwAvAD8ATwBfAAABFAYjISImPQE0NjMhMhYVERQGIyEiJj0BNDYzITIWFREUBiMhIiY9ATQ2MyEyFhUBFAYjISImPQE0NjMhMhYVERQGIyEiJj0BNDYzITIWFREUBiMhIiY9ATQ2MyEyFhUBwBwU/qAUHBwUAWAUHBwU/qAUHBwUAWAUHBwU/qAUHBwUAWAUHAJAHBT+oBQcHBQBYBQcHBT+oBQcHBQBYBQcHBT+oBQcHBQBYBQcAr4UHBwUQBQcHBT+ohQcHBRAFBwcFP6iFBwcFEAUHBwUAfwUHBwUQBQcHBT+ohQcHBRAFBwcFP6iFBwcFEAUHBwUAAAAAgBEAPkDvAKHAB4APQAANycmND8BNjIXFhQPATMyFhUUBisBFx4BFRQGBwYiJyE3NjQvASYiBwYUHwEjIgYVFBY7AQcOARUUFhcWMjfqpg4Opg4oDg4OVL8UHBwUv1QHBwcHDigOAiymDg6mDigODg5UvxQcHBS/VAcHBwcOKA75pg4oDqQODg4oDlIcFBQcVAcSCQkSBw4Opg4oDqQODg4oDlIcFBQcVAcSCQkSBw4OAAAAA/wRAPkDygboAB4APQBcAAAlNzY0LwEmIgcGFB8BIyIGFRQWOwEHDgEVFBYXFjI3ATc2NC8BJiIHBhQfASMiBhUUFjsBBw4BFRQWFxYyNwEHDgEfAR4BNz4BLwEXMjY1NCYjJzc+ATU2JicuAQcBFaYODqYOKA4ODlS/FBwcFL9UBwcHBw4oDvvbpg4Opg4oDg4OVL8UHBwUv1QHBwcHDigOBf6pDgEOpA4oDg4BDlO/FB0bFMBWBwcBBwcOKA75pg4oDqQODg4oDlIcFBQcVAcSCQkSBw4OBGGmDigOpA4ODigOUhwUFBxUBxIJCRIHDg79LaMOKA6mDgEODicPUgMcFBQcA1MHEgkJEgcOAQ4AAAAAAwAA/8AEAAPAAA8AHwAkAAABISIGFREUFjMhMjY1ETQmBR4BMyEHIycHFyMnByMnMwEhAyEDA7P8miAtLSADZiAtLf2YGRsqAW4deG8qJjhqQGcdogGv/cw7Aqo7A8AtIPyaIC0tIANmIC3mIBiNVjgeVlbF/cwBOP7IAAX/+//AA/sDwAAPABQAGAAcACAAAAE0JiMhIgYVERQWMyEyNjUlBz8BFzcnARc3JzcXNyc3FwP7MyT8riQzMyQDUiQz/QSJNTamG6YBX6YapiynFaYspgNpJDMzJPyuJDMzJH8Qf37eFdwBCN0V3CDcEd0h3gAAAAcAAP/ABAADwAATABkAHwAmAC0AMQA6AAABNCYjISIGFREUFjMhMjY1MBgCBTcXBwY2BzcPATI2BzcPATA2MQc3DwEwNjEHNw8BASERJzcPASERBAAyI/yqIzIyIwNWIzL+9xYqZgMpdzMqNAQndzcrNyt0NCszKm80KzMCYv1EImsnDQKjA2sjMjIj/KojMjIjAQsBQAELJwlnJgOHKhWJFYk0FokViCoViBaJKxWIFf5ZAYlmK4kI/ncAAwAA/8AEAAPAABMAKABgAAAFIi4CNTQ+AjMyHgIVFA4CAyIOAhUUHgIzMj4CNTQuAiMTMjY3PgE3IiYnPgE3PgE3IgYHDgEHLgE3DgEHDgEVLgE3DgEXPgE3DgMHNz4BNxY2NwYmJzECAGq6i1FRi7pqarqLUVGLumpbonhHR3iiW1uieEdHeKJbCRY7GRMbChAlEBcwExogBjZjIw0SAwYFBx0xHQ0IBxIEMDUgI0waHTg0LxVAFiQTQGkkEDEQQFGLumpquotRUYu6amq6i1EDvEd4oltbonhHR3iiW1uieEf+Kg4QHTAaAgYDDg0jYCMcFw01Ew0jEBAiFxw/FAopFjB8QyZCECRNUVIoFSdAGQZPMwcGCQAAAAAGAAD/wAQAA8AAEwAoADEANwA9AEIAAAUiLgI1ND4CMzIeAhUUDgIDIg4CFRQeAjMyPgI1NC4CIxMXBScwPgIxNxcHJzA2NxcHJzA2ARcHNxcCAGq6i1FRi7pqarqLUVGLumpbonhHR3iiW1uieEdHeKJbSYD+7oBWZlYzgCKAIjOAIoAi/rNA1VVAQFGLumpquotRUYu6amq6i1EDvEd4oltbonhHR3iiW1uieEf+76vNq0BNQCarGaoaJqoaqxn+b1UaxVYAAAYAAP/ABAADwAATACgAMQBMAFoAYgAABSIuAjU0PgIzMh4CFRQOAgMiDgIVFB4CMzI+AjU0LgIjAycOARc+ATcxJxc+ATciJic+ATc+ATciBgcOAQcuATcOAQcxFw4DBzc+ATcWNjcnATcBBzQmJCYCAGq6i1FRi7pqarqLUVGLumpbonhHR3iiW1uieEdHeKJbN2MjHB0gSB0NuxQXDRAkEBYwExogBjZiIw0SBAYEBh0wGQ0dODMuE0AWJBMtUiNm/sgzAsAz3P743EBRi7pqarqLUVGLumpquotRA7xHeKJbW6J4R0d4oltbonhH/kRaLWc5I0AQr6YcMBoCBgQODCRgIx0WDTYTDSMQEx4TryJLT1EmFSdAGQYrJFUBNzj9fDgCyvDIAAAAABMAAP/ABAADvAACABgAJQAvADwASwBXAGQAbgB4AI4AmwCsALwD4wPtA/kEBgQQAAABOQEBDgEjMBQVMjY3HgEXMjY3PgE3KgEjNw4BBw4BBz4BNxY2Nwc+ATciBiMwFhU3DgEnDgEHHgEXPgE3BSIGIx4BFzI2Ny4BNQYmJTIWMzQmNS4BIx4BJSoBIx4BFzoBMy4BJyE0NjcuASMeARcHDgEHPgE3DgEHEzQ2MyIGFRQ2NTQmIyIWFz4BNyImNQMeATMuATUuASceARUDLgEnIgYHHgEXHgEXNi4CJSEiBhURFBYzITI2NRE0JgMuASMeAQcUBgcGJiceATMyNjc2JicuASciBgc2FhceAQcuAScmBhcUFhUeARc6ATM+ATcOAQcqASMUBhU6ATMWNjcOAScwIjEUFhcWNjcOASMeARcuAScqASMuASceARcuAScUFhcyNjcOAQceARciJicqASMeARciJiciJiMUBgcUBhUeATMiJicOAQcWMjcGIicOAQc+ATcuAScOAQcOAQc+ATcwBiMyNjc0NjUOAQcOARcOAQc+ATc8ATUOAQcOAQc+ATcOAQcOAQc+ATcOAQcOAQcuASciBiMyNjMuAScOASMcARU0JicqASMyNjcwNDUqASM6ATM0NjcqASMOAQcuASceARc+ATciJiceATcuAScOASM5AQYmJx4BMy4BJwYmJx4BMy4BJy4BJy4BJx4BFy4BJx4BFzI2Nx4BNxQWFz4BNxY2Nz4BJzQmJy4BJyYGBw4BFx4BNwYmJyY0Nz4BNw4BBwYWFx4BFy4BJwYWFxY2Nw4BBwYmJy4BNz4BNzYWFyYOAicuATcUFhc0Njc+ARceAQc2JgcGFhceARcWNjcGJiceATcOAScuATc2FhcWBiMiJjc+ATc2FhcWBgc+AScuASMiBhcWNicmIgcGFhcWNhcuASceARcuASceARc0JicmNjc2MhcmIgcGFh8BNDY3NgYXLgE1NDY3NjIXLgEnJgYnFjYXMCYnLgEnIgYHBhQXHgEzMjYnNCYjMhYXFhQHDgEnLgE1NDY3MDIzJgYHPgEXLgEnMS4BJw4BJxY2NyIGBz4BFyYGBwYWNzY0IyIGFRQWFxQWMwYiJy4BNz4BMzYWFxYGJyImJw4BBwYmJy4BNz4BMzIWFRQGBwYiJzI2NTQmIyIGBxQWMxY2NzA2NTQ2Nw4BBz4BNw4BBz4BFz4BNyYGBz4BHgEXNCYnMDQxLgEjMhYXPgE3DgEVHgEVMT4BFx4BFTE+ATc2JicqASMiBgcOARceATcyNjU0JicyFhcUBgcGIicuATc+ARceARUUBgcwFBU+ATc+ARcmBgcOAQc+ATcUBgc+AScWBgc2FhcWBgcOAScWNjc+AScxAw4BBxQGBz4BNQceARc+ATc2JicWBgcOAQc+ATc+ATcOAQcHDgEHDgEHPgE3Azf+rxMwFg0UCQQKBAkPCgYNBgkOB7w2g0cGDAMWLBNAahbVBgkGBg0GBNEqdz0NFhAGGAxAdzD+iAMGAwwfEAcRBgMFECUB5AMCAwQTJgMHHf3gBhEGECAQAwYDEBUKAjgBAw0OEAcWCp4GEQcjMAcKHxOECgMDAQ0HBh0JAwMMBgYHIgoYDQYHEBoNCQyIBw0GEyYQFCUQQFUNBxkrNQE7/KojMjIjA1YjMjI0Bx0QEBEDGhAQGQYGEgoNEwYHBQYGGRAQGgkJEwYGCgMDDg0wGwcECSoaBg0GFyoQDC4XBhEHBAMCBBYsExMtGgQBAxQmExAlEwMGAwYIBwMCAxckChAvIwwaDQYDBg0GBgkGAwIEBAYDBwwHAw0KDRIDBAcGAQQEAxAHChEDAwcDChIGCRQJBxMNChIGBgwDAwwGAxEKCgwEBgMDAgQEBwwHBgEDChMJCQ4GBg0GChQNChIGCRkNDBsQEyANDRoMChMKAwIDChcKChQNAwcDChQNAQMKEgYJDwoNFQ0NFQ0GBwMLAxMgDRAhFBQkDQkUCSA7HCxaLQ0TBwwWDCA/HRk4GRAaDRYwFBQiEwMNCgkPChYqDQ0hFyAsCg0zJw0VDRNQKQoDDRoMOnEnExIDBgMNKx0TLQ0NBA0NKRcaLw0NDQMIBhMgDQMFBwkfFCAuBBMzLSM5BgMgHRk6ExMRBg09KRcrFEpcTFNAMzUGBwYBAwQYBgoKBwccDRYtEAYOCRc1Fx0yFCRVHRMsF0BDQxo8GTcbUxoUEAMODQ0bBwYFCgcEBgQRCSAVJCNUTRM0FzlDNlBRVxNxDRAlExAUBhZLMAYDCQoQECoTDR4MN1EdKwEDEGwtCgsNDAcRBgMHB0Z1MDpeRgEDEzEaCRMGAwMDDAYECAMGBwcHAwMDBhIKCgcMCQEEGjcaLWcwCRkNEyYUEyUdFyIQJEEgKmIwM5AKDB0aDQ0GBwIHBgcHDQYGBgMEBwYHDQYTFxoTGQMGCAMJGAkEBAMDDAcDBQEDAwcDAwYBBAMGAwEDCRcGBAwKY0cWFoBDJkYgPJRJCh4QOoQ6R4JxWx4GBg1hV1pbEAMODAkMBwoHEgkHBg0bAwMJEAMCAwMHAwMEAwMMBgMGCgMGCAMCBwMLBwkHAwQWDQ0RRBYGGA0TKxMXKhAQFAMdHAMTEyBfEBA7JyBCCQcGCQoiEBAeCQoBBtoDEg0BAxMTDQMIBgcHAwQIDQoLcgoZEA0ZDQYQBAQMChENFQ0DDAYTJwoCDf5NDREGAwcGAwwGBQMHEw2EMzsKBhYKAxINBkU9wAMGBAUFA9ksJQ0JEwYKEQMNRDNIBAoSBgUDBg0HBAUlBAYJBgckEx8UEBsNCh4QBgkGAwYKDgZmEBsNGkYtGisQAfMDBQUDCgQKAwopEwYNBwoH/iYGCwYTCQ0bEBAmEwJ8AwYEBwYHDQomdkYbTEs/rTIk/K8jMjIjA1EkMv4iEA4HHBAQGAMDEAwJDAwJChkMDQ4DCwoDAQYHEgkMDgMNfBkDBwMaJQkDGBMWHgMGDAMHCw0TDQYGCQYDAgkMCQYNBwcNBgYaEyAyEAMNCgoOBgEDAwIDBAIDBQQKDQMQCgQDCAYDCAYKDAgJBg0GAwMDAwoSBgYSCgMHBwMLAxAaCQkZDQUGAwkPCgYNBwkZDQYHBAQLBwkPCgMLAw0VDQkUCQYIAwkNAwYXDQMLAwYQAwMKBAUFAwYDAwUDAgQEAgMBAwUECRMKBhIKEBQHBBINCg0DDAkJBgcDDQkDBQMNEA0JBxIJAw0QBgcXEgYGEwkHHxYQGQYqYDY2YCoBAyYoCgoSBgYSCgoqLRM1GgYRBxklBgMOExMsFhcSBwcWExYxFwYIAwcYEBAcEBMeBgYzIC1LAwQtIxwvCgoIExM3HCc1BwMIDDwQPToTEFM3FCAMAwYDCgYDAxINExUKEDsGAwcDCQQJAxMXGggmBgEDEIMtEwQTJ285HQkOBgQIDQwdCgcWCgkMWAYGTDoQECpxEBZWDAk/DQoRAxAmFy1DEAMGBBMoDQ0NBwcgUgoZEBwQXC8pBhcJDRMHAwMGEQYdVGZWSg0BAxMWBgwJBA4EAwUJBAMJAgYDDAYHBQMGEwkKEgYDBw0aARcKEwoGCAMTDw0HCRMJDBkNDSAJMBQ/FwkqBgcDCwMDAQMDAw8DAw4EBQMTNAMWEAMGBAMBBwYNBgcGBQMEBgMDAwEDAwYGAwMKAwUHBQMXGwoTY0qARhQEFBMqGBMJCQMXBx0lDClZQA0aDQQmb1scDBgGDB8QFCYTBgYEAw0JCREQDRcDAQMECwcGBgQJAwQGAwYHBgwDAwMHEgkKCQYGGA0gISkBBBAWCQoFBgYKDQ0gEw0hFhktExAuMDAqEAYUHRAjDQ0LAwMLDQ0iDf7zEyoQCRQJGT0dYgYMAwwaDRMqEBo3HhAeCgMMBwwXEAcHAwkDBgQJDgcKERAAAAYAAP+zBA0DwAAQACMANgBGAFYAXgAAASEiBhURFBYzITI2NRE0JiMFNDYzITIWFTEUBiMhIiY1OAExFTQ2MyEyFhUxFAYjISImNTgBMRMUBisBIiY1MTQ2OwEeARUFFAYjISImPQE0NjMhMhYVFyc1NzAcAgOz/KcnMzMnA1kjNzcj/LMjGQKnFiEiGv1aFyEjGQKnGSIiGf1VFyHNIhpZGiIiGlkaIgGvHRb+2hQgHRcBJhMgxJWVA8AzJ/ynIzczJwNZJzPNGiIiGhkjIxnmGSMjGRoiIhr+3hoiIhoZIgMiFnQTIB0WyRMgHRb3ZlpmXG5cAAAAAgB8ADwDhANEAA8AHwAAJTEyNjURNCYjMSIGFREUFgExNCYjISIGFTEUFjMhMjYCABomJhoaJiYBniYa/XgaJiYaAogaJjwmGgKIGiYmGv14GiYBhBomJhoaJiYAAAAABwBaABoDpgNiAAoAFAAtADkAPQBBAEUAAAEyBjEwNh0BIREzNyMRIRE0LgIjASMRMxczNzMVHgEXNSMiJichDgErAREhNRMyFhUUBiMiJjU0NhMzNSM1MzUjNTM1IwKNXRmN/qKNHu8B6i9KWSn+yNGNSIlEjRAkEGogNRb+7xY1IGoBGUkQEhUNDRoXmNHR0dHR0QIEjRld0QGnRP3NATcgV043/lkCNEVFTQMNCqsuFhYu/UBIAngVDQ0VFQ0NFf2IIyYiIiIAAAAACAAA/8AEAAPAAAsAFgAaAB4AIgAyAEsAVQAAATI2NTQmIyIGFRQWATA2KwERITU0BjEXIzUzNSM1MzUjNTMTISIGFREUFjMhMjY1ETQmARUhETMyNjchHgE7ARUuASc1IwcjJyMRMwUhETMyHgIVEQG8EBIVDQ0aFwElFVmNAV6NSdHR0dHR0Zn8miAtLSADZiAtLf2g/udqIDUWARoWNCBrEyEQjU2JSI3RAjP+Fu8pWUovAtoVDQ0VEhAQEv6ijf5Z0WAX1iMmIiIiAmstIPyaIC0tIANmIC385kQCvC4WGSurCg0DTUlJ/cyMAjM3Tlcg/skAAAACAAD/wAQAA8AADwAvAAABISIGFREUFjMhMjY1ETQmAyERFAYjIiY1ESEiJjU0NjMhETQ2MzIWFREhMhYVFAYDs/yaIC0tIANmIC0tj/78JhoaJv78GiYmGgEEJhoaJgEEGiYmA8AtIPyaIC0tIANmIC39wP78GiYmGgEEJhoaJgEEGiYmGv78JhoaJgAAAAAFAAD/wAQAA8AAEwAbACQAKQAuAAABNCYjISIGFREUFjMhMjY1MBgCAQc/ARcwBjE3JwEXMA4CMQEnNxcHNyc3FwcEADIj/KojMjIjA1YjMv0EiDM3p4mipgFepm2DbgF4pyunK0SmKqcrA2sjMjIj/KojMjIjAQsBQAEL/SoRgIDeESfZAQneUWJRARneIt4iNN0j3iIAAAIAqwCmA1EC2gAPABQAABMnMx4BMyEHIycHFyMnByMHEyETIeYdohkbKgFuHXhvKiY4ZkBrOzcCODf9WgIVxSAYjVY4HlZWN/7IATgAAAAACAC8AHwDRAMEABYALQAxADYAOwA/AEMARwAAJQcOASImJy4BNDY/ARcHBhQXFjI/ARcDBxc3NjIXFhQPARc3PgE0JicuASIGByc3FwcHNxcHJzcHJzcXAQcnNzcHJzcHNxcHAlVRHk5STh4fHh4fUUBRJCQjZSdRO1lRQFEjZScjI1E7UR8eHh8eTVFOIK8qDSqeBF4EXo0eQB5AAWoqDSqeBF4ELx5AHutRHx4eHx5OUk4eUUBRI2UnIyNROwH7UUBRJCQjZSdRO1EeTlJOHiAgICAaBF4EWSoNKg1MHkAeQP3rBF4EWSoNKlkeQB4ACQAA/8AEAAPAAA8AEwAXABwAMwA3ADsAPwBWAAABISIGFREUFjMhMjY1ETQmBRcHJwcXBycHFwcnNwEOASImJy4BNDY/ARcHBhQXFjI/ARcHFyc3FzcnNxc3JzcXJwcnNzY0JyYiDwEnNz4BMhYXHgEUBgcDs/yaIC0tIANmIC0t/aQNKg1EQB5AK14EXgQBRB5OUk4eHx4eH1FAUSQkI2UnUTtRhQ0qDURAHkArXgReHlFAUSQkI2UnUTtRHk5STh4gICAgA8AtIPyaIC0tIANmIC28XgReK0AeQEQNKg0q/icfHh4fHk5STh5RQFEjZScjI1E7UR5eBF4rQB5ARA0qDYVRQFEjZScjI1E7UR8eHh8eTVFOIAAAAAACAJ4AXgNiAyIAHgA8AAABByYGDwEOARcHBhQXFjI/ARY2PwE+ASc3NjQnJiIHAwcOASc3NjQnJiIPASY2PwE+ARcHBhQXFjI/ARYGAx54OYYwhDAOIHcNDQ0nEHg5hjCEMA4gdw0NECcNlYUTOhkzDQ0NJxAzBw0ThBQ5GjMNDQwoEDMHDQMidyMRMIQwhjl4DScQDQ13IxEwhDCGOXgNJxANDf6VhBMNBzMNJxANDTMZNxaFEw0HMw0nEA0NMxo2AAAAAwAA/8AEAAPAAB4ALgBNAAABBiInJjQ/ASYGDwEOARc3NjIXFhQPARY2PwE+AScHASEiBhURFBYzITI2NRE0Jg8BFgYPAQ4BJwcGIicmND8BJjY/AT4BFzc2MhcWFAcCdwwoEA0NMxk3FoATDQY0DCgQDQ0zGTcWhBQMBjgBPPyaIC0tIANmIC0taHgjETCEMIU6dw0oEAwMeCMRMIQwhTp3DSgQDAwB7w0NDScQMwcNE4QUORozDQ0MKBAzBw0ThRM6GTMB0S0g/JogLS0gA2YgLeJ4OYYwhDAOIHcNDQ0nEHg5hjCEMA4gdw0NECcNAAAAAAEAAAABAAAQq8YdXw889QALBAAAAAAA1QGcowAAAADVAZyjyXr/swVeOaYAAAAIAAIAAAAAAAAAAQAAA8D/wAAABV7Jev/zBV4AAQAAAAAAAAAAAAAAAAAAADMEAAAAAAAAAAAAAAACAAAABAAAwAQAAIAEAAAABAAAAAQAAAAEQAAABAAAwAVeAAAEAACMBAAADgQAABwEAABmBAAAGgQAABcEAAAaBAAAGgQAALgEAABTBAAAQwQAABgEAAAABADJegQAAFoEAAAABAAAAAQAAAAEAAAABAAARAQA/BEEFgAABAD/+wQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAHwEAABaBAAAAAQAAAAEAAAABAAAqwQAALwEAAAABAAAngQAAAAAAAAAAAoAFAAeACwAQgCqAOYBTAHgAfACqgLCAuQDWAOqBBQErgUoBWoFnAXOBiIGwAbuB1wHmAgQCEoIbgjyCUwJ1goUClAKrgs8C6AMNhH0EnASoBMGE4ITyhQWFD4UthVEFaYWIAABAAAAMwQRABMAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format("woff")}.modal-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.6)}div.np-video{position:relative;width:100%;height:100%}div.np-video.np--embed{padding-bottom:56.25%}div.np-video__wrapper{position:absolute;width:100%;height:100%}div.np-video__element{position:relative;padding-bottom:56.25%;z-index:1}div.np-video__element iframe{position:absolute;width:100%;height:100%}div.np-video__element video{width:100%;height:auto}div.np-video__overlay-ui{position:absolute;z-index:99;width:100%;height:100%;background-position:50%;background-size:contain;background-repeat:no-repeat}div.np-video__overlay-ui.np--embed{height:83%;background-position:50% 20px}div.np-video__overlay-ui.play{background-image:url('+i("FlWQ")+")}div.np-video__overlay-ui.firstplay{background-image:url("+i("IudM")+")}div.np-video__overlay-ui.rewind{background-image:url("+i("5a0T")+")}.np-video__empty{text-align:center;margin:0 auto;width:600px;height:400px}/*!* HACK iOS always has the wrong state for this, hiding it until I can find a proper fix *!*/@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes delayedFadeOut{0%{opacity:1}33%{opacity:1}to{opacity:0}}@keyframes delayedFadeIn{0%{opacity:0}33%{opacity:0}to{opacity:1}}",""])},CxkX:function(e,t,i){e.exports=i.p+"images/producer-edit-cfa2d29fe3ffdf8fd28f01a516039dc0.png"},"D/IP":function(e,t,i){var n="templates/scene/landingscreen.html",a='<div class="landingscreen stretchToViewportShort"> <div> <div class="pane introtext"> <h1 ng-bind-html=episode.display_title></h1> <p id=episode--description ng-bind-html=episode.display_description></p> <br> </div> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+"> </div> <div class=landingscreen-end></div> <div class=clear></div> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},D04R:function(e,t,i){"use strict";function n(e,t,i,n,a,o){return{restrict:"A",replace:!0,scope:{item:"=ittItemEditor"},templateUrl:"templates/producer/item.html",controller:"EditController",link:function(r){a.pause(),a.seek(r.item.start_time),r.uploadStatus=[],r.uneditedItem=angular.copy(r.item),r.uneditedItem.$$hashKey=r.item.$$hashKey,r.annotators=n.episodes[i.episodeId].annotators,r.episodeContainerId=n.episodes[i.episodeId].container_id,r.languages=n.episodes[i.episodeId].languages,r.itemForm=o.setupItemForm(r.item.styles,"item"),r.item.layouts||(console.log("set layouts array to inline"),r.item.layouts=["inline"]),r.item.producerItemType||t.error({data:"Don't have a producerItemType for item "+r.item._id}),r.itemEditor="templates/producer/item/"+i.product+"-"+r.item.producerItemType+".html",r.appState=i,r.watchEdits=r.$watch(function(){return r.item},function(e,t){t&&(e.chapter_marker===!1&&a.removeEvent(e._id),e=n.deriveEvent(e),"producer"!==i.product||e.noEmbed!==!0||"templates/item/link-embed.html"!==e.templateUrl&&"templates/item/link-modal-thumb.html"!==e.templateUrl||(e.templateUrl="templates/item/link.html"),e.asset?(r.item.asset.cssUrl="url('"+e.asset.url+"');",r.item.backgroundImageStyle="background-image: url('"+e.asset.url+"');"):(delete r.item.asset,delete r.item.backgroundImageStyle),e.start_time===t.start_time&&e.start_time===t.end_time||n.resolveEpisodeEvents(i.episodeId))},!0),r.watchStyleEdits=r.$watch(function(){return r.itemForm},function(){var e=[];for(var t in r.itemForm)r.itemForm[t]&&("position"===t?e.push(r.itemForm[t]):e.push(t+r.itemForm[t]));r.item.styles=e,r.item.asset&&(r.item.asset.cssUrl="url('"+r.item.asset.url+"');",r.item.backgroundImageStyle="background-image: url('"+r.item.asset.url+"');")},!0),r.forcePreview=function(){i.editEvent.fnord=i.editEvent.fnord?"":"fnord"};var s=function(e){return!("Annotation"!==e._type||!e.templateUrl.match(/transcript/))};r.setItemTime=function(){"Scene"===r.item._type?(n.resolveEpisodeEvents(i.episodeId),a.updateSceneTimes(r.item.episode_id)):r.item.stop?(r.item.end_time=r.item.start_time,n.resolveEpisodeEvents(i.episodeId),a.updateEventTimes(r.item)):(n.resolveEpisodeEvents(i.episodeId),(r.item.end_time<=r.item.start_time||r.item.end_time>n.events[r.item.scene_id].end_time)&&(r.item.end_time=n.events[r.item.scene_id].end_time),a.updateEventTimes(r.item))};var l=function(e,t){return e.start_time-t.start_time};r.setItemEndTime=function(){(r.item.end_time<=r.item.start_time||r.item.end_time>n.events[r.item.scene_id].end_time)&&(r.item.end_time=n.events[r.item.scene_id].end_time),a.updateEventTimes(r.item)};var c=function(){var e=n.episodes[i.episodeId];return angular.copy(e.items).filter(s)},d=function(e,t,i){if("Chapter"===t._type)return!1;if(!e)return console.warn("getNextStartTime called with no scene (because it's being called for a scene event?)",t,i),!1;var n,a=e.end_time;i=i.sort(l);for(var o=0,r=i.length;o<r;o++)if(i[o]._id===t._id){n=i[o+1];break}return n&&n.start_time<e.end_time&&(a=n.start_time),a},m=function(e){return"Scene"===e._type?e:n.events[r.item.scene_id]};r.switchToAutoOrCustom=function(e){if(e){var t=s(r.item)?c():[];r.item.end_time=d(m(r.item),r.item,t),r.customEndTime=!1}else r.customEndTime=!0},r.isAutoEndTime=function(){var e=s(r.item)?c():[],t=d(m(r.item),r.item,e);return r.item.end_time===t},r.customEndTime=!r.isAutoEndTime(),r.dismissalWatcher=e.$on("player.dismissAllPanels",r.cancelEdit),r.cancelEdit=function(){r.cancelEventEdit(r.uneditedItem)},r.assetUploaded=function(e){r.item.asset=n.assets[e],"Link"===r.item._type?r.item.link_image_id=e:"Annotation"===r.item._type?r.item.annotation_image_id=e:r.item.asset_id=e,r.showUploadButtons=!1,r.showUploadField=!1},r.replaceAsset=function(){console.log("replace asset!"),r.showUploadButtons=!0,r.item.sxs&&(r.item.removedAssets=r.item.removedAssets||[],"Link"===r.item._type?r.item.removedAssets.push(r.item.link_image_id):"Annotation"===r.item._type?r.item.removedAssets.push(r.item.annotation_image_id):r.item.removedAssets.push(r.item.asset_id))},r.detachAsset=function(){if(r.item.asset)switch(r.item.producerItemType){case"link":r.item.asset=null,r.item.link_image_id=null,r.item.asset_id=null,r.item.annotation_image_id=null;break;case"transcript":r.item.asset=null,r.item.annotation_image_id=null;break;case"image":case"question":case"file":r.item.asset=null,r.item.asset_id=null}},r.attachChosenAsset=function(e){var t=n.assets[e];r.item&&(r.item.asset=t,o.onSelectChange(r.item,r.itemForm),"Upload"===r.item._type||"Plugin"===r.item._type?r.item.asset_id=e:"Link"===r.item._type?(r.item.link_image_id=e,r.item.asset_id=e):"Annotation"===r.item._type?(console.log("you are actually getting here!!"),r.item.asset_id=e,r.item.annotation_image_id=e):console.error("Tried to select asset for unknown item type",r.item))},r.$on("$destroy",function(){r.watchEdits(),r.dismissalWatcher(),r.watchStyleEdits()})}}}t.a=n,n.$inject=["$rootScope","errorSvc","appState","modelSvc","timelineSvc","selectService"]},DJEM:function(e,t){var i="templates/producer/item/producer-link.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},DkvC:function(e,t,i){"use strict";function n(e){function t(e){return"video/"+e.match(/(mp4|m3u8|webm)/)[0]}function i(e,t){return s(t)&&t>0&&(e+="#t="+t),e}function n(e){return e.reduce(function(e,t){return a(t)&&e.mediaSrcArr.push(t),e},{type:r,mediaSrcArr:[]})}function a(e){return/(.mp4|.m3u8|.webm)/.test(e)}function o(e){if(a(e))return e}var r="html5",s=e.existy;return{type:r,getMimeType:t,parseMediaSrc:n,canPlay:a,parseInput:o,getOutgoingUrl:i}}t.a=n,n.$inject=["ittUtils"]},DwK4:function(e,t,i){e.exports=i.p+"images/prolotherapy-text-9eb3da161e4474f99736cdfe5c575fdd.svg"},"EB+x":function(e,t,i){"use strict";function n(){return{restrict:"EA",transclude:!0,scope:{canAccess:"=?",force:"=?",onEdit:"&"},template:["<div>",'\t<span class="pencil__content" ng-transclude></span>','\t<span style="text-indent: 0">','\t\t<span class="edit-pencil" ng-click="sendEdit($event)" ng-if="showPencil || force"></span>',"\t</span>","</div>"].join(" "),link:function(e,t){function i(t){e.showPencil=!1,e.onEdit({$event:t})}function n(){e.canAccess===!0&&e.$apply(function(){e.showPencil=!0})}function a(){e.canAccess===!0&&e.$apply(function(){e.showPencil=!1})}e.showPencil=!1,e.sendEdit=i,t.mouseenter(n),t.mouseleave(a)}}}t.a=n},EDO7:function(e,t){var i="templates/producer/annotator-autocomplete.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div style=position:relative ng-show=!hasAnnotator()> <input class=annotatorChooser type=text ng-model=searchText ng-focus=showAutocomplete() ng-blur=hideAutocomplete() ng-change=handleAutocomplete()> <div class="autocompleteList animate transitionFade" ng-if=autoCompleting> <div class=autocompleteItem ng-repeat="annotator in filteredAnnotators | orderBy:\'name\'" ng-click=select(annotator) ng-class="{selected: ($index == preselectedItem)}" style=white-space:nowrap> <img ng-src={{annotator.imageUrl}}> <span ng-bind-html="(annotator.key | highlightSubstring: searchText) || \'(New speaker)\'"></span> </div> </div> </div> <div style=position:relative ng-show=hasAnnotator()> <div sxs-input-i18n=item.annotator x-inputtype="\'input\'"></div> <a style=position:absolute;top:3px;right:10px ng-click="item.annotator={}">(x)</a> </div> ')}]),e.exports=i},ERHl:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{flags:"=",data:"=",itemForm:"=?"},template:['<div class="field">','\t<div class="label">Flags</div>','\t<div class="input">','\t\t<span ng-repeat="flag in $ctrl._flags">',"\t\t\t<span ng-if=\"flag !== 'invertColor'\">",'\t\t\t\t<label for="{{$ctrl._ids[flag]}}"></label>','\t\t\t\t<input id="{{$ctrl._ids[flag]}}" type="checkbox" itt-dynamic-model="\'$ctrl.data.\' + flag" ng-change="$ctrl.handleChange()"/>{{$ctrl._displays[flag]}}',"\t\t\t</span>","\t\t\t<span ng-if=\"flag === 'invertColor'\">",'\t\t\t\t<label for="{{$ctrl._ids[flag]}}"></label>','\t\t\t\t<input id="{{$ctrl._ids[flag]}}" type="checkbox" ng-model="$ctrl.itemForm.color" ng-true-value="\'Invert\'" ng-false-value="\'\'" ng-change="$ctrl.handleChange()"/>{{$ctrl._displays[flag]}}',"\t\t\t</span>","\t\t</span>","\t</div>","</div>"].join(" "),controller:["$scope","selectService","ittUtils",function(e,t,i){function n(){s.data.hasOwnProperty("stop")&&t.onSelectChange(s.data,s.itemForm)}function a(e){return"templates/item/text-h1.html"===e||"templates/item/text-h2.html"===e}function o(){return s.data.templateUrl}function r(e,t){e!==t&&(s.itemForm.color=""),e&&("templates/item/image-fill.html"===s.data.templateUrl?s._flags=s._flags.filter(function(e){return"stop"!==e}):s._flags=s.flags,a(e)?(s._flags=s.flags,i.existy(s.itemForm)&&"internal:editing"===s.data._id&&(s.itemForm.color="Invert")):(i.existy(s.itemForm)&&"internal:editing"===s.data._id&&(s.itemForm.color=""),s._flags=s._flags.filter(function(e){return"chapter_marker"!==e&&"invertColor"!==e})))}var s=this;s._flags=angular.copy(s.flags),s.handleChange=n,s._displays={required:"Required",stop:"Stop item",cosmetic:"Cosmetic",chapter_marker:"Chapter Event",invertColor:"Invert Color"},s._ids={required:"itemRequired",stop:"itemStop",cosmetic:"itemCosmetic",chapter_marker:"itemChapter",invertColor:"Invert"},e.$watch(o,r)}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},EYfB:function(e,t,i){var n=i("CHg3");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},EjJI:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s,l,c,d,m,p){function u(e){return T("/v3/episodes/"+e+"/update_translations")}function g(e,t,i){var n={transformRequest:angular.identity,headers:{"Content-type":void 0}};return o.existy(i)&&Object.keys(i).length>0&&angular.extend(n,{params:i}),V("/v3/episodes/"+e+"/events/import_subtitles",t,n)}function f(e,t){return V("/v3/containers/"+e+"/narratives",t).then(function(e){return e.data}).catch(function(e){console.error("Error generating new narrative:",e)})}function h(e){var t="/v3/customers/"+e+"/link_status.xlsx";window.open(t)}var v={};v.beginBackgroundTranslations=u,v.batchUploadTranscripts=g,v.checkXFrameOpts=function(e){function t(e){return o.existy(e.x_frame_options)&&(e.x_frame_options=e.x_frame_options.toUpperCase()),e}function i(e){return console.warn("xFrameOpts error:",e),{noEmbed:!0}}function n(t){switch(t.noEmbed=!0,!0){case/SAMEORIGIN/i.test(t.x_frame_options):r=a.host(),s=document.createElement("a"),s.href=e,r===s.hostname&&(t.noEmbed=!1);break;case/ALLOW-FROM/i.test(t.x_frame_options):var i=t.x_frame_options.split(",");r=a.host(),angular.forEach(i,function(e){var i=e.trim().split(" ")[1],n=document.createElement("a");n.href=i,r===n.hostname&&(t.noEmbed=!1)});break;case/DENY/i.test(t.x_frame_options):break;case/null/.test(t.x_frame_options):t.noEmbed=!1}return t}var r,s,l=encodeURIComponent(e);return T("/x_frame_options_proxy?url="+l).then(t).then(n).catch(i)},v.generateNewNarrative=f,v.getNarrative=function(i){var n=e.defer(),l=c.narratives[i],d=o.getSubdomain(a.host()),m="";return o.existy(l)&&o.existy(l.subDomain)&&d!==l.subDomain&&(m="?customer="+l.subDomain),s.authenticate("narrative="+i).then(function(){t.get(r.apiDataBaseUrl+"/v3/narratives/"+i+"/resolve"+m).then(function(e){e.data.timelines.sort(function(e,t){return e.sort_order-t.sort_order}),c.cache("narrative",v.resolveIDs(e.data)),n.resolve(c.narratives[e.data._id])})}),n.promise},v.getNarrativeOverview=function(e){return E("/v3/narratives/"+e)},v.getNarrativeExportAsSpreadsheet=function(e){var t="/v3/narratives/"+e+".xlsx";window.open(t)},v.getCustomerLinkStatusReportSpreadsheet=h;var b=!1;v.getUserNarratives=function(t){if(b){var i=e.defer();return i.resolve(b),i.promise}return E("/v3/users/"+t+"/narrative_purchases",function(e){return b=e,e})},v.getCustomerList=function(){return E("/v3/customers/",function(e){return angular.forEach(e,function(e){c.cache("customer",e)}),e})},v.getCustomer=function(t,i){return s.userHasRole("admin")||s.userHasRole("customer admin")?c.customers[t]?i?e(function(e){e(c.customers[t])}):void 0:(c.cache("customer",{_id:t}),E("/v3/customers/"+t,function(e){return c.cache("customer",e),c.customers[e._id]})):e(function(e){e({})})},v.getEpisode=function(e,t){if(!e)throw"no episode ID supplied to dataSvc.getEpisode";c.cache("episode",{_id:e}),i.local?(m.mockEpisode(e),n.$emit("dataSvc.getEpisode.done")):s.authenticate().then(function(){return x()}).then(function(){return S(e,t)})},v.getEpisodeOverview=function(e){return E("/v3/episodes/"+e)},v.getNarrativeList=function(e){return o.existy(e)?E("/v3/narratives?customer_id="+e._id).then(function(t){c.assocNarrativesWithCustomer(e,t)}):E("/v3/narratives/")},v.createUserGroup=function(e){return M("/v3/groups",{group:{name:e}})},v.createNarrative=function(e){return delete e.templateUrl,V("/v3/narratives",e)},v.updateNarrative=function(e){return delete e.templateUrl,P("/v3/narratives/"+e._id,e)},v.createChildEpisode=function(e){return M("/v3/episodes",{episode:e})},v.createEpisodeSegment=function(e,t){return M("/v3/timelines/"+e+"/episode_segments",t)},v.storeTimeline=function(e,t){var i=["sort_order","path_slug","name","description","hidden","timeline_image_id","narrative_id","_id"],n=o.pick(t,i);return n._id?B("/v3/timelines/"+n._id,n,function(e){return"string"==typeof e.name&&(e.name={en:e.name}),"string"==typeof e.description&&(e.description={en:e.description}),e}):M("/v3/narratives/"+e+"/timelines",n,function(e){return"string"==typeof e.name&&(e.name={en:e.name}),"string"==typeof e.description&&(e.description={en:e.description}),e})},v.deleteTimeline=function(e){return D("/v3/timelines/"+e).then(function(e){return e})},v.getSingleAsset=function(t){return t?E("/v1/assets/"+t):e(function(e){e(void 0)})};var y={template:{},layout:{},style:{}},_=!1,w=e.defer(),x=function(){return _?w.promise:(_=!0,e.all([t.get(r.apiDataBaseUrl+"/v1/templates"),t.get(r.apiDataBaseUrl+"/v1/layouts"),t.get(r.apiDataBaseUrl+"/v1/styles")]).then(function(e){v.cache("templates",e[0].data),v.cache("layouts",e[1].data),v.cache("styles",e[2].data),_=!0,w.resolve()},function(){_=!1,w.reject()}),w.promise)};v.getCommon=x,v.cache=function(e,t){angular.forEach(t,function(t){"templates"===e?y.template[t._id]={id:t._id,url:t.url,type:t.applies_to_episodes?"Episode":t.event_types?t.event_types[0]:void 0,displayName:t.name,customerIds:t.customer_ids}:"layouts"===e?y.layout[t._id]={id:t._id,css_name:t.css_name,displayName:t.display_name}:"styles"===e&&(y.style[t._id]={id:t._id,css_name:t.css_name,displayName:t.display_name})})},v.createTemplate=function(e){return M("/v1/templates",e)},v.resolveIDs=function(e){if(e.everyone_group&&!e.template_id&&(e.templateUrl="templates/narrative/default.html"),e.template_id&&(y.template[e.template_id]?(e.templateUrl=y.template[e.template_id].url,delete e.template_id):d.error({data:"Couldn't get templateUrl for id "+e.template_id})),e.layout_id){var t=[];"Scene"===e.type&&(t=["",""]),angular.forEach(e.layout_id,function(i){y.layout[i]?"Scene"===e.type?"showCurrent"===y.layout[i].css_name?t[1]=y.layout[i].css_name:"splitRequired"===y.layout[i].css_name?t[2]=y.layout[i].css_name:t[0]=y.layout[i].css_name:t.push(y.layout[i].css_name):d.error({data:"Couldn't get layout for id "+i})}),t.length>0&&(e.layouts=t)}if(e.style_id){var i=[];angular.forEach(e.style_id,function(e){y.style[e]?i.push(y.style[e].css_name):d.error({data:"Couldn't get style for id "+e})}),i.length>0&&(e.styles=i)}return e};var A=function(e){return e.hasOwnProperty("asset_id")&&e.asset_id?e.asset_id:e.hasOwnProperty("annotation_image_id")&&e.annotation_image_id?e.annotation_image_id:e.hasOwnProperty("link_image_id")&&e.link_image_id?e.link_image_id:e.hasOwnProperty("avatar_id")&&e.avatar_id?e.avatar_id:void 0},k=function(e){for(var t={},i=0,n=e.length;i<n;i++){var a=A(e[i]);a&&(a in t||(t[a]=0))}return Object.keys(t)};v.getAssetsByAssetIds=function(e,i){var n={};return n.asset_ids=e,t.post(r.apiDataBaseUrl+"/v1/assets",n).success(function(e){i(e)}).error(function(){i()})};var S=function(e,i){var a=i?"/v3/episode_segments/"+i+"/resolve":"/v3/episodes/"+e;t.get(r.apiDataBaseUrl+a).success(function(t){var a={};t&&(a=t.episode?t.episode:t),"Published"===a.status||s.userHasRole("admin")||s.userHasRole("customer admin")?(c.cache("episode",v.resolveIDs(a)),C(e,i).success(function(t){t=t||[],I(t,"Plugin",e),angular.forEach(t,function(t){t.cur_episode_id=e,c.cache("event",v.resolveIDs(t))}),c.resolveEpisodeEvents(e);var i=k(t);i=void 0!==i&&i.length>0?i:[],i.push(a.master_asset_id),a.poster_frame_id&&i.push(a.poster_frame_id),v.getAssetsByAssetIds(i,function(t){angular.forEach(t.files,function(e){c.cache("asset",e)}),c.resolveEpisodeAssets(e),n.$emit("dataSvc.getEpisode.done")})}).error(function(){d.error({data:"API call to get events failed."})})):d.error({data:"This episode has not yet been published."})}).error(function(){d.error({data:"API call to /v3/episodes/"+e+" failed (bad episode ID?)"})})};v.getContainerAncestry=function(t,i,n){return n=n||e.defer(),v.getContainer(t,i).then(function(e){var t=c.containers[e];t.parent_id?v.getContainerAncestry(t.parent_id,i,n):n.resolve(e)}),n.promise};var C=function(e,i){var n=i?"/v3/episode_segments/"+i+"/events":"/v3/episodes/"+e+"/events";return t.get(r.apiDataBaseUrl+n)},I=function(e,t,i){angular.forEach(e,function(e){"Plugin"===e.type&&function(e){p.getUserAnswer(e._id,l.user._id).then(function(t){if(t.data){e.data._plugin.hasBeenAnswered=!0;var i=0,n=!0;angular.forEach(e.data._plugin.distractors,function(a){n&&(a.index===t.data.index&&(a.selected=!0,e.data._plugin.selectedDistractor=a.index,n=!1),i++)}),c.cache("event",v.resolveIDs(e))}else console.error("Got no user data from getUserAnswer:",t)})}(e)}),c.resolveEpisodeEvents(i)},E=function(i,n){var a=e.defer();return s.authenticate().then(function(){t.get(r.apiDataBaseUrl+i).then(function(e){var t=e.data;return n&&(t=n(t)),a.resolve(t)})}),a.promise},T=function(e){return s.authenticate().then(function(){return t.get(r.apiDataBaseUrl+e).then(function(e){return e.data})})},V=function(e,i,n){return n?t.post(e,i,n):t.post(e,i)},P=function(e,i){return t.put(r.apiDataBaseUrl+e,i)},B=function(i,n,a){var o=e.defer();return t({method:"PUT",url:r.apiDataBaseUrl+i,data:n}).success(function(e){var t=e;a&&(t=a(t)),o.resolve(t)}),o.promise},M=function(i,n,a){var o=e.defer();return t({method:"POST",url:r.apiDataBaseUrl+i,data:n}).success(function(e){var t=e;a&&(t=a(t)),o.resolve(t)}),o.promise},U=function(i){var n=e.defer();return t({method:"DELETE",url:r.apiDataBaseUrl+i}).success(function(e){return n.resolve(e)}),n.promise},D=function(e){return t({method:"DELETE",url:r.apiDataBaseUrl+e}).then(function(e){return e})};v.getContainerRoot=function(){return E("/v3/containers",function(e){var t=[];return angular.forEach(e,function(e){c.cache("container",e),t.push(e._id)}),t})},v.getContainer=function(e,t){return E("/v3/containers/"+e,function(i){c.cache("container",i[0]);var n=c.containers[i[0]._id];if(v.getContainerAssets(e,t),n.children){for(var a=0;a<n.children.length;a++)n.children[a]=c.containers[n.children[a]._id];var o=!1;t||(o=!0),o&&angular.forEach(n.children,function(e){e.episodes[0]&&v.getEpisodeOverview(e.episodes[0]).then(function(t){t?(e.status=t.status,e.title=t.title,c.cache("container",e)):console.error("Got no episode data for ",e.episodes[0])})})}return i[0]._id})},v.getContainerAssets=function(e,i){return t.get(r.apiDataBaseUrl+"/v1/containers/"+e+"/assets").success(function(t){c.containers[e].assetsHaveLoaded=!0,angular.forEach(t.files,function(e){c.cache("asset",e)}),c.resolveEpisodeAssets(i)})},v.createContainer=function(t){var i=e.defer(),n={container:{customer_id:t.customer_id,name:t.name,parent_id:t.parent_id}};return M("/v3/containers",n).then(function(e){c.cache("container",e);var t=e.parent_id;c.containers[t].children.push(c.containers[e._id]),i.resolve(e)}),i.promise},v.updateContainer=function(t){var i=e.defer();return t._id||(console.error("Tried to update a container with no id",t),i.reject()),B("/v3/containers/"+t._id,t,function(e){c.cache("container",e),i.resolve(e)}),i.promise},v.deleteContainer=function(e){return delete c.containers[e],U("/v3/containers/"+e)},v.createEpisode=function(t){t.status="Unpublished";var i=e.defer();return M("/v3/episodes",t).then(function(e){c.containers[e.container_id].episodes=[e._id],c.containers[e.container_id].status=e.status,i.resolve(e)}),i.promise},v.storeEpisode=function(e){var t=R(e);return console.log("prepped for storage:",t),!!t&&B("/v3/episodes/"+t._id,t)},v.deleteEpisode=function(t){var i=e.defer();return E("/v2/episodes/"+t+"/episode_user_metrics").then(function(n){if(console.log("GOT METRICS: ",n),n.length){for(var a=[],o=0;o<n.length;o++)a.push(U("/v2/episode_user_metrics/"+n[o]._id));e.all(a).then(function(){U("/v3/episodes/"+t),i.resolve()})}else U("/v3/episodes/"+t),i.resolve()}),i.promise},v.deleteItem=function(e){return U("/v3/events/"+e)},v.createAsset=function(t,i){var n=e.defer();return i.container_id=t,i._id&&i._id.match(/internal/)&&delete i._id,i=c.deriveAsset(i),console.log("Attempting to create asset ",i),M("/v1/containers/"+t+"/assets",i).then(function(e){c.containers[e.file.container_id].episodes=[e.file._id],c.cache("asset",e.file),n.resolve(e.file)}),n.promise},v.deleteAsset=function(e){return U("/v1/assets/"+e)},v.storeItem=function(t){return t=N(t),t?t&&t._id&&!t._id.match(/internal/)?B("/v3/events/"+t._id,{event:t}):M("/v3/episodes/"+t.episode_id+"/events",{event:t}):e.reject(!1)};var N=function(e){var t={};e._id&&e._id.match(/internal/)&&delete e._id;var i=["_id","start_time","end_time","episode_id","chapter_marker","template_id","templateUrl","stop","required","cosmetic","sxs","title","url","noEmbed","annotator","annotation","description","data","asset_id","link_image_id","annotation_image_id","avatar_id"];t.type=e._type;for(var n=0;n<i.length;n++)void 0!==e[i[n]]&&(t[i[n]]=angular.copy(e[i[n]]));if(t.start_time&&t.end_time){var a=parseFloat(t.start_time),o=parseFloat(t.end_time);if(isNaN(a)||isNaN(o))return d.error({data:"Tried to store an invalid start_time or end_time."}),!1;if(a>o)return d.error({data:"Tried to store a start_time that is after the end_time."}),!1}if(t.data&&(delete t.data._plugin.selectedDistractor,delete t.data._plugin.hasBeenAnswered,delete t.data._plugin._type,t.data._plugin.distractors.length))for(n=0;n<t.data._plugin.distractors.length;n++)delete t.data._plugin.distractors[n].selected;if(t.style_id=[],t.layout_id=[],t.style_id=L("style",e.styles),t.layout_id=L("layout",e.layouts),"Chapter"===e._type)return t;var r=v.readCache("template","url",e.templateUrl);return t.template_id=r?r.id:F(e.templateUrl),t.template_id?t:(d.error({data:"Tried to store a template with no ID: "+e.templateUrl}),!1)};v.prepItemForStorage=N,v.detachEventAsset=function(e,t){return!!(e=N(e))&&(e.asset_id===t&&(e.asset_id=null),e.link_image_id===t&&(e.link_image_id=null),e.annotation_image_id===t&&(e.annotation_image_id=null),e&&e._id&&!e._id.match(/internal/)?B("/v3/events/"+e._id,{event:e}):M("/v3/episodes/"+e.episode_id+"/events",{event:e}))};var R=function(e){var t={};e._id&&e._id.match(/internal/)&&delete e._id;for(var i=["_id","title","description","container_id","customer_id","master_asset_id","poster_frame_id","status","languages"],n=0;n<i.length;n++)(e[i[n]]||0===e[i[n]])&&(t[i[n]]=angular.copy(e[i[n]]));t.style_id=L("style",e.styles);var a=v.readCache("template","url",e.templateUrl);return t.template_id=a?a.id:F(e.templateUrl),t.template_id?t:(d.error({data:"Tried to store a template with no ID: "+e.templateUrl}),!1)},F=function(e){var t={"templates/episode/episode.html":"templates/episode-default.html","templates/episode/eliterate.html":"templates/episode-eliterate.html","templates/episode/ewb.html":"templates/episode-ewb.html","templates/episode/gw.html":"templates/episode-gw.html","templates/episode/purdue.html":"templates/episode-purdue.html","templates/episode/story.html":"templates/episode-tellingstory.html","templates/item/transcript.html":"templates/transcript-default.html","templates/item/transcript-withthumbnail.html":"templates/transcript-withthumbnail.html","templates/item/transcript-withthumbnail-alt.html":"templates/transcript-withthumbnail-alt.html","templates/item/text-h1.html":"templates/text-h1.html","templates/item/text-h2.html":"templates/text-h2.html","templates/item/pullquote-noattrib.html":"templates/text-pullquote-noattrib.html","templates/item/pullquote.html":"templates/text-pullquote.html","templates/item/image.html":"templates/transmedia-image-default.html","templates/item/image-caption.html":"templates/transmedia-caption.html","templates/item/image-caption-sliding.html":"templates/transmedia-slidingcaption.html","templates/item/image-fill.html":"templates/transmedia-image-fill.html","templates/item/image-plain.html":"templates/transmedia-image-plain.html","templates/item/image-linkonly.html":"templates/transmedia-linkonly.html","templates/item/image-thumbnail.html":"templates/transmedia-thumbnail.html","templates/item/link.html":"templates/transmedia-link-default.html","templates/item/link-embed.html":"templates/transmedia-link-embed.html","templates/scene/1col.html":"templates/scene-1col.html","templates/scene/2colL.html":"templates/scene-2colL.html","templates/scene/2colR.html":"templates/scene-2colR.html","templates/scene/centered.html":"templates/scene-centered.html","templates/scene/cornerH.html":"templates/scene-cornerH.html","templates/scene/cornerV.html":"templates/scene-cornerV.html","templates/item/question-mc-formative.html":"templates/question-mc-formative.html","templates/item/question-mc-poll.html":"templates/question-mc-poll.html","templates/item/question-mc.html":"templates/question-mc.html","templates/item/question-mc-image-left.html":"templates/question-mc-image-left.html","templates/item/question-mc-image-right.html":"templates/question-mc-image-right.html","templates/item/sxs-question.html":"templates/sxs-question.html","templates/item/sxs-link.html":"templates/sxs-link.html"};if(t[e]){return v.readCache("template","url",t[e]).id}return!1};v.readCache=function(e,t,i){var n=!1;return angular.forEach(y[e],function(e){e[t]===i&&(n=e)}),n||!1},r.debugInBrowser&&console.log("DataSvc cache:",y),v.getTemplates=function(){return Object.keys(y.template).map(function(e){return y.template[e]})};var L=function(e,t){var i=["colorEliterate","colorGw","colorGwsb","colorPurdue","colorUsc","colorColumbia","colorColumbiabusiness","typographyEliterate","typographyGw","typographyGwsb","typographyPurdue","typographyUsc","typographyColumbia","typographyColumbiabusiness"],n=[];return angular.forEach(t,function(t){if(t){var a=v.readCache(e,"css_name",t);if(a)n.push(a.id);else{if(i.indexOf(t)===-1)return d.error({data:"Tried to store a "+e+" with no ID: "+t}),!1;console.log("Ignoring ",t)}}}),n};return v}t.a=n,n.$inject=["$q","$http","$routeParams","$rootScope","$location","ittUtils","config","authSvc","appState","modelSvc","errorSvc","mockSvc","questionAnswersSvc"]},ElzS:function(e,t){var i="templates/episode/components/discovermode.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=discoverMode ng-if="appState.viewMode == \'discover\'"> <div class="fill windowBg bgLayer"> <div ng-class="item.styleCss + \' \' + item.state" itt-item=item class="item animate" ng-repeat="item in scene.items | isCurrent | itemLayout:\'windowBg\'"> </div> </div> <div itt-scene=scene episode=episode></div> </div> ')}]),e.exports=i},F2N4:function(e,t){window.NREUM||(NREUM={}),__nr_require=function(e,t,i){function n(i){if(!t[i]){var a=t[i]={exports:{}};e[i][0].call(a.exports,function(t){return n(e[i][1][t]||t)},a,a.exports)}return t[i].exports}if("function"==typeof __nr_require)return __nr_require;for(var a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,i){function n(e){try{s.console&&console.log(e)}catch(t){}}var a,o=e("ee"),r=e(19),s={};try{a=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,a.indexOf("dev")!==-1&&(s.dev=!0),a.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(e){}s.nrDev&&o.on("internal-error",function(e){n(e.stack)}),s.dev&&o.on("fn-err",function(e,t,i){n(i.stack)}),s.dev&&(n("NR AGENT IN DEVELOPMENT MODE"),n("flags: "+r(s,function(e,t){return e}).join(", ")))},{}],2:[function(e,t,i){function n(e,t,i,n,o){try{p?p-=1:r("err",[o||new a(e,t,i)])}catch(l){try{r("ierr",[l,(new Date).getTime(),!0])}catch(c){}}return"function"==typeof d&&d.apply(this,s(arguments))}function a(e,t,i){this.message=e||"Uncaught error with no additional information",this.sourceURL=t,this.line=i}function o(e){r("err",[e,(new Date).getTime()])}var r=e("handle"),s=e(20),l=e("ee"),c=e("loader"),d=window.onerror,m=!1,p=0;c.features.err=!0,e(1),window.onerror=n;try{throw new Error}catch(t){"stack"in t&&(e(12),e(11),"addEventListener"in window&&e(6),c.xhrWrappable&&e(13),m=!0)}l.on("fn-start",function(e,t,i){m&&(p+=1)}),l.on("fn-err",function(e,t,i){m&&(this.thrown=!0,o(i))}),l.on("fn-end",function(){m&&!this.thrown&&p>0&&(p-=1)}),l.on("internal-error",function(e){r("ierr",[e,(new Date).getTime(),!0])})},{}],3:[function(e,t,i){e("loader").features.ins=!0},{}],4:[function(e,t,i){function n(){V++,E=b.hash,this[d]=Date.now()}function a(){V--,b.hash!==E&&o(0,!0);var e=Date.now();this[g]=~~this[g]+e-this[d],this[m]=e}function o(e,t){w.emit("newURL",[""+b,t])}function r(e,t){e.on(t,function(){this[t]=Date.now()})}var s="-start",l="-end",c="-body",d="fn"+s,m="fn"+l,p="cb"+s,u="cb"+l,g="jsTime",f="fetch",h="addEventListener",v=window,b=v.location;if(v[h]){var y=e(9),_=e(10),w=e(8),x=e(6),A=e(12),k=e(7),S=e(13),C=e("ee"),I=C.get("tracer");e(14),e("loader").features.spa=!0;var E,T=v[h],V=0;C.on(d,n),C.on(p,n),C.on(m,a),C.on(u,a),C.buffer([d,m,"xhr-done","xhr-resolved"]),x.buffer([d]),A.buffer(["setTimeout"+l,"clearTimeout"+s,d]),S.buffer([d,"new-xhr","open-xhr"+s]),k.buffer([f+s,f+"-done",f+c+s,f+c+l]),w.buffer(["newURL"]),y.buffer([d]),_.buffer(["propagate",p,u,"executor-err","resolve"+s]),I.buffer([d,"no-"+d]),r(S,"open-xhr"+s),r(C,"xhr-resolved"),r(C,"xhr-done"),r(k,f+s),r(k,f+"-done"),w.on("pushState-end",o),w.on("replaceState-end",o),T("hashchange",o,!0),T("load",o,!0),T("popstate",function(){o(0,V>1)},!0)}},{}],5:[function(e,t,i){function n(e){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var a=e("ee"),o=e("handle"),r=e(12),s=e(11),l="learResourceTimings",c="addEventListener",d="resourcetimingbufferfull",m="bstResource",p="resource",u="-start",g="-end",f="fn"+u,h="fn"+g,v="bstTimer",b="pushState";e("loader").features.stn=!0,e(8);var y=NREUM.o.EV;a.on(f,function(e,t){e[0]instanceof y&&(this.bstStart=Date.now())}),a.on(h,function(e,t){var i=e[0];i instanceof y&&o("bst",[i,t,this.bstStart,Date.now()])}),r.on(f,function(e,t,i){this.bstStart=Date.now(),this.bstType=i}),r.on(h,function(e,t){o(v,[t,this.bstStart,Date.now(),this.bstType])}),s.on(f,function(){this.bstStart=Date.now()}),s.on(h,function(e,t){o(v,[t,this.bstStart,Date.now(),"requestAnimationFrame"])}),a.on(b+u,function(e){this.time=Date.now(),this.startPath=location.pathname+location.hash}),a.on(b+g,function(e){o("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),c in window.performance&&(window.performance["c"+l]?window.performance[c](d,function(e){o(m,[window.performance.getEntriesByType(p)]),window.performance["c"+l]()},!1):window.performance[c]("webkit"+d,function(e){o(m,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+l]()},!1)),document[c]("scroll",n,!1),document[c]("keypress",n,!1),document[c]("click",n,!1)}},{}],6:[function(e,t,i){function n(e){for(var t=e;t&&!t.hasOwnProperty(d);)t=Object.getPrototypeOf(t);t&&a(t)}function a(e){s.inPlace(e,[d,m],"-",o)}function o(e,t){return e[1]}var r=e("ee").get("events"),s=e(21)(r),l=e("gos"),c=XMLHttpRequest,d="addEventListener",m="removeEventListener";t.exports=r,"getPrototypeOf"in Object?(n(document),n(window),n(c.prototype)):c.prototype.hasOwnProperty(d)&&(a(window),a(c.prototype)),r.on(d+"-start",function(e,t){if(e[1]){var i=e[1];if("function"==typeof i){var n=l(i,"nr@wrapped",function(){return s(i,"fn-",null,i.name||"anonymous")});this.wrapped=e[1]=n}else"function"==typeof i.handleEvent&&s.inPlace(i,["handleEvent"],"fn-")}}),r.on(m+"-start",function(e){var t=this.wrapped;t&&(e[1]=t)})},{}],7:[function(e,t,i){function n(e,t,i){var n=e[t];"function"==typeof n&&(e[t]=function(){var e=n.apply(this,arguments);return a.emit(i+"start",arguments,e),e.then(function(t){return a.emit(i+"end",[null,t],e),t},function(t){throw a.emit(i+"end",[t],e),t})})}var a=e("ee").get("fetch"),o=e(19);t.exports=a;var r=window,s="fetch-",l=s+"body-",c=["arrayBuffer","blob","json","text","formData"],d=r.Request,m=r.Response,p=r.fetch,u="prototype";d&&m&&p&&(o(c,function(e,t){n(d[u],t,l),n(m[u],t,l)}),n(r,"fetch",s),a.on(s+"end",function(e,t){var i=this;t?t.clone().arrayBuffer().then(function(e){i.rxSize=e.byteLength,a.emit(s+"done",[null,t],i)}):a.emit(s+"done",[e],i)}))},{}],8:[function(e,t,i){var n=e("ee").get("history"),a=e(21)(n);t.exports=n,a.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(e,t,i){var n=e("ee").get("mutation"),a=e(21)(n),o=NREUM.o.MO;t.exports=n,o&&(window.MutationObserver=function(e){return this instanceof o?new o(a(e,"fn-")):o.apply(this,arguments)},MutationObserver.prototype=o.prototype)},{}],10:[function(e,t,i){function n(e){var t=r.context(),i=s(e,"executor-",t),n=new c(i);return r.context(n).getCtx=function(){return t},r.emit("new-promise",[n,t],t),n}function a(e,t){return t}var o=e(21),r=e("ee").get("promise"),s=o(r),l=e(19),c=NREUM.o.PR;t.exports=r,c&&(window.Promise=n,["all","race"].forEach(function(e){var t=c[e];c[e]=function(i){function n(e){return function(){r.emit("propagate",[null,!a],o),a=a||!e}}var a=!1;l(i,function(t,i){Promise.resolve(i).then(n("all"===e),n(!1))});var o=t.apply(c,arguments);return c.resolve(o)}}),["resolve","reject"].forEach(function(e){var t=c[e];c[e]=function(e){var i=t.apply(c,arguments);return e!==i&&r.emit("propagate",[e,!0],i),i}}),c.prototype.catch=function(e){return this.then(null,e)},c.prototype=Object.create(c.prototype,{constructor:{value:n}}),l(Object.getOwnPropertyNames(c),function(e,t){try{n[t]=c[t]}catch(i){}}),r.on("executor-start",function(e){e[0]=s(e[0],"resolve-",this),e[1]=s(e[1],"resolve-",this)}),r.on("executor-err",function(e,t,i){e[1](i)}),s.inPlace(c.prototype,["then"],"then-",a),r.on("then-start",function(e,t){this.promise=t,e[0]=s(e[0],"cb-",this),e[1]=s(e[1],"cb-",this)}),r.on("then-end",function(e,t,i){this.nextPromise=i;var n=this.promise;r.emit("propagate",[n,!0],i)}),r.on("cb-end",function(e,t,i){r.emit("propagate",[i,!0],this.nextPromise)}),r.on("propagate",function(e,t,i){this.getCtx&&!t||(this.getCtx=function(){if(e instanceof Promise)var t=r.context(e);return t&&t.getCtx?t.getCtx():this})}),n.toString=function(){return""+c})},{}],11:[function(e,t,i){var n=e("ee").get("raf"),a=e(21)(n),o="equestAnimationFrame";t.exports=n,a.inPlace(window,["r"+o,"mozR"+o,"webkitR"+o,"msR"+o],"raf-"),n.on("raf-start",function(e){e[0]=a(e[0],"fn-")})},{}],12:[function(e,t,i){function n(e,t,i){e[0]=r(e[0],"fn-",null,i)}function a(e,t,i){this.method=i,this.timerDuration="number"==typeof e[1]?e[1]:0,e[0]=r(e[0],"fn-",this,i)}var o=e("ee").get("timer"),r=e(21)(o),s="setTimeout",l="setInterval",c="clearTimeout",d="-start";t.exports=o,r.inPlace(window,[s,"setImmediate"],s+"-"),r.inPlace(window,[l],l+"-"),r.inPlace(window,[c,"clearImmediate"],c+"-"),o.on(l+d,n),o.on(s+d,a)},{}],13:[function(e,t,i){function n(e,t){d.inPlace(t,["onreadystatechange"],"fn-",s)}function a(){var e=this,t=c.context(e);e.readyState>3&&!t.resolved&&(t.resolved=!0,c.emit("xhr-resolved",[],e)),d.inPlace(e,f,"fn-",s)}function o(e){h.push(e),u&&(b=-b,y.data=b)}function r(){for(var e=0;e<h.length;e++)n([],h[e]);h.length&&(h=[])}function s(e,t){return t}e(6);var l=e("ee"),c=l.get("xhr"),d=e(21)(c),m=NREUM.o,p=m.XHR,u=m.MO,g="readystatechange",f=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],h=[];t.exports=c;var v=window.XMLHttpRequest=function(e){var t=new p(e);try{c.emit("new-xhr",[t],t),t.addEventListener(g,a,!1)}catch(i){try{c.emit("internal-error",[i])}catch(n){}}return t};if(function(e,t){for(var i in e)t[i]=e[i];return t}(p,v),v.prototype=p.prototype,d.inPlace(v.prototype,["open","send"],"-xhr-",s),c.on("send-xhr-start",function(e,t){n(e,t),o(t)}),c.on("open-xhr-start",n),u){var b=1,y=document.createTextNode(b);new u(r).observe(y,{characterData:!0})}else l.on("fn-end",function(e){e[0]&&e[0].type===g||r()})},{}],14:[function(e,t,i){function n(e){var t=this.params,i=this.metrics;if(!this.ended){this.ended=!0;for(var n=0;n<m;n++)e.removeEventListener(d[n],this.listener,!1);if(!t.aborted){if(i.duration=(new Date).getTime()-this.startTime,4===e.readyState){t.status=e.status;var o=a(e,this.lastSize);if(o&&(i.rxSize=o),this.sameOrigin){var r=e.getResponseHeader("X-NewRelic-App-Data");r&&(t.cat=r.split(", ").pop())}}else t.status=0;i.cbTime=this.cbTime,c.emit("xhr-done",[e],e),s("xhr",[t,i,this.startTime])}}}function a(e,t){var i=e.responseType;if("json"===i&&null!==t)return t;var n="arraybuffer"===i||"blob"===i||"json"===i?e.response:e.responseText;return g(n)}function o(e,t){var i=l(t),n=e.params;n.host=i.hostname+":"+i.port,n.pathname=i.pathname,e.sameOrigin=i.sameOrigin}var r=e("loader");if(r.xhrWrappable){var s=e("handle"),l=e(15),c=e("ee"),d=["load","error","abort","timeout"],m=d.length,p=e("id"),u=e(18),g=e(17),f=window.XMLHttpRequest;r.features.xhr=!0,e(13),c.on("new-xhr",function(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=n,t.ended=!1,t.xhrGuids={},t.lastSize=null,u&&(u>34||u<10)||window.opera||e.addEventListener("progress",function(e){t.lastSize=e.loaded},!1)}),c.on("open-xhr-start",function(e){this.params={method:e[0]},o(this,e[1]),this.metrics={}}),c.on("open-xhr-end",function(e,t){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&t.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),c.on("send-xhr-start",function(e,t){var i=this.metrics,n=e[0],a=this;if(i&&n){var o=g(n);o&&(i.txSize=o)}this.startTime=(new Date).getTime(),this.listener=function(e){try{"abort"===e.type&&(a.params.aborted=!0),("load"!==e.type||a.called===a.totalCbs&&(a.onloadCalled||"function"!=typeof t.onload))&&a.end(t)}catch(i){try{c.emit("internal-error",[i])}catch(n){}}};for(var r=0;r<m;r++)t.addEventListener(d[r],this.listener,!1)}),c.on("xhr-cb-time",function(e,t,i){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof i.onload||this.end(i)}),c.on("xhr-load-added",function(e,t){var i=""+p(e)+!!t;this.xhrGuids&&!this.xhrGuids[i]&&(this.xhrGuids[i]=!0,this.totalCbs+=1)}),c.on("xhr-load-removed",function(e,t){var i=""+p(e)+!!t;this.xhrGuids&&this.xhrGuids[i]&&(delete this.xhrGuids[i],this.totalCbs-=1)}),c.on("addEventListener-end",function(e,t){t instanceof f&&"load"===e[0]&&c.emit("xhr-load-added",[e[1],e[2]],t)}),c.on("removeEventListener-end",function(e,t){t instanceof f&&"load"===e[0]&&c.emit("xhr-load-removed",[e[1],e[2]],t)}),c.on("fn-start",function(e,t,i){t instanceof f&&("onload"===i&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),c.on("fn-end",function(e,t){this.xhrCbStart&&c.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,t],t)})}},{}],15:[function(e,t,i){t.exports=function(e){var t=document.createElement("a"),i=window.location,n={};t.href=e,n.port=t.port;var a=t.href.split("://");!n.port&&a[1]&&(n.port=a[1].split("/")[0].split("@").pop().split(":")[1]),n.port&&"0"!==n.port||(n.port="https"===a[0]?"443":"80"),n.hostname=t.hostname||i.hostname,n.pathname=t.pathname,n.protocol=a[0],"/"!==n.pathname.charAt(0)&&(n.pathname="/"+n.pathname);var o=!t.protocol||":"===t.protocol||t.protocol===i.protocol,r=t.hostname===document.domain&&t.port===i.port;return n.sameOrigin=o&&(!t.hostname||r),n}},{}],16:[function(e,t,i){function n(){}function a(e,t,i){return function(){return o(e,[(new Date).getTime()].concat(s(arguments)),t?null:this,i),t?void 0:this}}var o=e("handle"),r=e(19),s=e(20),l=e("ee").get("tracer"),c=NREUM;void 0===window.newrelic&&(newrelic=c);var d=["setPageViewName","setCustomAttribute","finished","addToTrace","inlineHit"],m="api-",p=m+"ixn-";r(d,function(e,t){c[t]=a(m+t,!0,"api")}),c.addPageAction=a(m+"addPageAction",!0),t.exports=newrelic,c.interaction=function(){return(new n).get()};var u=n.prototype={createTracer:function(e,t){var i={},n=this,a="function"==typeof t;return o(p+"tracer",[Date.now(),e,i],n),function(){if(l.emit((a?"":"no-")+"fn-start",[Date.now(),n,a],i),a)try{return t.apply(this,arguments)}finally{l.emit("fn-end",[Date.now()],i)}}}};r("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){u[t]=a(p+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],17:[function(e,t,i){t.exports=function(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return JSON.stringify(e).length}catch(t){return}}}},{}],18:[function(e,t,i){var n=0,a=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);a&&(n=+a[1]),t.exports=n},{}],19:[function(e,t,i){function n(e,t){var i=[],n="",o=0;for(n in e)a.call(e,n)&&(i[o]=t(n,e[n]),o+=1);return i}var a=Object.prototype.hasOwnProperty;t.exports=n},{}],20:[function(e,t,i){function n(e,t,i){t||(t=0),void 0===i&&(i=e?e.length:0);for(var n=-1,a=i-t||0,o=Array(a<0?0:a);++n<a;)o[n]=e[t+n];return o}t.exports=n},{}],21:[function(e,t,i){function n(e){return!(e&&"function"==typeof e&&e.apply&&!e[r])}var a=e("ee"),o=e(20),r="nr@original",s=Object.prototype.hasOwnProperty,l=!1;t.exports=function(e){function t(e,t,i,a){function s(){var n,r,s,l;try{r=this,n=o(arguments),s="function"==typeof i?i(n,r):i||{}}catch(d){m([d,"",[n,r,a],s])}c(t+"start",[n,r,a],s);try{return l=e.apply(r,n)}catch(e){throw c(t+"err",[n,r,e],s),e}finally{c(t+"end",[n,r,l],s)}}return n(e)?e:(t||(t=""),s[r]=e,d(e,s),s)}function i(e,i,a,o){a||(a="");var r,s,l,c="-"===a.charAt(0);for(l=0;l<i.length;l++)s=i[l],r=e[s],n(r)||(e[s]=t(r,c?s+a:a,o,s))}function c(t,i,n){if(!l){l=!0;try{e.emit(t,i,n)}catch(a){m([a,t,i,n])}l=!1}}function d(e,t){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach(function(i){Object.defineProperty(t,i,{get:function(){return e[i]},set:function(t){return e[i]=t,t}})}),t}catch(n){m([n])}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return t}function m(t){try{e.emit("internal-error",t)}catch(i){}}return e||(e=a),t.inPlace=i,t.flag=r,t}},{}],ee:[function(e,t,i){function n(){}function a(e){function t(e){return e&&e instanceof n?e:e?s(e,r,o):o()}function i(i,n,a){e&&e(i,n,a);for(var o=t(a),r=p(i),s=r.length,l=0;l<s;l++)r[l].apply(o,n);var d=c[h[i]];return d&&d.push([v,i,n,o]),o}function m(e,t){f[e]=p(e).concat(t)}function p(e){return f[e]||[]}function u(e){return d[e]=d[e]||a(i)}function g(e,t){l(e,function(e,i){t=t||"feature",h[i]=t,t in c||(c[t]=[])})}var f={},h={},v={on:m,emit:i,get:u,listeners:p,context:t,buffer:g};return v}function o(){return new n}var r="nr@context",s=e("gos"),l=e(19),c={},d={};(t.exports=a()).backlog=c},{}],gos:[function(e,t,i){function n(e,t,i){if(a.call(e,t))return e[t];var n=i();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!1}),n}catch(e){}return e[t]=n,n}var a=Object.prototype.hasOwnProperty;t.exports=n},{}],handle:[function(e,t,i){function n(e,t,i,n){a.buffer([e],n),a.emit(e,t,i)}var a=e("ee").get("handle");t.exports=n,n.ee=a},{}],id:[function(e,t,i){function n(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:r(e,o,function(){return a++})}var a=1,o="nr@id",r=e("gos");t.exports=n},{}],loader:[function(e,t,i){function n(){if(!y++){var e=b.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){l(h,function(t,i){e[t]||(e[t]=i)});var i="https"===f.split(":")[0]||e.sslForHttp;b.proto=i?"https://":"http://",s("mark",["onload",r()],null,"api");var n=d.createElement("script");n.src=b.proto+e.agent,t.parentNode.insertBefore(n,t)}}}function a(){"complete"===d.readyState&&o()}function o(){s("mark",["domContent",r()],null,"api")}function r(){return(new Date).getTime()}var s=e("handle"),l=e(19),c=window,d=c.document,m="addEventListener",p="attachEvent",u=c.XMLHttpRequest,g=u&&u.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:u,REQ:c.Request,EV:c.Event,PR:c.Promise,MO:c.MutationObserver},e(16);var f=""+location,h={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-963.min.js"},v=u&&g&&g[m]&&!/CriOS/.test(navigator.userAgent),b=t.exports={offset:r(),origin:f,features:{},xhrWrappable:v};d[m]?(d[m]("DOMContentLoaded",o,!1),c[m]("load",n,!1)):(d[p]("onreadystatechange",a),c[p]("onload",n)),s("mark",["firstbyte",r()],null,"api");var y=0},{}]},{},["loader",2,14,5,3,4]),NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"3eaaf05c55",applicationID:"3997255",sa:1}},F5VT:function(e,t,i){var n="templates/scene/mirrored-twocol.html",a=' <div class="scene cornerV" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=col> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in altBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{singleitem: altContentItems.length==1, isNarrow: isNarrow, isEmpty: altContentItems.length == 0}" itt-width-watch> <div class="item animate" ng-repeat="item in altItems = (altContentItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in altFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> <div class=col> <div class="pane altPane stretchToViewport"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in mainBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (mainContentItems | isCurrent).length == 1\n\t\t\t\t\t: (mainContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: mainContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: mainContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: mainContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (mainContentItems | isCurrent) : mainContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},FAT7:function(e,t,i){"use strict";function n(e,t,i){e.logout=i.logout,e.containerId=t.containerId}t.a=n,n.$inject=["$scope","$routeParams","authSvc"]},FFkw:function(e,t){var i="templates/item/file-withimage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text item__text--file-with-image"> <span ng-if=item.noEmbed> <span ng-if=!item.targetTop> <div class="title item__title item__title--file-with-image"> <a tabindex=0 class="escapelink item__link--escape-link" x-ng-keypress=outgoingLinkOnKeyPress(item.asset.url,$event) ng-click=outgoingLink(item.asset.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 ng-if=item.asset.url x-ng-keypress=outgoingLinkOnKeyPress(item.asset.url,$event) ng-click=outgoingLink(item.asset.url)> <img ng-src={{item.asset.url}}> </a> </span> <span ng-if=item.targetTop> <div class="title item__title item__title--file-with-image"> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-src={{item.asset.url}}> </a> </span> </span> <span ng-if=!item.noEmbed> <div class="title item__title item__title--file-with-image"> <a role=button x-ng-keypress=toggleDetailOnKeyPress($event) class="fakeLink item__link--fake-link" tabindex=0 ng-click=toggleDetailView() ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <img ng-click=toggleDetailView() ng-src={{item.asset.url}}> </span> </div> <div class="item__text item__text--file-with-image" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class=escapelink>(new window)</a> <itt-iframe x-src={{item.asset.url}} item=item x-contenttype={{item.asset.content_type}}></itt-iframe> </div> <div class=clear></div> ')}]),e.exports=i},FUk5:function(e,t,i){e.exports=i.p+"images/checkmark-empty-eccafa854fceac6359bac2609d44e2ce.png"},FlWQ:function(e,t,i){e.exports=i.p+"images/play-overlay-3f5132db2355fbbab65671fbf4cb6c57.png"},Fttn:function(e,t,i){var n="templates/episode/gwsb.html",a='<div class="episode episode-gwsb" ng-class=episode.styleCss> <div class="fill gwsb-seal"> <div class=fill></div> </div> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("BRlR")+' alt="The George Washington University"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},Fz2T:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".narrasys{background-image:url("+i("xbCZ")+")}.narrasys .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Gotham Medium;color:#fff;background-color:#de6625;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.narrasys .landingscreen .introtext{padding-bottom:2em}.narrasys .landingscreen #episode--description{display:none}.narrasys .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Gotham Medium;color:#fff;background-color:#de6625;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.narrasys .searchPanel__wrapper{font-family:Gotham Thin,sans-serif;color:#4d4d4d}.narrasys .searchPanel__wrapper .fake-link--search-results{color:#de6626}.narrasys .searchResults{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .searchResults .item__link--escape-link,.narrasys .searchResults .item__link--fake-link,.narrasys .searchResults .item__title--link{font-family:Gotham Thin,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .searchResults .item__link--escape-link:before,.narrasys .searchResults .item__link--fake-link:before,.narrasys .searchResults .item__title--link:before{color:#4d4d4d}.narrasys .item__title{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .item__title--file a,.narrasys .item__title--link a{color:#de6626}.narrasys .item__link--fake-link{font-family:Gotham Thin,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .item__text{font-family:Gotham Thin,sans-serif;color:#4d4d4d}.narrasys .item__text--definition h1,.narrasys .item__text--definition h2,.narrasys .item__text--definition h3,.narrasys .item__text--h2,.narrasys .item__text--transmedia h1,.narrasys .item__text--transmedia h2,.narrasys .item__text--transmedia h3{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .item .item__text--pullquote{font-family:Gotham Light Italic,sans-serif;color:#4d4d4d}.narrasys .item .item__text--pullquote:before{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#de6625}.narrasys .item__text--image-caption,.narrasys .item__text--image-caption-sliding,.narrasys .item__title--image-caption,.narrasys .item__title--image-caption-sliding{color:#fff}.narrasys .item__link--escape-link{font-family:Gotham Thin,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .item__link--escape-link:before{color:#4d4d4d}.narrasys .item .displayTime,.narrasys .item .startTime{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#de6626}.narrasys .item .displayTime:hover,.narrasys .item .startTime:hover{text-decoration:underline}.narrasys .item.colorInvert{background-color:#4d4d4d!important}.narrasys .item.colorInvert .item__link--escape-link,.narrasys .item.colorInvert .item__link--escape-link:before,.narrasys .item.colorInvert .item__text,.narrasys .item.colorInvert .item__text:before,.narrasys .item.colorInvert .item__title a,.narrasys .item.colorInvert .item__title a:before,.narrasys .item.colorInvert a.displayTime.startTime,.narrasys .item.colorInvert a.displayTime.startTime:before,.narrasys .item.colorInvert h1,.narrasys .item.colorInvert h2,.narrasys .item.colorInvert h3{color:#fff!important}.narrasys .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(222,102,37,.6)}.narrasys .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(222,102,37,.6)}.narrasys .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(222,102,37,.6)}.narrasys .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(222,102,37,.3);box-shadow:0 0 8px rgba(222,102,37,.3)}.narrasys .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Gotham Medium;color:#fff;background-color:#de6625;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.narrasys .centered .item__title--file,.narrasys .centered .item__title--link,.narrasys .centered .item__title--link.title--link-embed,.narrasys .centerVV .item__title--file,.narrasys .centerVV .item__title--link,.narrasys .centerVV .item__title--link.title--link-embed,.narrasys .cornerH .item__title--file,.narrasys .cornerH .item__title--link,.narrasys .cornerH .item__title--link.title--link-embed,.narrasys .cornerV .item__title--file,.narrasys .cornerV .item__title--link,.narrasys .cornerV .item__title--link.title--link-embed,.narrasys .onecol .item__title--file,.narrasys .onecol .item__title--link,.narrasys .onecol .item__title--link.title--link-embed,.narrasys .pip .item__title--file,.narrasys .pip .item__title--link,.narrasys .pip .item__title--link.title--link-embed,.narrasys .twocol .item__title--file,.narrasys .twocol .item__title--link,.narrasys .twocol .item__title--link.title--link-embed{font-family:Gotham Thin,sans-serif;color:#4d4d4d}.narrasys .centerVV-mondrian .static-bg__main{border:4px solid #4d4d4d;background-color:#de6625}.narrasys .centerVV-mondrian .altPane{background-color:transparent}.narrasys .centerVV-mondrian .mainPane .item{background-color:#4d4d4d}.narrasys .centerVV-mondrian .mainPane .item__text,.narrasys .centerVV-mondrian .mainPane .item__text--definition h1,.narrasys .centerVV-mondrian .mainPane .item__text--definition h2,.narrasys .centerVV-mondrian .mainPane .item__text--definition h3,.narrasys .centerVV-mondrian .mainPane .item__text--transmedia h1,.narrasys .centerVV-mondrian .mainPane .item__text--transmedia h2,.narrasys .centerVV-mondrian .mainPane .item__text--transmedia h3,.narrasys .centerVV-mondrian .mainPane .item__title,.narrasys .centerVV-mondrian .mainPane .item__title a{color:#fff}.narrasys .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__text,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.narrasys .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.narrasys .centerVV-mondrian .mainPane .item.colorInvert h1,.narrasys .centerVV-mondrian .mainPane .item.colorInvert h2,.narrasys .centerVV-mondrian .mainPane .item.colorInvert h3{color:#4d4d4d!important}.narrasys .centerVV-mondrian .item__title--image,.narrasys .centerVV-mondrian .item__title--image-thumbnail,.narrasys .centerVV-mondrian .item__title--image-thumbnail a,.narrasys .centerVV-mondrian .item__title--image a,.narrasys .centerVV-mondrian .item__title--link,.narrasys .centerVV-mondrian .item__title--link a{font-family:Gotham Medium,sans-serif;color:#4d4d4d}.narrasys .centerVV-mondrian .item__link--fake-link{color:#fff}.narrasys .centerVV-mondrian .item__link--escape-link{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#fff}.narrasys .centerVV-mondrian .item__link--escape-link:before{color:#de6625}.narrasys .centerVV-mondrian .item .displayTime,.narrasys .centerVV-mondrian .item .startTime{font-family:Gotham Medium,sans-serif;color:#4d4d4d;color:#fff}.narrasys .centerVV-mondrian .item .displayTime a,.narrasys .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},G4Wk:function(e,t){var i="templates/item/review-annotation.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div ng-class="{isCosmetic: item.cosmetic}"> <div ng-if=item.isTranscript class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <div class=text ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> </div> <div ng-if=!item.isTranscript ng-include=item.templateUrl></div> <div class=clear></div> </div> ')}]),e.exports=i},GARK:function(e,t,i){e.exports=i.p+"3fa329db044573dc09a27566e2ed1791.otf"},GFLf:function(e,t,i){"use strict";function n(e,t,i){var n,a,o,r,s={},l={s3:{}},c=0,d=0,m=0,p=[],u=0,g=[],f=0,h=0,v=[],b=!1;s.awsCache=function(){return l},s.getBucketListing=function(){var e=t.defer();return _().then(function(){l.s3.listObjects(function(t,i){t?(console.error(t,t.stack),e.reject()):e.resolve(i)})}),e.promise},s.uploadContainerFiles=function(e,t){return y("/v1/containers/"+e+"/assets",t)},s.uploadUserFiles=function(e,t){return y("/v1/users/"+e+"/assets",t)};var y=function(e,i){for(var n=[],a=0;a<i.length;a++){g.push(i[a]);var o=t.defer();v.push(o),n.push(o.promise)}return w(e),n};s.pauseUpload=function(){if(n&&!b){if(b=!0,D(),k())h=0;else{var e=0;for(h=0;e<d;){var t=p[e];"complete"===t.status&&(h+=t.uploaded),e++}}o.notify({bytesSent:h,bytesTotal:n.size})}},s.resumeUpload=function(){if(n&&b)if(b=!1,k())C();else for(var e=0;e<3;e++)V()},s.cancelUpload=function(){n&&(b=!1,h=0,D(),k()||(s.cancelMultipartUpload(a),a=null),n=null,v[f].reject("Canceled by user"));for(var e=f+1;e<g.length;e++)v[e].reject("Canceled by user");f=g.length},s.networkError=function(){n&&D()},s.deleteObject=function(e){var i=t.defer();return _().then(function(){var t={Bucket:e.bucket,Key:e.Key};l.s3.deleteObject(t,function(e,t){e?(console.error(e,e.stack),i.reject()):i.resolve(t)})}),i.promise},s.getMultipartUploads=function(){var e=t.defer();return _().then(function(){l.s3.listMultipartUploads(function(t,i){t?(console.error(t,t.stack),e.reject()):e.resolve(i)})}),e.promise},s.getMultipartUploadParts=function(e,i){var n=t.defer();return _().then(function(){var t={Bucket:i.bucket,Key:i.Key,UploadId:i.UploadId};l.s3.listParts(t,function(t,i){t?(console.error(t,t.stack),n.reject()):n.resolve({i:e,parts:i})})}),n.promise},s.cancelMultipartUpload=function(e){var i=t.defer();return _().then(function(){var t={Bucket:e.bucket,Key:e.Key,UploadId:e.UploadId};l.s3.abortMultipartUpload(t,function(e,t){e?(console.error(e,e.stack),i.reject()):i.resolve(t)})}),i.promise};var _=function(){return l.hasOwnProperty("sessionDeferred")?l.sessionDeferred.promise:(l.sessionDeferred=t.defer(),e.get(i.apiDataBaseUrl+"/v1/aws/s3/upload_session").success(function(e){if(e.access_key_id){AWS.config.update({accessKeyId:e.access_key_id,secretAccessKey:e.secret_access_key,sessionToken:e.session_token,region:i.awsRegion});var t={maxRetries:0,httpOptions:{timeout:3e4},params:{Bucket:e.bucket,Prefix:e.key_base}};l.s3=new AWS.S3(t),l.sessionDeferred.resolve(e)}else l.sessionDeferred.reject()}).error(function(){l.sessionDeferred.reject()}),l.sessionDeferred.promise)},w=function(e){if(g.length>f&&!n){if(n=g[f],""===n.type)return v[f].reject("Could not determine file type for file '"+n.name+"'"),n=null,f++,void w(e);x().then(function(){var t;t=k()?S():I(),t.then(function(){N(e)},function(e){v[f].reject(e)},function(e){v[f].notify(e)})})}},x=function(e){return e=e||t.defer(),n.uniqueName=A(),_().then(function(){var t={Key:l.s3.config.params.Prefix+n.uniqueName};l.s3.headObject(t,function(t){t?404!==t.statusCode?(console.error(t,t.stack),e.reject(t)):k()?e.resolve():s.getMultipartUploads().then(function(t){var i=function(e){for(var n=0;n<t.Uploads.length;n++)if(t.Uploads[n].Key===l.s3.config.params.Prefix+e)return i(A());return e};n.uniqueName=i(n.uniqueName),e.resolve()}):(n.uniqueName=A(),x(e))})}),e.promise},A=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)})},k=function(){return n.size<=5242880},S=function(){return o=t.defer(),C().then(function(e){console.log("UPLOAD SMALL FILE COMPLETE",e)},function(e){console.error("UPLOAD SMALL FILE FAILED: ",e)},function(e){console.log("UPLOAD SMALL FILE UPDATE: ",e)}),o.promise},C=function(){var e=t.defer();return _().then(function(){P(n,"base64").then(function(e){var t={Key:l.s3.config.params.Prefix+n.uniqueName,ContentType:n.type,Body:n,ContentMD5:e,ACL:"public-read"};r=l.s3.putObject(t,function(e,t){e?(console.error(e,e.stack),o.reject()):o.resolve(t)}),r.on("httpUploadProgress",function(e){o.notify({bytesSent:e.loaded,bytesTotal:e.total})}).on("error",function(e,t){console.error("error: ",e,t),o.reject("An error occured while uploading the file, please try again.")})})},function(e){console.error("PUT OBJECT FAILED: ",e)},function(e){console.log("PUT OBJECT UPDATE: ",e)}),e.promise},I=function(){return o=t.defer(),E().then(T).then(function(){for(var e=0;e<3;e++)V()}),o.promise},E=function(){var e=t.defer();return _().then(function(){var t={Key:l.s3.config.params.Prefix+n.uniqueName};l.s3.createMultipartUpload(t,function(t,i){t?(console.error(t,t.stack),e.reject()):e.resolve(i)})}),e.promise},T=function(e){var i=t.defer();a=e,p=[],d=0,m=0,u=0,c=5242880,h=0,n.size>1e3*c&&(c=Math.ceil(n.size/1e3)),d=Math.ceil(n.size/c);for(var o=0;o<d;o++){var r={};r.start=o*c,r.end=r.start+c,r.uploaded=0,r.end>n.size&&(r.end=n.size),r.status="pending",r.retries=0,p.push(r)}return i.resolve(),i.promise},V=function(){var e=t.defer(),i=u,a=!1;if(b)e.reject("Upload paused");else{for(;!a&&i<d;){var o=p[i];if("pending"===o.status){a=!0,o.status="uploading";var r=n.slice(o.start,o.end);o.cancel=function(){o.request.abort(),o.status="pending",o.uploaded=0},t.all({partNumber:t.when(i+1),eTag:B(i+1,r)}).then(M,U).then(function(t){e.resolve(t)},function(t){console.error("UPLOAD PART FAILED: ",t),e.reject(t)},function(t){e.update(t)})}else"complete"===o.status&&i===u&&u++;i++}a||e.reject("All chunks uploaded")}return e.promise},P=function(e,i){var n=t.defer(),a=new FileReader;return a.onload=function(){var e=a.result;n.resolve(AWS.util.crypto.md5(new Uint8Array(e),i))},a.readAsArrayBuffer(e),n.promise},B=function(e,i,r){return r||(r=t.defer()),_().then(function(){P(i,"base64").then(function(t){var s={Bucket:a.Bucket,Key:a.Key,UploadId:a.UploadId,PartNumber:e,ContentMD5:t,Body:i};p[e-1].request=l.s3.uploadPart(s,function(t,n){t?p[e-1].retries<4?(console.error("RETRYING PART UPLOAD FOR CHUNK ",e),p[e-1].request.abort(),p[e-1].retries++,B(e,i,r)):(console.error("PART UPLOAD FAILED FOR CHUNK ",e,t,t.stack),p[e-1].status="failed",r.reject(t)):r.resolve(n.ETag)}),p[e-1].request.on("httpUploadProgress",function(t){h+=t.loaded-p[e-1].uploaded,p[e-1].uploaded=t.loaded,o.notify({bytesSent:h,bytesTotal:n.size})}).on("error",function(e,t){console.log("PART UPLOAD FAILED ON UPDATE: ",e,t)})})}),r.promise},M=function(e){var i=t.defer();if(p[e.partNumber-1].status="complete",p[e.partNumber-1].part={ETag:e.eTag,PartNumber:e.partNumber},++m===d){for(var n=[],r=0;r<d;r++)n.push(p[r].part);var s={Bucket:a.Bucket,Key:a.Key,UploadId:a.UploadId,MultipartUpload:{Parts:n}};l.s3.completeMultipartUpload(s,function(e,t){e?(console.error(e,e.stack),o.reject(e),i.reject(e)):(s={Bucket:a.Bucket,Key:a.Key,ACL:"public-read"},l.s3.putObjectAcl(s,function(e,t){e?(o.reject(e),console.error(e,e.stack),i.reject(e)):console.log("awsSvc, set file permissions:",t)}),o.resolve(t),i.resolve(t))})}else V();return i.promise},U=function(e){console.error("PART OF MULTIPART UPLOAD FAILED, CANCELLING UPLOAD",e),s.cancelMultipartUpload(a),o.reject(e)},D=function(){if(k())r.abort();else for(var e=u,t=!1;!t&&e<d;){var i=p[e];"uploading"===i.status?i.cancel():"pending"===i.status&&(t=!0),e++}},N=function(a){var o=t.defer(),r={url:"https://s3.amazonaws.com/"+l.s3.config.params.Bucket+"/"+l.s3.config.params.Prefix+n.uniqueName,type:n.type,size:n.size,original_filename:n.name};return e.post(i.apiDataBaseUrl+a,r).success(function(e){v[f].resolve(e),n=null,f++,w(a)}).error(function(){v[f].reject(),n=null,f++,w(a)}),o.promise};return s}t.a=n,n.$inject=["$http","$q","config"]},GGxq:function(e,t){var i="templates/item/debug.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=itemTemplate> <pre ng-if=itemDebug>{{item | pretty}}</pre> </div> ")}]),e.exports=i},GUWn:function(e,t){var i="templates/error.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span ng-if="errorSvc.errors.length || errorSvc.notifications.length" class=errors> <div class=error ng-repeat="error in errorSvc.errors" ng-click=dismiss(error)> <h3><i class="fa fa-exclamation-triangle error-red"></i> Error: {{error.cause || error.exception.data.error || error.exception.data || \'(unknown reason)\'}}</h3> <p ng-if=error.exception.config.url> <i>(While trying to load {{error.exception.config.url}})</i> </p> <p ng-if="error.exception.status == 401"> Please <span ng-if=user.login_url> <a ng-if=user.login_via_top_window_only ng-click=logout(); ng-href={{user.login_url}} target=_top>click here</a> <a ng-if=!user.login_via_top_window_only ng-click=logout(); ng-href={{user.login_url}}>click here</a> to log back in. </span> <span ng-if=!user.login_url> <a ng-click=logout();>reset your session</a> and start over. </span> </p> </div> <div class=notification ng-repeat="notification in errorSvc.notifications"> <a style=float:right ng-click=dismiss(notification)>[x]</a> <p><i class="fa fa-info-circle info-blue"></i> <strong> Note: </strong> {{notification.text}}</p> </div> </span> ')}]),e.exports=i},Ge34:function(e,t,i){var n=i("x93i");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},GeQP:function(e,t){var i="templates/producer/upload-producer.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div ng-if=showAssetPicker class=floatAssetPicker> <div class=scrollContainer> <div sxs-container-assets=episodeContainerId mime-key={{item.producerItemType}}></div> </div> <div class=controlsContainer> <button ng-click=endChooseAsset();>Cancel</button> </div> </div> <div> <ng-model ng-model=item.asset name=itemAsset itt-valid-asset item=item></ng-model> <div ng-if="item.asset && !showUploadButtons"> {{item.asset.display_name}} <button class=button ng-click=replaceAsset()>Replace</button> <button class=button ng-click="detachAsset(); selectService.onSelectChange(item, itemForm)">Remove</button> </div> <div ng-if="showUploadButtons || !item.asset"> <span ng-if=showUploadField> <div ng-if=canAccess itt-asset-uploader=episodeContainerId callback=assetUploaded(data) mime-types={{mimes}}> </div> </span> <span ng-if=!showUploadField> <button class=button ng-click=chooseAsset()>Browse uploaded</button> <button class=button ng-click=toggleUpload()>Upload new</button> </span> </div> </div> ')}]),e.exports=i},GmGj:function(e,t,i){var n="templates/episode/middlebury.html",a='<div class="episode episode-middlebury" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span class="colorInvert DiscoverModeOnly" ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("wIHC")+' alt="In The Telling logo"> </a> <a class=logo href=http://middlebury.edu> <img src='+i("nA8d")+' alt="Middlebury logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("c3xB")+" alt=Middlebury> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},GoGc:function(e,t,i){var n="templates/scene/cornerH.html",a=' <div class="scene cornerH" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=row> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane matchVideoHeight"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in mainBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer" ng-class="{singleitem: mainContentItems.length==1, isNarrow: isNarrow, isEmpty: mainContentItems.length == 0}" itt-width-watch> <div class="item animate" ng-repeat="item in mainItems = (mainContentItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> <div class=row> <div class="pane altPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in altBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in altFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},GqFw:function(e,t){var i="templates/producer/item/producer-question.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},Guq0:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".narrative{padding:1em}.narrative .controls{text-align:right}.narrativelist{border-top:1px solid #ddd;padding:0;margin:.5em 0}.narratives__name{padding-left:5px}.narratives__description{margin-left:15px}.nav__header{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width:600px){.nav__header{flex-direction:column}}.nav__item img{width:100%}.nav__controls{display:flex;flex-direction:row}.navControls__item{display:flex;flex-direction:column;padding:0 3px}.nav__user{display:flex;flex-direction:row;align-items:center}.nav__user img{border:1px solid #595a5a;margin-top:3px;margin-right:3px;width:35px;border-radius:50px}.item--left{text-align:right;border-right:1px solid #000;padding-right:5px}.item--right{align-self:center}.standaloneAncillaryPage{display:block;height:100%;overflow:scroll;padding:1% 10%;position:absolute;width:100%;background:url("+i("xbCZ")+') no-repeat fixed 50% 80% #fff;font-family:Source Sans Pro,Open Sans,Helvetica,sans-serif}.standaloneAncillaryPage>div{border:1px solid #f2f2f2;background-color:#f2f2f2;padding:1em;border-radius:1em;font-size:20px}@media screen and (max-width:500px){.standaloneAncillaryPage{padding:0;background:none}.standaloneAncillaryPage>div{border:none;padding:1em .5em}}@media only screen and (min-device-width:320px) and (max-device-width:568px){.standaloneAncillaryPage{padding:0;background:none}.standaloneAncillaryPage>div{border:none;padding:1em .5em;font-size:14px}}.standaloneAncillaryPage a{color:#595a5a}.standaloneAncillaryPage a:hover{text-decoration:none}.container__row--odd{background-color:#fff;border:1px solid #fff}.container__row--even{background-color:#e6e6e6;border:1px solid #e6e6e6}.hoverIndicator{border:1px solid transparent}.isActive{background-color:#f8ddce}.hoverIndicator:hover{border:1px solid #dc6026}.edit-pencil{position:absolute;color:#595a5a;cursor:pointer}.edit-pencil:hover{color:#dc6026}.edit-pencil:before{font-family:Story;content:"\\E907"}.pencil__content *{display:inline}.icon__button{font-family:Story;color:#595a5a}.icon__button:hover{color:#dc6026}.button__row{margin-left:20px;padding-bottom:5px}.button__row a,.button__row button{vertical-align:middle}.button__assets:before{content:"\\E903"}.button__generateNarrative:before{content:"\\E90A"}.button__editor:before{content:"\\E904"}.button__producer:before{content:"\\E905"}.button__clipboard:before{content:"\\E90D"}.button__add-inverted:before{content:"\\E90E"}.button__link-status:before{content:"\\E912"}.button__export-spreadsheet:before{content:"\\E914"}.episode__button-row{display:flex;flex-direction:row}.standaloneAncillaryPage .button,.standaloneAncillaryPage button,.standaloneAncillaryPage input[type=submit]{background-color:#595a5a;color:#fff;border-radius:.6em;font-size:.8em;padding:.1em .8em;margin:.2em;border:0;cursor:pointer}.standaloneAncillaryPage .button:hover,.standaloneAncillaryPage button:hover,.standaloneAncillaryPage input[type=submit]:hover{background-color:#dc6026;color:#fff;border-radius:.6em;font-size:.8em;padding:.1em .8em;margin:.2em;border:0;cursor:pointer}.standaloneAncillaryPage button:disabled{background-color:#bbb;cursor:default}.standaloneAncillaryPage .button{line-height:36px}.standaloneAncillaryPage .bigredbutton a,.standaloneAncillaryPage button a{color:#fff}.standaloneAncillaryPage input[type=text],.standaloneAncillaryPage textarea{border:0 none;border-radius:6px;font-size:13px!important;padding:4px 6px!important}.standaloneAncillaryPage .bigredbutton{border-radius:8px;width:100%;display:block;padding:2em;text-align:center;color:#fff;background-color:#c44343}.standaloneAncillaryPage .ancillaryNav{text-align:right}.standaloneAncillaryPage hr{border:none;background-color:#ccc;height:1px}.timeline__edit{padding:10px}.narrative__edit input[type=text],.narrative__edit textarea,.timeline__edit input[type=text],.timeline__edit textarea{width:100%;padding:5px;border-radius:4px;border:1px solid #000;font-size:20px!important}.timeline__delete{text-align:center;position:fixed;border:1px solid #000;width:300px;height:200px;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;box-shadow:0 0 5px 3px rgba(0,0,0,.5)}.timeline__delete .under__delete{padding:5px}.tl__wrapper{margin-left:27px}.tlDrag__handle{top:22px;padding-left:5px;position:absolute}.tl__addButton{height:25px;margin:5px}.narrative__modal{background-color:#fff;box-shadow:0 0 5px 3px rgba(0,0,0,.5);padding:10px}.narrative__modal input[type=checkbox]{width:auto}.timeline--hidden{opacity:.5}.\\--break-word{word-wrap:break-word}',""])},HH1W:function(e,t,i){"use strict";function n(e,t,i,n,a){return{restrict:"A",replace:!1,transclude:!0,scope:{containerId:"=ittAssetUploader",episodeId:"@",callback:"&",mimeTypes:"@",instructions:"@",errorText:"@"},templateUrl:"templates/producer/asset-uploader.html",link:function(o,r,s){function l(e,t){return 0===e.indexOf(t)}function c(e,t){return e.substring(e.length-t.length,e.length)===t}function d(e,t,i){var n=new FormData;return n.append("subtitles",t),a.batchUploadTranscripts(e,n,i)}function m(e,t,i){for(var a=e;a<t;a++)!function(t){o.uploadStatus[t]={bytesSent:0,bytesTotal:1,percent:0,name:i[t-e].name},o.uploads[t].then(function(e){if(o.episodeId&&o.callback)return o.uploadStatus[t].done=!0,o.oneDone(),void o.$emit("transcriptsUploaded");n.cache("asset",e.file),o.callback&&o.callback({data:e.file._id}),o.uploadStatus[t].done=!0,o.oneDone()},function(e){o.uploadStatus[t].error=e,o.oneDone()},function(e){o.uploadStatus[t].bytesSent=e.bytesSent,o.uploadStatus[t].bytesTotal=e.bytesTotal,o.uploadStatus[t].percent=Math.ceil(e.bytesSent/e.bytesTotal*100)})}(a)}void 0===o.instructions?o.manPage="We support uploads of most common file formats, including .doc, .docx, .jpeg, .jpg, .pdf, .png, .ppt, .pptx, .rtf, .txt, and .zip. ":o.manPage=o.instructions;var p;p=void 0===o.mimeTypes?["application/*","image/*","video/*","text/*","audio/*","model/*"]:o.mimeTypes.split(",");var u;u=void 0===o.errorText?"Whoops! You may want to try that again!":o.errorText,angular.forEach(p,function(e,t){p[t]=e.trim()}),o.uploadStatus=[],o.uploads=[],o.uploadsinprogress=0,o.multiple=void 0!==s.multiple,o.handleUploads=function(e){if(!o.multiple&&(e.length>1||o.uploads.length>0))return o.errormessage="You may only upload one file at a time here.",!1;var n=!1;if(angular.forEach(e,function(e){var t=e.type;if(o.episodeId){var i=e.name.match(/(vtt|srt)/);i&&i.length&&(t="text/"+i[0])}angular.forEach(p,function(e){if(c(e,"*")){var i=e.slice(0,-1);l(t,i)&&(n=!0)}else t===e&&(n=!0);u=t+" uploads are not allowed here."})}),!n)return void(o.errormessage=u);var a=o.uploads.length,r=o.uploads.length+e.length;if(o.uploadsinprogress=o.uploadsinprogress+e.length,o.containerId)o.uploads=o.uploads.concat(t.uploadContainerFiles(o.containerId,e));else{if(o.episodeId)return o.tempTranscripts=e,o.callback(),o.uploadStatus.push({bytesSent:0,bytesTotal:1,percent:0,name:e[0].name}),void(o.uploads=o.uploadStatus);o.uploads=o.uploads.concat(t.uploadUserFiles(i.user._id,e))}m(a,r,e)},o.$on("transcriptsReceived",function(e,t){var i=o.tempTranscripts;o.uploads=[d(o.episodeId,i[0],t)],o.uploadStatus=[],m(0,1,i)}),o.oneDone=function(){o.uploadsinprogress=o.uploadsinprogress-1,0===o.uploadsinprogress&&(o.fileinput.value="",o.paused=!1)},o.handleDrop=function(e){e.preventDefault(),e.stopPropagation(),o.handleDragLeave(),o.handleUploads(e.dataTransfer.files)},o.handleDragOver=function(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",o.handleDragEnter(),!1},o.handleDragEnter=function(){o.droptarget.addClass("droppable")},o.handleDragLeave=function(){o.droptarget.removeClass("droppable")},o.pauseUpload=function(){t.pauseUpload(),o.paused=!0},o.resumeUpload=function(){t.resumeUpload(),o.paused=!1},o.cancelUpload=function(){t.cancelUpload()},e(function(){o.droptarget=r.find(".uploadDropTarget"),o.fileinput=r.find(".uploadFileInput"),o.uploadsinprogress=0,o.droptarget[0].addEventListener("drop",o.handleDrop),o.droptarget[0].addEventListener("dragover",o.handleDragOver),o.droptarget[0].addEventListener("dragenter",o.handleDragEnter),o.droptarget[0].addEventListener("dragleave",o.handleDragLeave)})}}}t.a=n,n.$inject=["$timeout","awsSvc","appState","modelSvc","dataSvc"]},HxtV:function(e,t,i){e.exports=i.p+"images/UofA_Fullscreen_BG_Square-32df714a6a1230be03038c890914badc.png"},HyaP:function(e,t){var i="templates/copyright.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"TELLING STORY player &#169; <span ng-bind-html=\"now | date:'yyyy'\"></span> <a href=//inthetelling.com target=_blank>IN THE TELLING</a>. All rights reserved. <br> <a href=/privacy.html target=_blank>Privacy</a> <span ng-if=narrative.support_url> - <a ng-href={{narrative.support_url}}>Support</a> </span> ")}]),e.exports=i},I0Kr:function(e,t,i){"use strict";function n(e){return{require:"?ngModel",link:function(t,i,n,a){a&&(a.$validators.supportUrl=function(t){return a.$isEmpty(t)||e.isValidURL(t)})}}}t.a=n,n.$inject=["ittUtils"]},I0L0:function(e,t){var i="templates/item/link-withimage.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <span ng-if=item.noEmbed> <span ng-if=!item.targetTop> <div class="title item__title item__title--link title--link-with-image"> <a tabindex=0 class="escapelink item__link--escape-link escape-link--link-with-image" x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 ng-if=item.asset.url x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-if=item.asset.url ng-src={{item.asset.url}}> </a> </span> <span ng-if=item.targetTop> <div class="title item__title item__title--link title--link-with-image"> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-if=item.asset.url ng-src={{item.asset.url}}> </a> </span> </span> <span ng-if=!item.noEmbed> <div class="title item__title item__title--link title--link-with-image"> <a role=button x-ng-keypress=toggleDetailOnKeyPress($event) class="fakeLink item__link--fake-link" tabindex=0 ng-click=toggleDetailView() ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <img ng-if=item.asset.url ng-click=toggleDetailView() ng-src={{item.asset.url}}> </span> <div class="item__text item__text--link text--link-with-image" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class="escapelink item__link--escape-link escape-link--link-with-image">(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=clear></div> ')}]),e.exports=i},IL3w:function(e,t){var i="templates/item/link-descriptionfirst.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <div class="item__text--link text--description-first" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> <div class="title item__title item__title--link title--description-first"> <a tabindex=0 ng-if="item.noEmbed && !item.targetTop" class="escapelink item__escape-link item__link--escape-link escape-link--description-first" x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> <a tabindex=0 ng-if="item.noEmbed && item.targetTop" target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> <a tabindex=0 ng-if=!item.noEmbed ng-click=toggleDetailView() ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class="escapelink item__link--escape-link escape-link--description-first">(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=clear></div> </div> ')}]),e.exports=i},ILav:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",itemForm:"=?"},template:['<div class="field" ng-if="$ctrl.isVisible(\'templateSelect\')">','\t<div class="label">{{$ctrl.labelText}}</div>',"\t<div class=\"input\" ng-class=\"{layouts: $ctrl.labelText === 'Template' && $ctrl.data.producerItemType === 'scene'}\">",'\t\t<select ng-model="$ctrl.data.templateUrl" ng-change="$ctrl.onSelectChange($ctrl.data, $ctrl.itemForm)" ng-options="option.url as option.name for option in $ctrl.data.templateOpts" itt-options-disabled="option.isDisabled for option in $ctrl.data.templateOpts"></select>',"\t</div>","</div>"].join(" "),controller:["selectService","modelSvc",function(e,t){var i=this;i.isVisible=e.getVisibility,i.onSelectChange=e.onSelectChange,i.getSelectOpts=e.getSelectOpts,i.labelText="Template";var n,a,o,r="annotation"===i.data.producerItemType;r&&(n=e.getSceneName(t.scene(i.data.scene_id)),a="centerVV"===n,o="centerVVMondrian"===n,(a||o)&&angular.forEach(i.data.templateOpts,function(e){"Header 1"===e.name&&(e.isDisabled=!0)})),i.data.hasOwnProperty("producerItemType")||(i.data.producerItemType="episode",i.labelText="Theme")}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},IP7z:function(e,t,i){"use strict";function n(e,t,i,n){return{restrict:"A",replace:!0,template:'<span ng-include="episode.templateUrl"></span>',controller:"EpisodeController",link:function(a){console.log("ittEpisode",a),a.episode=i.episodes[n.episodeId],t.captureEpisodeActivity("episodeLoad"),e(function(){a.episode=i.episodes[n.episodeId],null!=a.episode&&(n.playerTemplate=a.episode.templateUrl)},457)}}}t.a=n,n.$inject=["$interval","analyticsSvc","modelSvc","appState"]},IRta:function(e,t,i){"use strict";(function(e){function i(t,i,n){function a(){delete t.mainContentHasLeftSidebar,delete t.mainContentHasRightSidebar,delete t.mainContentHasBothSidebars,delete t.altContentHasLeftSidebar,delete t.altContentHasRightSidebar,delete t.altContentHasBothSidebars,t.showCurrent=e.inArray("showCurrent",t.scene.layouts)>-1,t.contentItems=i("isContent")(t.scene.items),t.mainFgItems=i("itemLayout")(t.scene.items,"mainFg"),t.mainBgItems=i("itemLayout")(t.scene.items,"mainBg"),t.altFgItems=i("itemLayout")(t.scene.items,"altFg"),t.altBgItems=i("itemLayout")(t.scene.items,"altBg"),e.inArray("splitRequired",t.scene.layouts)>-1?t.mainContentItems=i("transcriptandoptional")(t.contentItems):e.inArray("splitOptional",t.scene.layouts)>-1?t.mainContentItems=i("transcriptandrequired")(t.contentItems):t.mainContentItems=i("annotation")(t.contentItems),e.inArray("splitRequired",t.scene.layouts)>-1?t.altContentItems=i("required")(t.contentItems):e.inArray("splitOptional",t.scene.layouts)>-1?t.altContentItems=i("optional")(t.contentItems):t.altContentItems=i("transmedia")(t.contentItems);for(var n=0;n<t.mainContentItems.length;n++)(e.inArray("burstL",t.mainContentItems[n].layouts)>-1||e.inArray("sidebarL",t.mainContentItems[n].layouts)>-1||e.inArray("burst",t.mainContentItems[n].layouts)>-1)&&(t.mainContentHasLeftSidebar=!0),(e.inArray("burstR",t.mainContentItems[n].layouts)>-1||e.inArray("sidebarR",t.mainContentItems[n].layouts)>-1||e.inArray("burst",t.mainContentItems[n].layouts)>-1)&&(t.mainContentHasRightSidebar=!0),t.mainContentHasLeftSidebar&&t.mainContentHasRightSidebar&&(t.mainContentHasBothSidebars=!0,n=t.mainContentItems.length);for(n=0;n<t.altContentItems.length;n++)(e.inArray("burstL",t.altContentItems[n].layouts)>-1||e.inArray("sidebarL",t.altContentItems[n].layouts)>-1||e.inArray("burst",t.altContentItems[n].layouts)>-1)&&(t.altContentHasLeftSidebar=!0),(e.inArray("burstR",t.altContentItems[n].layouts)>-1||e.inArray("sidebarR",t.altContentItems[n].layouts)>-1||e.inArray("burst",t.altContentItems[n].layouts)>-1)&&(t.altContentHasRightSidebar=!0),t.altContentHasLeftSidebar&&t.altContentHasRightSidebar&&(t.altContentHasBothSidebars=!0,n=t.altContentItems.length)}function o(e){var t="templates/item/pullquote.html"===e.templateUrl,i="templates/item/text-h2.html"===e.templateUrl,n="templates/item/text-transmedia.html"===e.templateUrl,a="templates/item/text-definition.html"===e.templateUrl;return!!(t||i||n||a)&&e}function r(e){var t="templates/item/pullquote.html"===e.templateUrl,i="templates/item/text-h2.html"===e.templateUrl;return!(!t&&!i)&&e}function s(e,t){var a,o,r,s=i("isCurrent")(e),l=i(t)(s),c=1;if(l.length>0&&n.existy(l[0].asset)){switch(r="url("+l[0].asset.url+")",/Bg/.test(l[0].layoutCss)&&(c=.25),l[0].styles[0]){case"cover":return a="cover",{"background-image":r,"background-size":a,opacity:c};case"contain":return a="contain",o="center",{"background-image":r,"background-size":a,opacity:c,"background-position":o};case"fill":return a="100% 100%",o="50% 50%",{"background-image":r,"background-size":a,opacity:c,"background-position":o};case"tl":return a="auto",o="top left",{"background-image":r,"background-size":a,opacity:c,"background-position":o};case"tr":return a="auto",o="top right",{"background-image":r,"background-size":a,opacity:c,"background-position":o};case"bl":return a="auto",o="bottom left",{"background-image":r,"background-size":a,opacity:c,"background-position":o};case"br":return a="auto",o="bottom right",{"background-image":r,"background-size":a,opacity:c,"background-position":o}}return""}}t.byPullquoteOrH2=r,t.centeredProTransmedia=o,t.setBgImgUrl=s,t.precalculateSceneValues=a}t.a=i,i.$inject=["$scope","$filter","ittUtils"]}).call(t,i("7t+N"))},IYeu:function(e,t,i){"use strict";function n(e,t,i){return{restrict:"A",replace:!0,scope:!0,link:function(n,a){n.changeMagnet=function(n){e.$emit("magnet.changeMagnet",n),(t.isTouchDevice||0===i.getMetaProp("time"))&&e.$emit("magnet.jumpToMagnet")},n.unwatchVisibility=n.$watch(function(){return a.is(":visible")},function(e){e&&n.changeMagnet(a)}),"watchModeVideoMagnet"===a.attr("id")&&(n.unwatchSize=n.$watch(function(){return{w:angular.element(window).width(),h:angular.element(window).height(),v:a.is(":visible")}},function(){var e=angular.element(window),t=e.height()-46;e.width()/t>16/9?a.width(16/9*t):a.width(e.width()),n.changeMagnet(a)},!0)),n.$on("$destroy",function(){n.unwatchVisibility(),n.unwatchSize&&n.unwatchSize()})}}}t.a=n,n.$inject=["$rootScope","appState","playbackService"]},IiAB:function(e,t,i){e.exports=i.p+"images/no-avatar-a012e2f1c64d5ed04112b126c8c347ba.gif"},IsZR:function(e,t,i){var n="templates/episode/usc.html",a='<div class="episode episode-usc" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("JqTC")+" alt=USC> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},IudM:function(e,t,i){e.exports=i.p+"images/logo-overlay-8802786b144e1c81acfff9078f4a97d1.png"},IyJH:function(e,t,i){"use strict";function n(e){var t=e.existy;return function(i){function n(){return w}function a(){return _}function o(e){if(t(_[e]))return _[e]}function r(e,t){_[e]=t}function s(e,i){if(t(_[e])&&t(_[e].meta))return _[e].meta[i]}function l(e){return function(i,n,a){if(e.indexOf(n)===-1)throw new Error(n+" is not a valid prop for"+x+" meta info");if(t(_[i]&&_[i].meta))try{_[i].meta[n]=a}catch(e){console.log("catch read only error:",e,"prop",n,"val",a)}}}function c(e){if(t(_[e])&&t(_[e].meta))return _[e].meta}function d(e,t){var i=angular.copy(t);return i.meta=angular.extend(i.meta,e),i}function m(e){return s(e,"div")}function p(e,i){return function(n){Object.keys(_).forEach(function(a){if(a!==n){var o=i(a);t(o)&&"playing"===o&&e(a)}})}}function u(e){return function(t){if(e(t)===!0)return o(t).instance}}function g(e){for(var t=w.length;t--;)if(e.toString()===w[t].toString())return;w.push(e)}function f(e){w=w.filter(function(t){return t.toString()!==e.toString()})}function h(e){return function(){angular.forEach(a(),function(t,i){y(i,!0,e)}),_={}}}function v(t,i){e.renameKey(t,i,_)}function b(e){return function(t){return e(t)}}function y(e,i,n){t(i)||(i=!1),n(e),i===!0&&r(e,{})}var _=i.players,w=[],x=i.type;return{commonMetaProps:{mainPlayer:!1,playerState:"-1",div:"",ready:!1,startAtTime:0,hasResumedFromStartAt:!1,duration:0,time:0,hasBeenPlayed:!1,bufferedPercent:0,timeMultiplier:1,resetInProgress:!1,autoplay:!1},getPlayers:a,getPlayer:o,setPlayer:r,getMetaProp:s,setMetaProp:l,createMetaObj:d,getMetaObj:c,getPlayerDiv:m,getInstance:u,registerStateChangeListener:g,unregisterStateChangeListener:f,getStateChangeListeners:n,pauseOtherPlayers:p,resetPlayerManager:h,renamePid:v,handleTimelineEnd:b}}}t.a=n,n.$inject=["ittUtils"]},JO9A:function(e,t,i){"use strict";function n(e,t,i){var n={};return n.saveAnswer=function(e,i,n){return t.forceCaptureEventActivityWithPromise(e,i,n)},n.getAnswers=function(n){var a=e.defer();return t.readEventActivity(n).then(function(e){var t=e.filter(function(e){return("question-answered"===e.name||"question-answered-updated"===e.name)&&e.episode_id===i.episodeId});a.resolve(t)}),a.promise},n.getUserAnswer=function(t,i){var a=e.defer();return n.getAnswers(t).then(function(e){if(!e)return a.reject();var t=e.filter(function(e){return e.user_id===i});t.length>0?a.resolve(t[0]):a.reject()}),a.promise},n.calculateCounts=function(e){var t;return angular.forEach(e,function(e){t[e.data.index]++}),t},n.incrementAnswerCount=function(e,t){e[t]=(e[t]||0)+1},n}t.a=n,n.$inject=["$q","analyticsSvc","appState"]},JTcP:function(e,t,i){var n="templates/scene/cornerV.html",a=' <div class="scene cornerV" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=col> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in mainBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{singleitem: mainContentItems.length==1, isNarrow: isNarrow, isEmpty: mainContentItems.length == 0}" itt-width-watch> <div class="item animate" ng-repeat="item in mainItems = (mainContentItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> <div class=col> <div class="pane altPane stretchToViewport"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in altBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in altFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},JcUc:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field" ng-if="selectService.getVisibility(\'speakerField\')">','\t<div class="label">Speaker [{{appState.lang}}]</div>','\t<div class="input">','\t\t<div sxs-annotator-autocomplete="annotators" item="item" ng-model="item.annotator"></div>',"\t</div>","</div>"].join(" ")}}t.a=n},Jetm:function(e,t){var i="templates/item/link-embed.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <div class="title item__title item__title--link title--link-embed" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div class="item__text--link text--link-embed" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <a tabindex=0 class="escapelink item__link--escape-link escape-link--link-embed" x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)>(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> <div class=clear></div> </div> ')}]),e.exports=i},JhL8:function(e,t,i){"use strict";function n(){return{replace:!1,templateUrl:"templates/video.html",scope:{poster:"=?",mainPlayer:"=",mediaSrcArr:"=",playerId:"="},controller:["$scope","$timeout","$interval","$sce","$rootScope","$routeParams","playbackService","ittUtils","timelineSvc","modelSvc","dataSvc","appState",function(e,t,i,n,a,o,r,s,l,c,d,m){function p(){if(!x(w.mediaSrcArr)||0===w.mediaSrcArr.length)return console.warn("No MediaSrc Array was passed to ittVideo"),void(w.transcodedInterval=i(_,1e4));r.seedPlayer(w.mediaSrcArr,w.playerId,w.mainPlayer),w.playerElement=n.trustAsHtml(r.getPlayerDiv(w.playerId)),t(function(){r.createInstance(w.playerId),w.mainPlayer===!0&&(o.t&&r.setMetaProp("startAtTime",s.parseTime(o.t),w.playerId),"true"===o.autoplay&&r.setMetaProp("autoplay",!0,w.playerId))},0)}function u(){r.togglePlayback(w.playerId,l.restartEpisode)}function g(){var e={},t={"np--embed":w.mainPlayer===!1},i={play:h()},n={firstplay:v()},a={rewind:b()};return angular.extend(e,t,i,n,a),e}function f(){return!(x(m.iOSVersion)&&m.iOSVersion.length&&"youtube"===r.getMetaProp("videoType",w.playerId)&&v())||m.iOSVersion[0]>9}function h(){return"paused"===r.getPlayerState(w.playerId)&&!b()}function v(){return r.getMetaProp("hasBeenPlayed",w.playerId)===!1}function b(){var e=r.getMetaProp("time",w.playerId),t=r.getMetaProp("duration",w.playerId);return w.mainPlayer===!0&&e>0&&e>=t-.3}function y(){r.handle$Destroy(w.playerId)}function _(){var e=c.episodes[m.episodeId];e&&e.masterAsset&&!c.isTranscoded(e.masterAsset)?d.getSingleAsset(e.master_asset_id).then(function(e){c.cache("asset",e);var t=c.assets[e._id];c.isTranscoded(t)&&(w.isTranscoded=!0,i.cancel(w.transcodedInterval),w.mediaSrcArr=t.mediaSrcArr,a.$broadcast("dataSvc.getEpisode.done"),p())}):i.clear(w.transcodedInterval)}var w=this;w.isTranscoded=!1,w.transcodedInterval=angular.noop,w.playbackService=r,w.videoClick=u,w.playerIsPaused=h,w.showUnstartedOverlay=v,w.showReplayOverlay=b,w.setCssClass=g,w.showMask=f,w.appState=m;var x=s.existy;e.$on("$destroy",y),p()}],bindToController:!0,controllerAs:"$ctrl"}}t.a=n},JkHQ:function(e,t){var i="templates/item/searchresults.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div ng-class="{\nsearchitem:true,\nisSxS: item.sxs,\nisCurrent: ((item.start_time <= playbackService.getMetaProp(\'time\')) && (item.end_time > playbackService.getMetaProp(\'time\'))),\nisCosmetic: item.cosmetic\n}" ng-style="item.sxs?{backgroundImage:\'url(\'+item.avatar.url+\')\'}:{}"> <a class=edit-event ng-click=editItem(item._id)> <span>Edit item</span> </a> <span class=displayTime> <button class=fakeLink tabindex=2 ng-click="seek(item.start_time, item._id)">{{item.displayStartTime}}</button> </span> <span class=type ng-bind-html="(item.display_title || item.display_annotator) | highlightSubstring: appState.searchText"></span> <div class=description ng-bind-html="(item.display_description || item.display_annotation) | highlightSubstring: appState.searchText"></div> </div> ')}]),e.exports=i},JnVu:function(e,t){var i="templates/item/link-modal-thumb.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <span ng-if=item.noEmbed> <span ng-if=!item.targetTop> <div class="title item__title item__title--link title--link-modal"> <a tabindex=0 class="escapelink item__link--escape-link escape-link--link-modal" x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 ng-if=item.asset.url x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-if=item.asset.url ng-src={{item.asset.url}}> </a> </span> <span ng-if=item.targetTop> <div class="title item__title item__title--link title--link-modal"> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-if=item.asset.url ng-src={{item.asset.url}}> </a> </span> </span> <span ng-if=!item.noEmbed> <div class="title item__title item__title--link title--link-modal"> <a role=button x-ng-keypress=toggleDetailOnKeyPress($event) class="fakeLink item__link--fake-link" tabindex=0 ng-click=forceModal(false) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <img ng-if=item.asset.url ng-click=forceModal(false) ng-src={{item.asset.url}}> </span> <div class="item__text item__text--link text--link-modal" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> </div> <div class=itemDetail ng-if="item.showInlineDetail && appState.viewMode === \'review\'"> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class="escapelink item__link--escape-link escape-link--link-modal">(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=clear></div> ')}]),e.exports=i},JqTC:function(e,t,i){e.exports=i.p+"images/usc-logo-3965f7aa659c7a577ae0321f1fdeb6f2.svg"},JtGx:function(e,t){var i="templates/auth.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div itt-login style=margin:2em> <a style="animation:delayedFadeIn 5s" href=/#/ >Home</a> </div> ')}]),e.exports=i},K8cx:function(e,t){var i="templates/producer/item/producer-image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},K96E:function(e,t){var i="templates/producer/item/sxs-video.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span class="eventIcon icon-video"></span> <div class=field> <small> <div style=width:20%;display:inline-block></div> <div style=width:80%;display:inline-block>Link to a video on YouTube...</div> </small> </div> <itt-url-field data=item label="Youtube Url"></itt-url-field> <div class=field> <div class=label>Title </div> <div class=input> <input type=text ng-model=item.title.en autofocus> </div> </div> <div class=field> <div class=label>Description </div> <div class=input sxs-input-i18n=item.description x-inputtype="\'textarea\'"></div> </div> ')}]),e.exports=i},"KP/u":function(e,t){var i="templates/item/sxs-link.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate sxs-item"> <a class=edit-event ng-click=editItem() ng-if=item.editableByThisUser>[Edit]</a> <div class=avatar> <img ng-src="{{item.avatar.url || \'/images/no-avatar.gif\'}}"> </div> <div class=itemHead> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <a ng-if=item.noEmbed class=escapelink ng-click=outgoingLink(item.url) ng-bind-html="item.title.en ||\'(Untitled)\'"></a> <h3 ng-if=!item.noEmbed ng-bind-html="item.title.en ||\'(Untitled)\'"></h3> <div class=text ng-bind-html=item.description.en></div> <div class=itemDetail ng-if="item.url && !item.noEmbed && item.url != \'https://\'"> <div class=modalmenu ng-if=!item.noExternalLink> <a ng-click=outgoingLink(item.url) class=escapelink>(new window)</a> </div> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=clear></div> </div> ')}]),e.exports=i},Kbx8:function(e,t,i){"use strict";(function(e){function i(){var t=1;return{restrict:"E",scope:{type:"@",height:"@",width:"@",title:"=title",options:"@",data:"@"},template:'<div class="flotContainer"><div class="chartContainer" id="chartContainer" aria-label="{{chartLabel}}"></div><div class="legendContainer" id="legendContainer"></div></div>',link:function(i,n,a){var o=function(t,n,a){i.chartLabel=m(n),e.plot(t,n,a),t.show()},r=e("#chartContainer");r.attr("id","chartContainer"+t);var s=e("#legendContainer");s.attr("id","legendContainer"+t++);var l=function(e,t){return Math.round(t.percent)+"% ("+t.data[0][1]+"): "+e},c=function(e,t){return'<div style="padding: 3px; font-size: 80%">'+Math.round(t.percent)+"%</div>"};i.chartOptions={series:{pie:{show:!0,label:{show:!0,background:{opacity:.7},formatter:c}}},legend:{show:!0,labelFormatter:l,noColumns:1,position:"sw",margin:0,backgroundColor:null,backgroundOpacity:1,sorted:"descending",container:s},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%y.0, %s",shifts:{x:20,y:0},defaultTheme:!1}},i.$watch(function(){return r.width()},function(e){e>0&&(r.css({height:e}),o(r,JSON.parse(i.data),i.chartOptions),i.observeData=a.$observe("data",function(e){i.data=JSON.parse(e),o(r,i.data,i.chartOptions)}),i.$on("$destroy",i.observeData))});var d=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].data;for(var n=0;n<e.length;n++)e[n].percent=e[n].data/t*100;return e},m=function(e){var t="";e=d(e);for(var i=0;i<e.length;i++)t+=Math.round(e[i].percent)+"% of users totaling "+e[i].data+" choose '"+e[i].label+"'. ";return t}}}}t.a=i}).call(t,i("7t+N"))},"Kp/C":function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",videoOnly:"=",label:"@",onAttach:"&"},template:['<div class="field">','\t<div class="label">{{$ctrl.label || "URL"}}','\t<span ng-repeat="(field, val) in $ctrl.validatedFields">','\t\t<itt-validation-tip ng-if="val.showInfo" text="{{val.message}}" do-info="val.doInfo"></itt-validation-tip>',"\t</span>","\t</div>",'\t<div class="input" ng-if="!$ctrl.videoOnly">','\t\t<input type="text" name="itemUrl" ng-model="$ctrl.data.url" ng-focus="$ctrl.onFocus()" ng-model-options="{ updateOn: \'blur\' }"  itt-valid-item-url on-validation-notice="$ctrl.handleItemValidationMessage($notice)"/>',"\t</div>",'\t<div class="input" ng-if="$ctrl.videoOnly === true">','\t\t<input type="text" ng-model="$ctrl.data" itt-valid-episode-url on-validation-notice="$ctrl.handleEpisodeValidationMessage($notice)"/>','\t\t<button ng-if="$ctrl.data" ng-click="$ctrl.onAttach({$url: $ctrl.data})">Attach Video</button>',"\t</div>","</div>"].join(" "),controller:["$scope",function(e){function t(){e.$broadcast("url:focus")}function i(e){a.validatedFields={kaltura:null,youtube:null,html5:null,error:null},angular.extend(a.validatedFields,e)}function n(e){a.validatedFields={url:null,xFrameOpts:null,404:null,301:null,mixedContent:null},angular.extend(a.validatedFields,e);var t=a.validatedFields.xFrameOpts.showInfo===!0&&a.validatedFields.mixedContent.showInfo===!1,i=a.validatedFields.xFrameOpts.showInfo===!1&&a.validatedFields.mixedContent.showInfo===!0;t||i?(a.data.noEmbed=!0,a.data.showInlineDetail=!1,a.data.templateOpts=a.data.templateOpts.map(function(e){return"Embedded link"!==e.name&&"Link modal"!==e.name||(e.isDisabled=!0),e})):(a.data.noEmbed=!1,a.data.templateOpts=a.data.templateOpts.map(function(e){return"Embedded link"!==e.name&&"Link modal"!==e.name||(e.isDisabled=!1),e})),a.validatedFields.url.showInfo===!0&&(a.data.noEmbed=!1),a.validatedFields[301].showInfo===!0&&(a.data.url=a.validatedFields[301].url)}var a=this;a.handleItemValidationMessage=n,a.handleEpisodeValidationMessage=i,a.onFocus=t}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},L3Dy:function(e,t){var i="templates/item/question-mc-image-right.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text item__text--question-mc-image-right"> <div class="title item__title item__title--question-mc-image-right" ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div ng-if=item.asset.url class=touchable style=float:right;max-width:50%;padding-right:.5em> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <itt-mc-question show-chart="item.data._plugin.questiontype == \'mc-poll\'" choices=item.data._plugin.distractors on-choice=save data=item.data._plugin qid=item._id></itt-mc-question> <div class=clear></div> </div> </div>')}]),e.exports=i},L5q0:function(e,t,i){"use strict";var n=i("/jXN");i.n(n),angular.module("itt.filters",[]).filter("itemLayout",function(){return function(e,t){var i=[];return angular.forEach(e,function(e){e.layouts&&e.layouts[0]===t&&i.push(e)}),i}}).filter("mainCol",function(){return function(e){var t=[];return angular.forEach(e,function(e){!e.layouts||"mainBg"!==e.layouts[0]&&"mainFg"!==e.layouts[0]||t.push(e)}),t}}).filter("altCol",function(){return function(e){var t=[];return angular.forEach(e,function(e){!e.layouts||"altBg"!==e.layouts[0]&&"altFg"!==e.layouts[0]||t.push(e)}),t}}).filter("annotation",function(){return function(e){var t=[];return angular.forEach(e,function(e){"Annotation"!==e._type||e.templateUrl.match(/(transmedia|definition)/)||t.push(e)}),t}}).filter("transmedia",function(){return function(e){var t=[];return angular.forEach(e,function(e){("Annotation"!==e._type||e.templateUrl.match(/(transmedia|definition)/))&&t.push(e)}),t}}).filter("transcript",function(){return function(e){var t=[];return angular.forEach(e,function(e){e.isTranscript&&t.push(e)}),t}}).filter("isCurrent",function(){return function(e){var t=[];return angular.forEach(e,function(e){e.isCurrent&&t.push(e)}),t}}).filter("isContent",function(){return function(e){var t=[];return angular.forEach(e,function(e){e.isContent&&t.push(e)}),t}}).filter("reviewMode",["appState",function(e){return function(t){var i=[],n="producer"===e.product;return angular.forEach(t,function(e){(n||!e.cosmetic&&(e.isContent||e.layouts.indexOf("windowFg")>-1))&&i.push(e)}),i}}]).filter("transcriptandrequired",function(){return function(e){var t=[];return angular.forEach(e,function(e){(e.isTranscript||e.required)&&t.push(e)}),t}}).filter("transcriptandoptional",function(){return function(e){var t=[];return angular.forEach(e,function(e){(e.isTranscript||!e.isTranscript&&!e.required)&&t.push(e)}),t}}).filter("required",function(){return function(e){var t=[];return angular.forEach(e,function(e){!e.isTranscript&&e.required&&t.push(e)}),t}}).filter("optional",function(){return function(e){var t=[];return angular.forEach(e,function(e){e.isTranscript||e.required||t.push(e)}),t}}).filter("highlightSubstring",function(){return function(e,t){if(e)return t||angular.isNumber(t)?e.toString().replace(new RegExp(t.toString(),"gi"),'<span class="ui-match">$&</span>'):e}}).filter("pretty",function(){return function(e){return JSON.stringify(e,void 0,2)}}).filter("i18n",["appState",function(e){return function(t){return t?"object"==typeof t?t[e.lang]||t.en||"":t:""}}]).filter("asBytes",function(){return function(e){if(!e)return"";var t=Math.floor(e/1024);return t<1024?t+"Kb":Math.floor(t/10.24)/100+"Mb"}}).filter("asPercent",function(){return function(e){return isNaN(e)?Math.floor(100*e)+"%":"0%"}}).filter("stripParams",function(){return function(e){return e.substr(0,e.indexOf("?"))}}).filter("asTime",function(){return function(e){return isNaN(e)?"0:00":e<0?"0:00":Math.floor(e/60)+":"+("0"+Math.floor(e)%60).slice(-2)}}).filter("alpha",function(){return function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")[e%26]}}).filter("capitalize",function(){return function(e){return e?e.charAt(0).toUpperCase()+e.substr(1).toLocaleLowerCase():""}}).filter("vidsFromCustAdmins",function(){return function(e){var t=[];return angular.forEach(e,function(e){/video/.test(e.content_type)||t.push(e)}),t}}).filter("langDisplay",["ittUtils",function(e){var t=e.existy,i={en:"English",es:"Spanish",zh:"Chinese",pt:"Portuguese",fr:"French",de:"German",it:"Latin"};return function(e){return t(e)?i[e]:""}}]).filter("slugify",["ittUtils",function(e){return function(t){return e.existy(t)?e.slugify(t):""}}])},LSM6:function(e,t){var i="templates/producer/inputi18n.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<input ng-if=\"inputtype=='input'\" ng-model=field[appState.lang] name={{textangularname}} ng-required=doValidate> <text-angular ng-if=\"inputtype=='textarea'\" name={{textangularname}} ng-required=doValidate ng-model=field[appState.lang] ta-paste=sanitizePastedHtml($html) ta-default-wrap=span ng-blur=trim()></text-angular> ")}]),e.exports=i},LfrF:function(e,t,i){"use strict";function n(){return{template:'<div ng-show="selected"><ng-transclude></ng-transclude></div>',require:"^^ittTabs",transclude:!0,scope:{title:"@"},link:function(e,t,i,n){n.addPane(e)}}}t.a=n},MGUg:function(e,t,i){"use strict";function n(e,t,i,n,a){function o(e){function t(){}function i(e){var t=document.getElementById(e);j(e).instance=t,V(t,e)}var n=W(e,"ktObj");E(e,n.partnerId,n.entryId,n.uiconfId,i).then(t)}function r(e,t,i){if(!(R(j(e))&&W(e,"startAtTime")>0)){t&&(N={},D=e);var n=a.getKalturaObject(i[0]),o={mainPlayer:t,div:T(e),ktObj:n};G(e,J(o,H))}}function s(e){B(e,6),X(e,"duration",M(e,"duration"))}function l(e){X(e,"playerState",1),W(e,"ready")===!0&&B(e)}function c(e){X(e,"playerState",2),B(e)}function d(e){var i=t[W(this.id,"playerState")],n=W(this.id,"bufferTimeout");R(n)&&re(n),"buffering"===i&&h(this.id)}function m(){var e=this.id,t=oe(function(){console.log("stuck in buffer land",W(e,"time")),C(e)},15e3);X(this.id,"bufferTimeout",t),X(this.id,"playerState",3),B(this.id)}function p(e){console.log("playerState ended",W(e,"playerState")),X(e,"playerState",0),B(e)}function u(e){console.warn("PLAYER ERROR",e)}function g(e){console.log("new rate",e)}function f(e){X(this.id,"time",e)}function h(e){I(e,"doPlay")}function v(e){I(e,"doPause")}function b(e,t){t>60&&t%10==0&&(t-=.5),I(e,"doSeek",t)}function y(e){I(e,"doStop")}function _(e){return t[W(e,"playerState")]}function w(e){return M(e,"video.player.currentTime")||0}function x(e){if(W(e,"ready")===!0)return 100*M(e,"video.buffer.percent")}function A(e){var t=W(e,"isMuted");if(t===!1){var i=100*M(e,"video.volume");X(e,"vol",i),S(e,0)}else S(e,W(e,"vol"));X(e,"isMuted",!t)}function k(e,t){console.log("setting speed to",t),I(e,"playbackRateChangeSpeed",t)}function S(e,t){I(e,"changeVolume",t/100)}function C(e,t){var i=t||W(e,"time");console.log("about to reset to t=",i),X(e,"startAtTime",i),X(e,"hasResumedFromStartAt",!1),X(e,"resetInProgress",!0),I(e,"changeMedia",{entryId:W(e,"ktObj").entryId}),X(e,"ready",!1)}function I(e,t,i){var n=Y(e);try{R(i)?n.sendNotification(t,i):n.sendNotification(t)}catch(e){console.log("error sending",t)}}function E(e,t,i,a,o){var r={targetId:e,wid:"_"+t,uiconf_id:a,readyCallback:o,entry_id:i,flashvars:{"playbackRateSelector.plugin":!0,"controlBarContainer.plugin":!1,"largePlayBtn.plugin":!1,"loadingSpinner.plugin":!0,"closedCaptions.displayCaptions":!1}},s={"EmbedPlayer.NativeControls":!0,"EmbedPlayer.DisableHTML5FlashFallback":!0};return e!==D&&angular.extend(r.flashvars,s),n.load(t,a).then(function(){KWidget.embed(r)})}function T(e){return'<div id="'+e+'"></div>'}function V(e,t){var i={playerPlayed:l,playerPaused:c,bufferStartEvent:m,bufferEndEvent:d,playerPlayEnd:p,mediaError:u,mediaReady:s,updatedPlaybackRate:g,playerUpdatePlayhead:f};Object.keys(i).forEach(function(n){!function(n){e.kBind(n+"."+t,i[n])}(n)})}function P(e){Y(e).kUnbind("."+e)}function B(e,t){var i;i=t||W(e,"playerState"),se().forEach(function(t){t(U(i,e))})}function M(e,t){var i=Y(e);if(R(i))return i.evaluate("{"+t+"}")}function U(e,i){return{emitterId:i,state:t[e]}}var D,N={},R=e.existy,F=i({players:N,type:"kaltura"}),L=F.commonMetaProps,z={ktObj:{},isMuted:!1,vol:0,videoType:"kaltura",bufferTimeout:null,seekTimeout:null},H={instance:null,meta:{}};angular.extend(H.meta,z,L);var O=Object.keys(H.meta),$=function(e){return R(j(e))&&W(e,"ready")===!0},Q=function(e){},j=F.getPlayer,G=F.setPlayer,q=F.getPlayerDiv,Y=F.getInstance($),J=F.createMetaObj,K=F.getMetaObj,W=F.getMetaProp,X=F.setMetaProp(O),Z=F.registerStateChangeListener,ee=F.unregisterStateChangeListener,te=F.pauseOtherPlayers(v,_),ie=F.resetPlayerManager(P),ne=F.renamePid,ae=F.handleTimelineEnd(Q),oe=e.ngTimeout,re=e.cancelNgTimeout,se=F.getStateChangeListeners;return{type:"kaltura",getMetaProp:W,setMetaProp:X,getMetaObj:K,getPlayerDiv:q,pauseOtherPlayers:te,registerStateChangeListener:Z,unregisterStateChangeListener:ee,resetPlayerManager:ie,renamePid:ne,seedPlayerManager:r,create:o,getPlayerState:_,play:h,pause:v,seekTo:b,getCurrentTime:w,getBufferedPercent:x,toggleMute:A,setVolume:S,setSpeed:k,freezeMetaProps:angular.noop,unFreezeMetaProps:angular.noop,stop:y,handleTimelineEnd:ae}}t.a=n,n.$inject=["ittUtils","PLAYERSTATES","playerManagerCommons","kalturaScriptLoader","kalturaUrlService"]},Mj5z:function(e,t,i){var n=i("8FYh");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},MvqX:function(e,t,i){e.exports=i.p+"images/gw-law-1e102049617459a1219f011e95fe9de0.jpg"},"N29+":function(e,t){var i="templates/producer/item/sxs-annotation.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <span class="eventIcon icon-comment"></span> <div class=field> <div class=label>Comment </div> <div class=input sxs-input-i18n=item.annotation autofocus x-inputtype="\'textarea\'"></div> </div> ')}]),e.exports=i},NnMI:function(e,t){var i="templates/producer/item/sxs-question.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span class="eventIcon icon-question"></span> <div class=field> <div class=label>Question type </div> <div class=input> <select ng-model=item.data._plugin.questiontype> <option value=mc-poll>Poll</option> <option value=mc-formative>Formative</option> </select> </div> </div> <div class=field> <div class=label>Question text </div> <div class=input autofocus sxs-input-i18n=item.data._plugin.questiontext x-inputtype="\'textarea\'"></div> </div> <div class=field> <div class=label>Question Title </div> <div class=input> <input type=text ng-model=item.title.en autofocus> </div> </div> <div class=field> <div class=label>Image (optional) </div> <div class=input ng-include="\'templates/producer/upload-sxs.html\'"> </div> </div> <div class=field ng-repeat="distractor in item.data._plugin.distractors track by $index"> <div class=label> {{$index | alpha}} &nbsp; <input type=checkbox ng-model=distractor.correct ng-if="item.data._plugin.questiontype == \'mc-formative\'"> </div> <div class=input sxs-input-i18n=distractor.text x-inputtype="\'textarea\'"></div> </div> <div class=field> <div class=input> <button ng-click=addDistractor($event)>Add distractor</button> </div> </div> <div class=field ng-if="item.data._plugin.questiontype == \'mc-formative\'"> <div class=label>Feedback when correct </div> <div class=input sxs-input-i18n=item.data._plugin.correctfeedback x-inputtype="\'textarea\'"></div> </div> <div class=field ng-if="item.data._plugin.questiontype == \'mc-formative\'"> <div class=label>Feedback when incorrect </div> <div class=input sxs-input-i18n=item.data._plugin.incorrectfeedback x-inputtype="\'textarea\'"></div> </div> ')}]),e.exports=i},O4Bc:function(e,t){var i="templates/item/image-fill.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate imageFill" style="" ng-style="{\'backgroundImage\':item.asset.cssUrl}"> <img class=fillImg ng-src={{item.asset.url}}> </div> ')}]),e.exports=i},O68L:function(e,t,i){e.exports=i.p+"images/CPB_ModernSqaures-01-ab837f9844fa494f387183af3e1b5823.svg"},OCYu:function(e,t){var i="templates/item/image-caption-sliding.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="captionContainer touchable"> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> <div class="caption slidingcaption"> <div class="title item__title item__title--image-caption-sliding" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div class="text item__text item__title--image-caption-sliding" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> </div> <div class=clear></div> </div> ')}]),e.exports=i},ONCz:function(e,t,i){"use strict";function n(e,t,i,n){e.errorSvc=t,e.logout=n.logout,e.user=i.user,e.dismiss=function(e){for(var i=0;i<t.errors.length;i++)t.errors[i]===e&&(t.errors.splice(i,1),i=t.errors.length);for(i=0;i<t.notifications.length;i++)t.notifications[i]===e&&(t.notifications.splice(i,1),i=t.notifications.length)}}t.a=n,n.$inject=["$scope","errorSvc","appState","authSvc"]},OQ8S:function(e,t,i){"use strict";(function(e){function i(t,i,n,a,o,r,s,l,c){function d(){var e=!0;return angular.forEach(s.user.roles,function(t){t.role!==p.GUEST&&(e=!1)}),e}var m={},p={ADMINISTRATOR:"admin",INSTRUCTOR:"instructor",STUDENT:"student",GUEST:"guest",CUSTOMER_ADMINISTRATOR:"customer admin"},u={CUSTOMER:"Customer"};m.isTrueGuest=d,m.userHasRole=function(e){if(s.user&&s.user.roles)for(var t=0;t<s.user.roles.length;t++)if(s.user.roles[t].role===e){if(e!==p.ADMINISTRATOR||!r.existy(s.user.roles[t].resource_id))return!0}else if(e===p.CUSTOMER_ADMINISTRATOR&&s.user.roles[t].role===p.ADMINISTRATOR&&r.existy(s.user.roles[t].resource_id)&&s.user.roles[t].resource_type===u.CUSTOMER)return!0;return!1},m.getCustomerIdsFromRoles=function(){if(s.user&&s.user.roles)return s.user.roles.reduce(function(e,t){return t.role===p.ADMINISTRATOR&&r.existy(t.resource_id)&&t.resource_type===u.CUSTOMER&&e.push(t.resource_id),e},[])},m.getRoleForNarrative=function(e,t){t=void 0!==t?t:s.user.roles;var i="",n=!1;if(t)for(var a=0;a<t.length;a++){switch(t[a].role){case p.ADMINISTRATOR:if(t[a].resource_id&&t[a].resource_id!==e)continue;i="admin",n=!0;break;case p.INSTRUCTOR:if(t[a].resource_id&&t[a].resource_id!==e)continue;i=t[a].role;break;case p.STUDENT:if(t[a].resource_id&&t[a].resource_id!==e)continue;i="instructor"===i?i:t[a].role;break;case p.GUEST:if(t[a].resource_id&&t[a].resource_id!==e)continue;i="instructor"===i||"student"===i?i:t[a].role}if(n)break}return i},m.getDefaultProductForRole=function(e){var t="player";return"narrative"===s.productLoadedAs?e!==p.ADMINISTRATOR&&e!==p.INSTRUCTOR||(t="sxs"):c.error({data:"authSvc.getDefaultProductForRole should only be used within narratives for now"}),t},m.logout=function(){try{localStorage.removeItem(t.localStorageKey),document.cookie="XSRF-TOKEN=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="_tellit-api_session=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}catch(e){}s.user={},n({method:"GET",url:t.apiDataBaseUrl+"/logout"}).success(function(){delete n.defaults.headers.common.Authorization,o.path("/").search({logout:1})}).error(function(){delete n.defaults.headers.common.Authorization,o.path("/").search({logout:1})})},m.adminLogin=function(i,o){var r=a.defer();return n({method:"POST",url:t.apiDataBaseUrl+"/auth/identity/callback",data:e.param({auth_key:i,password:o}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){n.defaults.headers.common.Authorization='Token token="'+e.access_token+'"',f(e),m.getCurrentUser().then(function(){r.resolve(e)})}).error(function(e){r.reject(e)}),r.promise};var g=a.defer();m.authenticate=function(e){if(n.defaults.headers.common.Authorization)s.user._id?g.resolve():(console.warn("Have auth header but no appState.user data. Not sure this should ever happen, TODO delete this from authSvc if it continues to not happen"),m.getCurrentUser().then(function(){g.resolve()},function(){return m.authenticateViaNonce(e)}));else{if(i.key){var a=i.key;return o.search("key",null),m.getAccessToken(a)}var r=m.getStoredToken();if(!r)return console.log("auth Via Nonce",e),m.authenticateViaNonce(e);n.defaults.headers.common.Authorization='Token token="'+r+'"',m.getCurrentUser().then(function(){g.resolve()},function(){try{localStorage.removeItem(t.localStorageKey),document.cookie="XSRF-TOKEN=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="_tellit-api_session=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}catch(e){}return s.user={},m.authenticateViaNonce(e)})}return g.promise},m.authenticateViaNonce=function(e){var t=a.defer();return m.getNonce(e).then(function(e){m.getAccessToken(e).then(function(){t.resolve()})}),t.promise},m.getStoredToken=function(){var e={};try{if(!localStorage)return!1;localStorage.getItem(t.localStorageKey),e=angular.fromJson(localStorage.getItem(t.localStorageKey));var i=t.apiDataBaseUrl.match(/\/\/([^\.]*)./)[1];return e.customer!==i&&(console.log("deleting wrong-customer token: was ",e.customer," should be ",i),localStorage.removeItem(t.localStorageKey),e={}),e.token||!1}catch(e){return!1}},m.getCurrentUser=function(){var e=a.defer();return n({method:"GET",url:t.apiDataBaseUrl+"/show_user"}).success(function(t){f(t),e.resolve()}).error(function(){e.reject()}),e.promise},m.updateUser=function(e){var i=a.defer();return n({method:"PUT",url:t.apiDataBaseUrl+"/users/"+e._id,data:e}).success(function(e){f(e),i.resolve()}).error(function(){i.reject()}),i.promise};var f=function(e){if(null!==e.roles&&void 0!==e.roles&&e.roles.length>0&&e.roles[0].constructor===String){for(var i=[],a=0;a<e.roles.length;a++){var o={role:e.roles[a]};i.push(o)}e.roles=i}var r={access_token:e.access_token||e.authentication_token,customer:t.apiDataBaseUrl.match(/\/\/([^\.]*)./)[1],roles:e.roles};angular.forEach(["_id","name","email","track_event_actions","track_episode_metrics","avatar_id"],function(t){e[t]&&(r[t]=e[t])});var c=m.getStoredToken();r.avatar_id&&c&&(n.defaults.headers.common.Authorization='Token token="'+c+'"',n.get(t.apiDataBaseUrl+"/v1/assets/"+r.avatar_id).then(function(e){l.cache("asset",e.data),s.user.avatar=e.data.url})),e["track_episode_metrics:"]&&(r.track_episode_metrics=!0),r.roles&&(r.role_description=h(r.roles[0])),e.emails&&(r.email=e.emails[0]),s.user=r;try{localStorage.setItem(t.localStorageKey,JSON.stringify({token:r.access_token,customer:r.customer}))}catch(e){}},h=function(e){return void 0===e?"User":"admin"===e.role?"Administrator":void 0===e.role?"User":"guest"===e.role?"Guest user":e.role.match(/student/i)?"Student":e.role.match(/instructor/i)?"Instructor":e};return m.getNonce=function(e){var i=a.defer(),o=t.apiDataBaseUrl+"/v1/get_nonce";return e&&(o=o+"?"+e),n.get(o).success(function(e){e.nonce?i.resolve(e.nonce):e.login_url&&null!==e.login_url?(e.login_via_top_window_only?window.top.location.href=e.login_url:window.location.href=e.login_url,i.reject()):(console.warn("get_nonce returned a null login_url"),"#/"!==window.location.hash&&(window.location.href="/#/"),i.reject())}).error(function(){i.reject()}),i.promise},m.getAccessToken=function(e){var i=a.defer();return n.get(t.apiDataBaseUrl+"/v1/get_access_token/"+e).success(function(e){f(e),n.defaults.headers.common.Authorization='Token token="'+e.access_token+'"',m.getCurrentUser().then(function(){i.resolve(e)})}).error(function(){i.reject()}),i.promise},m}t.a=i,i.$inject=["config","$routeParams","$http","$q","$location","ittUtils","appState","modelSvc","errorSvc"]}).call(t,i("7t+N"))},Ob1N:function(e,t,i){"use strict";function n(e,t){e.seek=function(i){t.seek(i,"clickedOnItem",e.item._id)};var i={ENTER:13,SPACE:32};e.seekOnKeyPress=function(t,n){var a=n,o=!0;switch(a.keyCode){case i.ENTER:case i.SPACE:e.seek(t),o=!1;break;default:o=!0}o||(n.stopPropagation(),n.preventDefault())}}t.a=n,n.$inject=["$scope","timelineSvc"]},Of5n:function(e,t){var i="templates/navpanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span class=navPanel> <div class=parent ng-repeat="parent in episode.parents" ng-bind-html=parent.display_name></div> <div class=scene x-ng-if=scene.display_title x-ng-repeat="scene in episode.scenes" x-ng-class="{currentScene: scene.isCurrent}" x-ng-click=seek(scene.start_time)> <span class=displayTime>{{scene.displayStartTime}}</span> <p> <button class=fakeLink tabindex=0 ng-bind-html=scene.display_title x-ng-class="{sceneLink: !scene.isCurrent}" ng-focus=showControls()></button> <br> <span ng-bind-html=scene.display_description></span> </p> </div> <div class=crossEpisode> <a class=prevEpisode ng-if=episode.previousEpisodeContainer ng-href=/#/{{appState.crossEpisodePath}}/{{episode.previousEpisodeContainer.episodes[0]}} title={{episode.previousEpisodeContainer.display_name}}>Previous episode</a> <a class=nextEpisode ng-if=episode.nextEpisodeContainer ng-href=/#/{{appState.crossEpisodePath}}/{{episode.nextEpisodeContainer.episodes[0]}} title={{episode.nextEpisodeContainer.display_name}}>Next Episode</a> </div> </span> ')}]),e.exports=i},Opc2:function(e,t){var i="templates/episode/components/windowfg.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div ng-if="(episode.items | isCurrent | itemLayout:\'windowFg\').length > 0" class="overlay windowFg fgLayer animate transitionFade"> <div class="content w-modal"> <div ng-class="item.styleCss + \' \' + item.state" itt-item=item class="item animate timestampNone" ng-repeat="item in episode.items | isCurrent | itemLayout:\'windowFg\'"> </div> <a ng-if=!appState.editEvent class=button-continue ng-click=continue()> <span>Continue</span> </a> </div> </div> ')}]),e.exports=i},P0G9:function(e,t,i){"use strict";(function(e){function i(t,i){return{restrict:"A",replace:!1,scope:{scene:"=ittScene",episode:"=episode"},template:'<span ng-include="scene.templateUrl"></span>',controller:"SceneController",link:function(n,a){"review"!==i.viewMode&&window.scrollTo(0,0),n.precalculateSceneValues(),n.appState=i;var o=function(){if(null===a.find(".videoMagnet img").height())var t=n.$watch(function(){return a.find(".videoMagnet img").height()},function(e){e>0&&(t(),o())});else{a.find(".matchVideoHeight:visible").each(function(){e(this).css("height",a.find(".videoMagnet img").height())});var i=angular.element(window).height()-e("#CONTAINER").scrollTop();a.find(".stretchToViewport:visible").each(function(){e(this).css("min-height",i-e(this).offset().top)}),a.find(".stretchToViewportShort:visible").each(function(){e(this).css("min-height",i-e(this).offset().top-210)})}a.find(".content").each(function(){var t=e(this);t.outerWidth()>550?t.addClass("allowSidebars"):t.removeClass("allowSidebars")})};n.unwatch=n.$watch(function(){return{winWidth:i.windowWidth,winHeight:i.windowHeight,newMode:i.viewMode}},function(e){"discover"===e.newMode&&n.scene.isCurrent&&o()},!0),n.unwatchEdits=n.$watch(function(){return i.editEvent},n.precalculateSceneValues,!0),n.safetyBelt=t(o,1321),n.$on("$destroy",function(){n.unwatch(),n.unwatchEdits(),t.cancel(n.safetyBelt)})}}}t.a=i,i.$inject=["$interval","appState"]}).call(t,i("7t+N"))},PtaW:function(e,t,i){e.exports=i.p+"images/Narrasys_Banner_white-faf00553a8acd1f5bcdee8118173dd45.svg"},QB9z:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Batch Upload Transcripts',"\t</div>",'\t<div class="input">','\t\t<div itt-asset-uploader episode-id="{{$ctrl.episodeId}}" mime-types="{{$ctrl.mimes}}" callback="$ctrl.showOptions = true">','     <div ng-if="$ctrl.showOptions" class="asset__field-group">',"       <div>",'         <label>group into sentences <input type="radio" ng-model="$ctrl.selectedParam" value="group_into_sentences"/></label>','         <label>smart sentences <input type="radio" ng-model="$ctrl.selectedParam" value="smart_sentences"/></label>','         <label>none <input type="radio" ng-model="$ctrl.selectedParam" value="none"/></label></br>',"       </div>",'       <div><label>max subtitle duration <input type="number" ng-model="$ctrl.maxDuration"/></label></div>','       <div><button ng-click="$ctrl.commenseUpload()">upload transcripts</button></div>',"     </div>","   </div>","\t</div>","</div>"].join(""),scope:{episodeId:"@"},controller:["$scope","MIMES","modelSvc","dataSvc","timelineSvc","ittUtils",function(e,t,i,n,a,o){function r(){var t={};"none"!==s.selectedParam&&(t[s.selectedParam]=!0),l(s.maxDuration)&&(t[c]=s.maxDuration),e.$broadcast("transcriptsReceived",t),e.$on("transcriptsUploaded",function(){s.showOptions=null,window.location.reload()})}var s=this,l=o.existy,c="max_subtitle_duration";angular.extend(s,{mimes:t.transcripts,showOptions:!1,selectedParam:"none",maxDuration:null,commenseUpload:r})}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},QIbj:function(e,t){var i="templates/producer/item/producer-scene.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},QJZl:function(e,t,i){e.exports=i.p+"images/CPB_Logo-01-2-5381d1e6233221a10084e04bd78694c8.svg"},QbAl:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s,l,c){function d(t){if("ended"!==l.getTimelineState()||"unstarted"!==t&&"video cued"!==t)switch(l.setTimelineState(t),t){case"reset":m(),l.resetPlaybackService();break;case"unstarted":break;case"ended":console.log("timelineSvc#ended event!"),l.setMetaProp("time",l.getMetaProp("duration"));break;case"playing":var i=l.getCurrentTime(),n=l.getMetaProp("time"),a=l.getMetaProp("resetInProgress");Math.abs(n-i)>.75&&a===!1&&(l.setMetaProp("time",i),T(!0)),P(),I(),r.videoControlsActive=!0,r.show.navPanel=!1,e.parent!==e&&e.parent.postMessage("pauseEpisodePlayback","*"),s.captureEpisodeActivity("play");break;case"paused":case"buffering":m();break;case"video cued":var o=l.getMetaProp("startAtTime"),c=l.getMetaProp("hasResumedFromStartAt");o>0&&c===!1&&y.startAtSpecificTime(o);break;case"player ready":y.updateEventStates()}}function m(){i.cancel(_),r.videoControlsActive=!0,E(),_=void 0,C=void 0}function p(){m(),l.handleTimelineEnd(),s.captureEpisodeActivity("pause")}function u(){y.seek(.01),y.play()}function g(){for(var e=!1,t=l.getMetaProp("time"),i=l.getMetaProp("duration"),n=y.markedEvents.length-1,a=0;a<n;a++)if(y.markedEvents[a].start_time>t){f(a,"nextScene"),e=!0;break}e||(y.pause(),y.seek(i-.01,"nextScene"))}function f(e,t){var i=y.markedEvents[e],n=i.start_time;.01===n&&"prevScene"!==t&&(n+=.1),y.seek(n,t),i.stop===!0&&y.pause()}function h(){var e=l.getMetaProp("time");"playing"===l.getTimelineState()&&(e-=3);for(var t=y.markedEvents.length-1,i=t;i>=0;i--)if(y.markedEvents[i].start_time<e){y.seek(y.markedEvents[i].start_time,"prevScene"),i===t&&--i,f(i,"prevScene");break}}function v(e){return e.reduce(function(e,t){return e.hasOwnProperty(t.start_time)?e[t.start_time].push(t):e[t.start_time]=[t],e},{})}function b(e){var t=[];return angular.forEach(e,function(e,i){var n={events:e,stop:!1,multiStop:!1,start_time:i,toolTipText:null,layoutChange:!1},a=!1,o=[],r=!1,s=!1;angular.forEach(e,function(e){/internal:endingscreen|internal:landingscreen/.test(e._id)&&(s=!0),e.stop&&(a=!0),"Scene"===e.type&&(r=!0),"Chapter"!==e.type&&e.chapter_marker!==!0||o.push(e)}),0===o.length&&!r&&a&&(n.toolTipText="Stop item"),a&&(n.stop=!0),n.events.length>1&&a&&(n.multiStop=!0),r&&0===o.length&&(n.layoutChange=!0,n.toolTipText="(Layout Change)"),o.length>0&&(angular.forEach(o,function(e,t){0===t?n.toolTipText=e.display_annotation||e.display_title:n.toolTipText+=" / "+(e.display_annotation||e.display_title)}),r&&(n.toolTipText+=" (Layout Change)"),n.multiStop&&(n.toolTipText+=" / (Stop item)")),s||t.push(n)}),t}var y={};y.timelineEvents=[],y.markedEvents=[],y.enforceSingletonPauseListener||e.addEventListener("message",function(e){"pauseEpisodePlayback"===e.data&&y.pause()},!1),y.enforceSingletonPauseListener=!0;var _,w,x,A=c.parseTime;y.setSpeed=function(e){x=e,l.setMetaProp("timeMultiplier",x),l.setSpeed(x),T()},y.restartEpisode=u,y.play=function(){var e=l.getMetaProp("duration");if(!e||e<.1)return void console.error("This episode has no duration");l.play()},y.pause=function(e){m(),l.pause(),e||s.captureEpisodeActivity("pause")},y.startAtSpecificTime=function(e){r.isTouchDevice&&l.getMetaProp("hasBeenPlayed")===!1&&"youtube"===l.getMetaProp("videoType")||(e=A(e),e<0&&(e=0),e>l.getMetaProp("duration")&&l.setMetaProp("duration",e),l.setMetaProp("time",e),l.setMetaProp("hasResumedFromStartAt",!0),y.updateEventStates(),s.captureEpisodeActivity("seek",{method:"URLParameter"}))},y.seek=function(e,i,n){if(l.getMetaProp("ready")===!0){l.pauseOtherPlayers();var a=l.getMetaProp("duration");if("ended"===l.getTimelineState()&&l.setTimelineState("paused"),0===a)return void t(function(){y.seek(e)},300);var o={method:"",seekStart:l.getMetaProp("time")};e=A(e),e<0&&(e=0),e>a&&l.setMetaProp("duration",e),E(),l.setMetaProp("time",e),l.seek(e),y.updateEventStates(),c.existy(i)&&(o.method=i,c.existy(n)&&(o.event_id=n),s.captureEpisodeActivity("seek",o))}},y.nextScene=g,y.handleScene=f,y.prevScene=h,y.toggleMute=function(){r.muted=!r.muted,l.toggleMute()},y.setVolume=function(e){r.volume=e,l.setVolume(e)};var k,S=function(){k={lastTimelineTime:0,lastVideoTime:0,running:!1}};S();var C,I=function(){k.running||(k.running=!0,k.lastTimelineTime=l.getMetaProp("time"),k.lastVideoTime=l.getMetaProp("time"),T())},E=function(){t.cancel(w),S()},T=function(e){t.cancel(w);for(var i=l.getCurrentTime(),n=l.getMetaProp("time"),a=0;a<y.timelineEvents.length;a++){var o=y.timelineEvents[a];if(o.t>=k.lastTimelineTime){if(o.t>n)break;if("pause"!==o.action||!e&&o.t!==k.lastTimelineTime){if(V(o),"pause"===o.action){a++;break}}else;}}var r=y.timelineEvents[a],s=y.timelineEvents[y.timelineEvents.length-1];if(!c.existy(r)&&c.existy(s)&&/internal:endingscreen/.test(s.id)&&p(),k.lastVideoTime=i,k.lastTimelineTime=n,r&&"playing"===l.getTimelineState()){var d=1e3*(y.timelineEvents[a].t-n)/x;w=t(T,d+10)}},V=function(e){"timeline"===e.id?"pause"===e.action?(l.setMetaProp("time",e.t),console.log("handle stop event"),y.pause()):y.play():"enter"===e.action?(o.events[e.id].state="isCurrent",o.events[e.id].isCurrent=!0):"exit"===e.action?(o.events[e.id].state="isPast",o.events[e.id].isCurrent=!1):"preload"===e.action?D(o.events[e.id]):console.warn("Unknown event action: ",e,e.action)},P=function(){C=void 0,i.cancel(_),_=i(B,20)},B=function(){var e=new Date,t=isNaN(e-C)?0:e-C;k.running||I();var i=parseFloat(l.getMetaProp("time"))+t/1e3*x;i<0&&(i=0,y.pause());var n=l.getMetaProp("duration");i>n&&(i=n),l.setMetaProp("time",i),C=e};y.init=function(e){y.timelineEvents=[],y.markedEvents=[],y.displayMarkedEvents=[],x=1;var t=o.episode(e);l.seedPlayer(t.masterAsset.mediaSrcArr,t.masterAsset._id,!0),l.setTimelineState("unstarted"),l.setMetaProp("duration",0),y.injectEvents(o.episodeEvents(e),0),l.registerStateChangeListener(d),i.cancel(_),E()},y.injectEvents=function(e,t){if(0!==e.length){t||(t=0),angular.forEach(e,function(e){if(e.start_time=Number(e.start_time),e.end_time=Number(e.end_time),"Scene"===e._type&&("producer"===r.product&&M(e),/internal:(landing|ending)screen/.test(e._id)&&M(e)),"Chapter"!==e._type&&e.chapter_marker!==!0||M(e),0!==e.start_time||e._id.match("internal")||(e.start_time=.01,o.events[e._id].start_time=.01),e.stop)M(e),y.timelineEvents.push({t:e.start_time+t,id:"timeline",eventId:e._id,action:"pause"}),y.timelineEvents.push({t:e.start_time+t,id:e._id,action:"enter"}),y.timelineEvents.push({t:e.start_time+t+.01,id:e._id,action:"exit"});else if(y.timelineEvents.push({t:e.start_time+t,id:e._id,action:"enter"}),e.end_time||0===e.end_time){if(/internal:endingscreen/.test(e._id))return;y.timelineEvents.push({t:e.end_time+t,id:e._id,action:"exit"})}else console.warn("Missing end_time on event ",e);(e.asset_id||e.annotation_image_id||e.link_image_id)&&y.timelineEvents.push({t:e.start_time<3?0:e.start_time-3,id:e._id,action:"preload"})}),y.sortTimeline();var i=v(y.markedEvents);y.displayMarkedEvents=b(i)}};var M=function(e){for(var t=!1,i=0;i<y.markedEvents.length;i++)y.markedEvents[i]._id===e._id&&(y.markedEvents[i]=angular.copy(e),t=!0);t||y.markedEvents.push(e)};y.removeEvent=function(e){y.timelineEvents=n("filter")(y.timelineEvents,function(t){return t.id!==e&&t.eventId!==e}),y.markedEvents=n("filter")(y.markedEvents,{_id:"!"+e});var t=v(y.markedEvents);y.displayMarkedEvents=b(t),y.updateEventStates()},y.updateEventTimes=function(e){y.timelineEvents=n("filter")(y.timelineEvents,function(t){return t.id!==e._id&&t.eventId!==e._id}),y.injectEvents([e],0)},y.updateSceneTimes=function(e){angular.forEach(o.episodes[e].scenes,function(e){y.updateEventTimes(e)})},y.sortTimeline=function(){y.timelineEvents=y.timelineEvents.sort(function(e,t){if(e.t===t.t){if(e.action===t.action)return 0;if("enter"===e.action){if("pause"===t.action)return-1;if("exit"===t.action)return 1}return"exit"===e.action?-1:"pause"===e.action?1:0}return e.t-t.t}),y.markedEvents=y.markedEvents.sort(function(e,t){return e.start_time-t.start_time}),y.timelineEvents.length>0&&l.setMetaProp("duration",y.timelineEvents[y.timelineEvents.length-1].t),y.updateEventStates()},y.updateEventStates=function(){var e=l.getMetaProp("time");angular.forEach(y.timelineEvents,function(e){if("timeline"!==e.id){var t=o.events[e.id];t&&(t.state="isFuture",t.isCurrent=!1)}}),angular.forEach(y.timelineEvents,function(t){if(t.t<=e){var i=o.events[t.id];i&&("enter"===t.action?(i.state="isCurrent",i.isCurrent=!0):"exit"===t.action&&(i.state="isPast",i.isCurrent=!1))}})};var U={},D=function(e){e.asset&&"Asset::Image"===e.asset._type&&(U[e.asset.url]||(U[e.asset.url]=new Image,U[e.asset.url].src=e.asset.url))};return a.debugInBrowser&&console.log("timelineSvc: ",y),y}t.a=n,n.$inject=["$window","$timeout","$interval","$filter","config","modelSvc","appState","analyticsSvc","playbackService","ittUtils"]},QfUj:function(e,t,i){var n="templates/episode/prolotherapy.html",a='<div class="episode episode-prolotherapy" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("DwK4")+' alt="American Association of Musculoskeletal Medicine"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},QgsF:function(e,t){var i="templates/producer/item/producer-video.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},QnA9:function(e,t,i){var n="templates/episode/wiley1.html",a='<div class="episode episode-wiley wiley-endscreentext" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=ghost></div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},Qwfd:function(e,t,i){"use strict";function n(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ittShowHideVisualOnly,function(t){t?e.removeClass(i,"visual-hide"):e.addClass(i,"visual-hide")})}}}function a(){return{addClass:function(e){e.fadeTo("slow",0,function(){})},removeClass:function(e){e.fadeTo("slow",1,function(){})}}}t.a=n,t.b=a,n.$inject=["$animate"]},R1VI:function(e,t,i){var n="templates/episode/components/reviewmode.html",a="<div ng-show=\"appState.viewMode == 'review'\" class=searchMode> <div itt-magnet id=searchVideoMagnet class=videoMagnet> <img src="+i("rXKF")+"> </div> <div itt-search-panel></div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"REU/":function(e,t,i){"use strict";function n(){return{restrict:"A",replace:!1,link:function(e,t){var i=e.$watch(function(){return t.width()},function(t){e.isNarrow=t<450});e.$on("$destroy",i)}}}t.a=n},RMtA:function(e,t){var i="templates/producer/item/sxs-image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span class="eventIcon icon-image"></span> <div class=field> <div class=label>Title </div> <div class=input> <input type=text ng-model=item.title.en autofocus> </div> </div> <div class=field> <div class=label>Image </div> <div class=input ng-include="\'templates/producer/upload-sxs.html\'"> </div> </div> <div class=field> <div class=label>Description </div> <div class=input sxs-input-i18n=item.description x-inputtype="\'textarea\'"></div> </div> ')}]),e.exports=i},RRIM:function(e,t,i){e.exports=i.p+"images/ewb-logo-909f4a2be8056cffe0b466c116283b75.svg"},RSWg:function(e,t,i){e.exports=i.p+"images/Logo_ColorBars-01-86cc3678e8255b294082e43f21560bc6.svg"},RkHS:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Languages</div>','\t<div class="input">',"\t<label>",'\t\t<input type="checkbox" ng-model="langForm.en">English',"\t</label>","\t<label>",'\t\t<input type="checkbox" ng-model="langForm.es">Spanish',"\t</label>","\t<label>",'\t\t<input type="checkbox" ng-model="langForm.zh">Chinese',"\t</label>","\t<label>",'\t\t<input type="checkbox" ng-model="langForm.pt">Portuguese',"\t</label>","\t<label>",'\t\t<input type="checkbox" ng-model="langForm.fr">French',"\t</label>","\t<label>",'\t\t<input type="checkbox" ng-model="langForm.de">German',"\t</label>","\t<label>",'\t\t<input type="checkbox" ng-model="langForm.it">Italian',"\t</label>","\t</div>","</div>"].join("\n")}}t.a=n},RszC:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{onLogout:"&",inPlayer:"=?"},template:'\n      <div>\n      \t<header class="nav__header">\n      \t\t<div class="nav__item">\n      \t\t\t<img ng-if="!$ctrl.inPlayer" ng-src="{{::$ctrl.bannerImg}}"/>\n      \t\t\t<img ng-if="$ctrl.inPlayer" ng-src="{{::$ctrl.logo}}"/>\n      \t\t</div>\n      \t\t<div class="nav__item" ng-if="$ctrl.appState.user._id">\n      \t\t\t<div class="nav__controls">\n      \t\t\t\t<div class="navControls__item item--left">\n      \t\t\t\t\t<div class="nav__user" ng-click="$ctrl.goToAccounts()">\n      \t\t\t\t\t\t<img ng-src="{{$ctrl.appState.user.avatar || $ctrl.noAvatar}}">\n      \t\t\t\t\t\t<a class="nav__button" ng-if="$ctrl.appState.user">{{$ctrl.appState.user.name}}</a>\n      \t\t\t\t\t</div>\n      \t\t\t\t\t<a class="nav__button" ng-if="$ctrl.currentPath !== \'/projects\' && $ctrl.canAccess" href="/#/projects">My Projects</a>\n      \t\t\t\t\t<a class="nav__button" ng-if="$ctrl.currentPath !== \'/stories\' && $ctrl.canAccess" href="/#/stories">My Narratives</a>\n      \t\t\t\t</div>\n      \t\t\t\t<div class="navControls__item item--right">\n      \t\t\t\t\t<a class="nav__button" ng-click="$ctrl.onLogout()">Log out</a>\n      \t\t\t\t\t<a class="nav__button"  ng-if="$ctrl.canAccess" target="_blank" rel="noopener noreferrer" href="https://support.narrasys.com">Help</a>\n      \t\t\t\t<div>\n      \t\t\t</div>\n      \t\t</div>\n      \t</header>\n      </div>\n      ',controller:["$location","appState","authSvc",function(e,t,n){function a(){o.canAccess&&e.url("/account")}var o=this;o.currentPath=e.path(),o.appState=t,o.goToAccounts=a,o.bannerImg=i("rFfA"),o.noAvatar=i("IiAB"),o.logo=i("5Tuk"),n.authenticate().then(function(){o.canAccess=n.userHasRole("admin")||n.userHasRole("customer admin")||n.userHasRole("instructor")})}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},S4ej:function(e,t,i){"use strict";function n(e){return{restrict:"A",replace:!0,scope:{item:"=ittItemDetailModal"},templateUrl:"templates/item/modal.html",link:function(t){t.item=t.item.item,t.item.animate||(t.modalStyle={transition:"none"});var i={bottom:"0","padding-top":"5%"},n={"overflow-y":"auto",top:"40%",height:"85%","z-index":"11"};t.item.isVideoUrl?t.modalStyle=angular.extend(t.modalStyle,{"padding-top":"5%"}):"image"===t.item.producerItemType?t.modalStyle=angular.extend(t.modalStyle,n):t.modalStyle=angular.extend(t.modalStyle,i),t.dismiss=function(){e.itemDetail=!1}}}}t.a=n,n.$inject=["appState"]},S7ON:function(e,t,i){e.exports=i.p+"images/kellogg-banner-wide-66307a7f9161d8dc23d9726f80c94bba.svg"},S82Z:function(e,t,i){var n=i("SGBq");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},SE1D:function(e,t,i){"use strict";function n(e){return{restrict:"A",replace:!0,scope:!0,templateUrl:"templates/searchpanel.html",controller:"SearchPanelController",link:function(t){t.appState=e,t.indexEvents()}}}t.a=n,n.$inject=["appState"]},SGBq:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".university-arizona{background-image:url("+i("HxtV")+")}.university-arizona .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Noto Sans;color:#fff;background-color:#ab0520;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.university-arizona .landingscreen .introtext{padding-bottom:2em}.university-arizona .landingscreen #episode--description{display:none}.university-arizona .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Noto Sans;color:#fff;background-color:#ab0520;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.university-arizona .searchPanel__wrapper{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b}.university-arizona .searchPanel__wrapper .fake-link--search-results{color:#ab0520}.university-arizona .searchResults{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .searchResults .item__link--escape-link,.university-arizona .searchResults .item__link--fake-link,.university-arizona .searchResults .item__title--link{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b;color:#ab0520}.university-arizona .searchResults .item__link--escape-link:before,.university-arizona .searchResults .item__link--fake-link:before,.university-arizona .searchResults .item__title--link:before{color:#072d5b}.university-arizona .item__title{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .item__title--file a,.university-arizona .item__title--link a{color:#ab0520}.university-arizona .item__link--fake-link{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b;color:#ab0520}.university-arizona .item__text{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b}.university-arizona .item__text--definition h1,.university-arizona .item__text--definition h2,.university-arizona .item__text--definition h3,.university-arizona .item__text--h2,.university-arizona .item__text--transmedia h1,.university-arizona .item__text--transmedia h2,.university-arizona .item__text--transmedia h3{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .item .item__text--pullquote{font-family:Amiri,serif;font-weight:300;color:#072d5b}.university-arizona .item .item__text--pullquote:before{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#ab0520}.university-arizona .item__text--image-caption,.university-arizona .item__text--image-caption-sliding,.university-arizona .item__title--image-caption,.university-arizona .item__title--image-caption-sliding{color:#fff}.university-arizona .item__link--escape-link{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b;color:#ab0520}.university-arizona .item__link--escape-link:before{color:#072d5b}.university-arizona .item .displayTime,.university-arizona .item .startTime{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#ab0520}.university-arizona .item .displayTime:hover,.university-arizona .item .startTime:hover{text-decoration:underline}.university-arizona .item.colorInvert{background-color:#072d5b!important}.university-arizona .item.colorInvert .item__link--escape-link,.university-arizona .item.colorInvert .item__link--escape-link:before,.university-arizona .item.colorInvert .item__text,.university-arizona .item.colorInvert .item__text:before,.university-arizona .item.colorInvert .item__title a,.university-arizona .item.colorInvert .item__title a:before,.university-arizona .item.colorInvert a.displayTime.startTime,.university-arizona .item.colorInvert a.displayTime.startTime:before,.university-arizona .item.colorInvert h1,.university-arizona .item.colorInvert h2,.university-arizona .item.colorInvert h3{color:#fff!important}.university-arizona .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(171,5,32,.6)}.university-arizona .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(171,5,32,.6)}.university-arizona .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(171,5,32,.6)}.university-arizona .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(171,5,32,.3);box-shadow:0 0 8px rgba(171,5,32,.3)}.university-arizona .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Noto Sans;color:#fff;background-color:#ab0520;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.university-arizona .centered .item__title--file,.university-arizona .centered .item__title--link,.university-arizona .centered .item__title--link.title--link-embed,.university-arizona .centerVV .item__title--file,.university-arizona .centerVV .item__title--link,.university-arizona .centerVV .item__title--link.title--link-embed,.university-arizona .cornerH .item__title--file,.university-arizona .cornerH .item__title--link,.university-arizona .cornerH .item__title--link.title--link-embed,.university-arizona .cornerV .item__title--file,.university-arizona .cornerV .item__title--link,.university-arizona .cornerV .item__title--link.title--link-embed,.university-arizona .onecol .item__title--file,.university-arizona .onecol .item__title--link,.university-arizona .onecol .item__title--link.title--link-embed,.university-arizona .pip .item__title--file,.university-arizona .pip .item__title--link,.university-arizona .pip .item__title--link.title--link-embed,.university-arizona .twocol .item__title--file,.university-arizona .twocol .item__title--link,.university-arizona .twocol .item__title--link.title--link-embed{font-family:Noto Sans,sans-serif;font-weight:400;color:#072d5b}.university-arizona .centerVV-mondrian .static-bg__main{border:4px solid #072d5b;background-color:#ab0520}.university-arizona .centerVV-mondrian .altPane{background-color:transparent}.university-arizona .centerVV-mondrian .mainPane .item{background-color:#072d5b}.university-arizona .centerVV-mondrian .mainPane .item__text,.university-arizona .centerVV-mondrian .mainPane .item__text--definition h1,.university-arizona .centerVV-mondrian .mainPane .item__text--definition h2,.university-arizona .centerVV-mondrian .mainPane .item__text--definition h3,.university-arizona .centerVV-mondrian .mainPane .item__text--transmedia h1,.university-arizona .centerVV-mondrian .mainPane .item__text--transmedia h2,.university-arizona .centerVV-mondrian .mainPane .item__text--transmedia h3,.university-arizona .centerVV-mondrian .mainPane .item__title,.university-arizona .centerVV-mondrian .mainPane .item__title a{color:#fff}.university-arizona .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__text,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert h1,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert h2,.university-arizona .centerVV-mondrian .mainPane .item.colorInvert h3{color:#072d5b!important}.university-arizona .centerVV-mondrian .item__title--image,.university-arizona .centerVV-mondrian .item__title--image-thumbnail,.university-arizona .centerVV-mondrian .item__title--image-thumbnail a,.university-arizona .centerVV-mondrian .item__title--image a,.university-arizona .centerVV-mondrian .item__title--link,.university-arizona .centerVV-mondrian .item__title--link a{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b}.university-arizona .centerVV-mondrian .item__link--fake-link{color:#fff}.university-arizona .centerVV-mondrian .item__link--escape-link{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#fff}.university-arizona .centerVV-mondrian .item__link--escape-link:before{color:#ab0520}.university-arizona .centerVV-mondrian .item .displayTime,.university-arizona .centerVV-mondrian .item .startTime{font-family:Noto Sans,sans-serif;font-weight:700;color:#072d5b;color:#fff}.university-arizona .centerVV-mondrian .item .displayTime a,.university-arizona .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},SO4R:function(e,t,i){var n="templates/episode/schoolclimatesolutions.html",a='<div class="episode episode-schoolclimatesolutions" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("jgfq")+' alt="SCS: School Climate Solutions"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},SW7p:function(e,t,i){"use strict";(function(e){function i(t){return{restrict:"E",scope:{src:"@",contenttype:"@",item:"&"},replace:!0,templateUrl:"templates/iframe.html",controller:["$scope","ittUtils","appState",function(e,t,i){function n(e){return t.isValidURL(e)?(a.isLoading=!1,!0):(a.isLoading=!0,!1)}var a=this,o="allow-forms allow-same-origin allow-scripts";a.isLoading=!0,a.isTouchDevice=i.isTouchDevice,a.isTouchDevice&&/inthetelling.com\/#/.test(a.src)&&(a.iOSScroll="no"),a.watcher=e.$watchGroup([function(){return a.src},function(){return a.contenttype}],function(){a.src&&n(a.src)&&(a.contenttype?a.sandbox="text/html"===a.contenttype?o:void 0:(a.sandbox=o,a.src.match(/.pdf$/)&&delete a.sandbox,a.src.match(/inthetelling.com\/#/)&&(a.sandbox+=" allow-top-navigation allow-popups"),a.src.match(/inthetelling.com\/#/)&&a.src.indexOf("?")===-1&&(a.src+="?embed=1"),a.src.match(/amazonaws.com\/itt/i)&&delete a.sandbox))}),e.$on("$destroy",function(){a.watcher()})}],controllerAs:"$ctrl",bindToController:!0,link:function(i,n){var a=95,o=angular.noop,r=e(".w-modal"),s=e(".modal"),l=e(window).height()-220;s.length>0&&t.isTouchDevice&&(i.iframeCtrl.styles={height:l+"px"},n.css("height",l),i.$watch(function(){return n.height()},function(e,t){e!==t&&(i.iframeCtrl.styles={height:e+"px"},n.css("height",l))})),r.length>0?function(){var e=r.height()-a;n.css("height",e),r.css("overflow-y","hidden"),o=i.$watch(function(){return r.height()},function(e,t){if(e!==t){var i=e-a;n.css("height",i)}})}():function(){"discover"!==t.viewMode||"templates/episode/narrasys-pro.html"!==t.playerTemplate&&"templates/episode/career-playbook.html"!==t.playerTemplate||t.isTouchDevice||n.css("height",l)}(),i.$on("$destroy",function(){o()})}}}t.a=i,i.$inject=["appState"]}).call(t,i("7t+N"))},Sbj4:function(e,t,i){"use strict";function n(e,t,i,n){function a(e,t){b[e]=t}function o(e){return function(t){return a(e,t)}}function r(e,t,i){var n="inline"===t.layouts[0];switch(t.layouts.indexOf("videoOverlay")!==-1&&(V(!1),i.position="fill"),e){case"centeredPro":S(!0),C(!0),v.display=[{value:"windowBg",name:_.windowBg,isDisabled:!1},{value:"videoOverlay",name:_.videoOverlay,isDisabled:!1},{value:"mainBg",name:_.textBg,isDisabled:!0},{value:"mainFg",name:_.textFg,isDisabled:!0},{value:"altBg",name:_.transmediaBg,isDisabled:!0},{value:"altFg",name:_.transmediaFg,isDisabled:!0}],n&&(t.layouts=["windowBg"]),t.layouts=t.layouts||["windowBg"],i.position=i.position||"fill";break;case"1col":case"centered":var a=g("admin");S(!0),v.display=[{value:"windowBg",name:_.windowBg,isDisabled:!1},{value:"videoOverlay",name:_.videoOverlay,isDisabled:!1},{value:"mainBg",name:_.textBg,isDisabled:!a},{value:"mainFg",name:_.textFg,isDisabled:!a},{value:"altBg",name:_.transmediaBg,isDisabled:!0},{value:"altFg",name:_.transmediaFg,isDisabled:!0}],n&&(t.layouts=["windowBg"]),i.position=i.position||"fill",t.layouts=t.layouts||["windowBg"];break;case"2colL":case"2colR":case"mirroredTwoCol":S(!0),v.display=[{value:"windowBg",name:_.windowBg,isDisabled:!1},{value:"videoOverlay",name:_.videoOverlay,isDisabled:!1},{value:"mainBg",name:_.textBg,isDisabled:!1},{value:"mainFg",name:_.textFg,isDisabled:!1},{value:"altBg",name:_.transmediaBg,isDisabled:!1},{value:"altFg",name:_.transmediaFg,isDisabled:!1}],n&&(t.layouts=["mainBg"]),i.position=i.position||"fill",t.layouts=t.layouts||["mainBg"];break;case"cornerV":case"centerVV":case"cornerH":S(!0),v.display=[{value:"windowBg",name:_.windowBg,isDisabled:!1},{value:"videoOverlay",name:_.videoOverlay,isDisabled:!1},{value:"mainBg",name:_.textBg,isDisabled:!1},{value:"mainFg",name:_.textFg,isDisabled:!1},{value:"altBg",name:_.transmediaBg,isDisabled:!1},{value:"altFg",name:_.transmediaFg,isDisabled:!1}],n&&(t.layouts=["altBg"]),i.position=i.position||"fill",t.layouts=t.layouts||["altBg"];break;case"pip":S(!0),v.display=[{value:"windowBg",name:_.windowBg,isDisabled:!0},{value:"videoOverlay",name:_.videoOverlay,isDisabled:!1},{value:"mainBg",name:_.textBg,isDisabled:!0},{value:"mainFg",name:_.textFg,isDisabled:!0},{value:"altBg",name:_.transmediaBg,isDisabled:!1},{value:"altFg",name:_.transmediaFg,isDisabled:!1}],n&&(t.layouts=["altBg"]),i.position=i.position||"fill",t.layouts=t.layouts||["altBg"];break;case"centerVVMondrian":v.display=[{value:"windowBg",name:_.windowBg,isDisabled:!0},{value:"videoOverlay",name:_.videoOverlay,isDisabled:!1},{value:"mainBg",name:_.textBg,isDisabled:!1},{value:"mainFg",name:_.textFg,isDisabled:!1},{value:"altBg",name:_.transmediaBg,isDisabled:!0},{value:"altFg",name:_.transmediaFg,isDisabled:!0}],n&&(t.layouts=["mainBg"]),t.layouts=t.layouts||["mainBg"],i.position=i.position||"fill"}i.position&&(t.styles=[i.position])}function s(e){return Object.keys(y).filter(function(t){return y[t]===e.templateUrl})[0]}function l(e){return v[e]}function c(e){return b[e]}function d(e,t){var i={transition:"",highlight:"",color:"",typography:"",timestamp:""},n={position:""};if("item"===t&&(i=angular.extend(n,i)),!f(e))return i;for(var a in i)for(var o=0;o<e.length;o++)e[o].substr(0,a.length)===a&&(i[a]=e[o].substr(a.length));if("episode"===t)return i;for(var r=0;r<e.length;r++)"contain"!==e[r]&&"cover"!==e[r]&&"center"!==e[r]&&"fill"!==e[r]&&"tl"!==e[r]&&"tr"!==e[r]&&"bl"!==e[r]&&"br"!==e[r]||(i.position=e[r]);return i}function m(t){switch(t){case"episode":var a=e.getCustomerIdsFromRoles(),o=function(e,t){if(g("admin"))return"Episode"===t.type&&e.push({url:t.url,name:t.displayName}),e;if("Episode"===t.type&&f(t.customerIds)){(n.intersection(a,t.customerIds).length>0||0===t.customerIds.length)&&e.push({url:t.url,name:t.displayName})}return e},r=function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0};return i.getTemplates().reduce(o,[]).sort(r);case"scene":S(!1),C(!1),T(!0),V(!1);var s=[{url:y.centered,name:"Center 1 (+ V•TS•ANT•TM)"},{url:y.centeredPro,name:"Center 2 (+ V•ANT)"},{url:y["1col"],name:"Center 3 (V•TS•ANT•TM)"},{url:y.cornerV,name:"Split 1 (V•TS•ANT | TM)"},{url:y.mirroredTwoCol,name:"Split 2 (V•TM | TS•ANT)"},{url:y.centerVV,name:"Split 3 (V•ANT | TM)"},{url:y.centerVVMondrian,name:"Split 4 (V•ANT | TM Invert)"},{url:y.cornerH,name:"Split 5 (V•TS•ANT / TM)"},{url:y.pip,name:"Split 6 (TM / V•TS•ANT)"}];return g("admin")&&s.push({url:y["2colL"],name:"OLD Two Columns"},{url:y["2colR"],name:"OLD Two Columns (mirrored)"}),s;case"transcript":return E(!0),T(!0),V(!1),[{url:"templates/item/transcript.html",name:"Transcript"}];case"annotation":return E(!1),I(!1),T(!0),V(!1),[{url:"templates/item/text-h1.html",name:"Header 1"},{url:"templates/item/text-h2.html",name:"Header 2"},{url:"templates/item/pullquote.html",name:"Pullquote"},{url:"templates/item/text-transmedia.html",name:"Long text (as transmedia)"},{url:"templates/item/text-definition.html",name:"Definition (as transmedia)"}];case"link":S(!0),C(!1),k(!0),I(!0),T(!0),V(!1);var l=[{url:"templates/item/link.html",name:"Link"},{url:"templates/item/link-withimage-notitle.html",name:"Link - hide title"},{url:"templates/item/link-modal-thumb.html",name:"Link modal"},{url:"templates/item/link-embed.html",name:"Embedded link"}];return g("admin")&&l.splice(3,0,{url:"templates/item/link-descriptionfirst.html",name:"Link w/ description first"}),l;case"image":k(!0),S(!1),C(!1),I(!0),T(!0),V(!1);return[{url:"templates/item/image-plain.html",name:"Plain Image"},{url:"templates/item/image-inline-withtext.html",name:"Inline Image with text"},{url:"templates/item/image-caption-sliding.html",name:"Image with sliding caption"},{url:"templates/item/image-thumbnail.html",name:"Image thumbnail"},{url:"templates/item/image-fill.html",name:"Background or video overlay"}];case"file":return I(!0),T(!1),V(!1),[{url:"templates/item/file.html",name:"Uploaded File"}];case"question":return S(!0),k(!0),I(!0),T(!0),V(!1),[{url:"templates/item/question-mc.html",name:"Question"}];case"chapter":I(!0)}}function p(e,i){switch(S(!1),e.producerItemType){case"scene":var n="inline"===e.layouts[0];switch(e.templateUrl){case"templates/scene/centered.html":case"templates/scene/centeredPro.html":C(!1),S(!1),e.layouts[0]="",e.layouts[1]=w.a.value;break;case"templates/scene/centerVV.html":case"templates/scene/centerVV-Mondrian.html":S(!1),C(!0),v.video=[{value:"videoLeft",name:"Video on Left"},{value:"videoRight",name:"Video on Right"}],e.layouts[1]=w.a.value,(n||""===e.layouts[0])&&(e.layouts[0]="videoLeft");break;case"templates/scene/cornerV.html":case"templates/scene/cornerH.html":case"templates/scene/pip.html":S(!0),C(!0),v.video=[{value:"videoLeft",name:"Video on Left"},{value:"videoRight",name:"Video on Right"}],v.display=[{value:w.a.value,name:w.a.name},{value:w.b.value,name:w.b.name}],(n||""===e.layouts[0])&&(console.log("we are getting here"),e.layouts[0]="videoLeft",e.layouts[1]=w.a.value);break;case"templates/scene/mirrored-twocol.html":S(!0),C(!0),v.video=[{value:"videoLeft",name:"Video on Left"},{value:"videoRight",name:"Video on Right"}],v.display=[{value:x.a.value,name:x.a.name},{value:x.b.value,name:x.b.name}],(n||""===e.layouts[0])&&(e.layouts[0]="videoLeft",e.layouts[1]=x.b.value);break;case"templates/scene/1col.html":S(!0),C(!1),v.display=[{value:A.a.value,name:A.a.name},{value:A.b.value,name:A.b.name}],e.layouts[0]="",n&&(e.layouts[1]=A.b.value);break;case"templates/scene/2colL.html":case"templates/scene/2colR.html":S(!0),C(!0),v.video=[{value:"",name:"Video Centered"},{value:"videoLeft",name:"Video on Left"},{value:"videoRight",name:"Video on Right"}],v.display=[{value:A.a.value,name:A.a.name},{value:A.b.value,name:A.b.name}],n&&(e.layouts[0]="",e.layouts[1]=A.b.value)}break;case"link":switch(S(!0),k(!0),T(!0),e.stop===!0?(e.layouts[0]="windowFg","templates/item/link-modal-thumb.html"===e.templateUrl&&(e.templateUrl="templates/item/link-embed.html")):e.layouts[0]="inline",e.templateUrl){case"templates/item/link.html":case"templates/item/link-withimage.html":case"templates/item/link-withimage-notitle.html":case"templates/item/link-modal-thumb.html":k(!0);break;case"templates/item/link-descriptionfirst.html":case"templates/item/link-embed.html":k(!1)}break;case"transcript":S(!1),e.layouts[0]="inline";break;case"annotation":switch(e.layouts[0]="inline",e.templateUrl){case"templates/item/text-h1.html":case"templates/item/text-h2.html":E(!1),I(!1);break;case"templates/item/pullquote-noattrib.html":case"templates/item/pullquote.html":E(!0),I(!1);break;case"templates/item/text-transmedia.html":case"templates/item/text-definition.html":E(!1),I(!0)}e.stop===!0&&(e.layouts[0]="windowFg");break;case"question":v.questionType=[{value:"mc-poll",name:"Poll"},{value:"mc-formative",name:"Formative"}],e.layouts[0]="windowFg",e.stop=!0;break;case"image":S(!1);var a=s(t.scene(e.scene_id));switch(e.templateUrl){case"templates/item/image-plain.html":case"templates/item/image-inline-withtext.html":case"templates/item/image-caption-sliding.html":case"templates/item/image-thumbnail.html":i.pin=i.position="",e.layouts[0]="inline";break;case"templates/item/image-fill.html":e.cosmetic=!0,S(!0),V(!0),v.imagePosition=[{value:"fill",name:"Fill and stretch"},{value:"contain",name:"Contain"},{value:"cover",name:"Cover and crop"},{value:"tl",name:"Top Left"},{value:"tr",name:"Top Right"},{value:"bl",name:"Bottom Left"},{value:"br",name:"Bottom Right"}],r(a,e,i)}e.stop===!0&&(e.layouts[0]="windowFg");break;case"file":switch(e.showInlineDetail=!1,e.templateUrl){case"templates/item/link.html":e.showInlineDetail=!0}e.stop===!0&&(e.layouts[0]="windowFg")}}function u(e,t){switch(e){case"scene":switch(t){case"Item":return!1;case"Style":return!0;case"Customize":return g("admin")}break;case"transcript":case"annotation":case"link":case"image":case"file":case"question":switch(t){case"Item":return!0;case"Style":return!1;case"Customize":return g("admin")}break;case"chapter":switch(t){case"Item":return!0;case"Style":case"Customize":return!1}}}var g=e.userHasRole,f=n.existy,h=[{value:"en",name:"English",isDisabled:!1},{value:"es",name:"Spanish",isDisabled:!1},{value:"zh",name:"Chinese",isDisabled:!1},{value:"pt",name:"Portuguese",isDisabled:!1},{value:"fr",name:"French",isDisabled:!1},{value:"de",name:"German",isDisabled:!1},{value:"it",name:"Italian",isDisabled:!1}],v={video:[],display:[],imagePosition:[],imagePin:[],questionType:[],language:h},b={templateSelect:!0,imageUpload:!1,display:!1,videoPosition:!1,bgImagePosition:!1,titleField:!0,speakerField:!0},y={centered:"templates/scene/centered.html",centeredPro:"templates/scene/centeredPro.html","1col":"templates/scene/1col.html","2colL":"templates/scene/2colL.html","2colR":"templates/scene/2colR.html",mirroredTwoCol:"templates/scene/mirrored-twocol.html",cornerV:"templates/scene/cornerV.html",centerVV:"templates/scene/centerVV.html",centerVVMondrian:"templates/scene/centerVV-Mondrian.html",cornerH:"templates/scene/cornerH.html",pip:"templates/scene/pip.html"},_={windowBg:"Full window background",videoOverlay:"Video overlay (16:9)",textBg:"Text pane background",textFg:"Text pane foreground",transmediaBg:"Transmedia pane background",transmediaFg:"Transmedia pane foreground"},w={a:{value:"showCurrent",name:"show only current transmedia items"},b:{value:"",name:"Show all transmedia items, highlight current ones"}},x={a:{value:"showCurrent",name:"Show only current text items"},b:{value:"",name:"Show all text items, highlight current ones"}},A={a:{value:"showCurrent",name:"Show only current items"},b:{value:"",name:"Show all items, highlight current ones"}},k=o("imageUpload"),S=o("display"),C=o("videoPosition"),I=o("titleField"),E=o("speakerField"),T=o("templateSelect"),V=o("bgImagePosition");return{showTab:u,onSelectChange:p,getTemplates:m,getVisibility:c,getSelectOpts:l,setupItemForm:d,getSceneName:s}}t.a=n,n.$inject=["authSvc","modelSvc","dataSvc","ittUtils"]},Sfkd:function(e,t,i){e.exports=i.p+"images/middlebury-footer-bee4def660050be6b9b573e2aa9bbc03.svg"},ShQF:function(e,t,i){e.exports=i.p+"images/rewind-nologo-overlay-ef2bdc42f2492a252ba350b2f0dc70c8.png"},SwK8:function(e,t){var i="templates/item/file.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text item__text--file"> <div class="title item__title item__title--file"> <a role=button tabindex=0 x-ng-keypress=toggleDetailOnKeyPress($event) ng-click=toggleDetailView() ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <div class="item__text item__text--file" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <span ng-switch="item.asset.content_type.indexOf(\'image/\')"> <span ng-switch-when=-1> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.asset.url,$event) ng-click=outgoingLink(item.asset.url) class="escapelink item__link--escape-link">(new window)</a> <itt-iframe x-src={{item.asset.url}} item=item x-contenttype={{item.asset.content_type}}></itt-iframe> </span> <span ng-switch-default> <img ng-src={{item.asset.url}}> </span> </span> </div> <div class=clear></div> </div> ')}]),e.exports=i},Sx3g:function(e,t,i){e.exports=i.p+"images/producer-edit-fg-af765a84a5cdeb1d14cfcbc93cff3a05.png"},TCh5:function(e,t,i){"use strict";function n(e,t,i,n,a,o){return{restrict:"A",replace:!1,link:function(r){r.userHasRole=n.userHasRole,r.appState=a,r.loginForm={auth_key:"",password:""},r.apiDataBaseUrl=i.apiDataBaseUrl,n.authenticate().then(function(){if(o.init(),t.key&&e.search("key",null),t.episode){var i=t.episode;e.search("episode",null),e.search("nonce",null),e.path("/episode/"+i)}else if(t.narrative){var n=t.narrative;if(e.search("narrative",null),e.search("nonce",null),t.timeline){var a=t.timeline;e.search("timeline",null),e.path("/story/"+n+"/"+a)}else e.path("/story/"+n)}else 0===Object.keys(t).length&&e.path("/account")},function(){console.log("Login failed...")}),r.adminLogin=function(){n.adminLogin(r.loginForm.auth_key,r.loginForm.password).then(function(){e.path("/projects")}).catch(function(e){console.warn("FAILED ADMIN LOGIN",e),r.badlogin=!0})},r.logout=function(){n.logout()}}}}t.a=n,n.$inject=["$location","$routeParams","config","authSvc","appState","errorSvc"]},TEP0:function(e,t){var i="templates/item/sxs-file.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate sxs-item"> <a class=edit-event ng-click=editItem() ng-if=item.editableByThisUser>[Edit]</a> <div class=avatar> <img ng-src="{{item.avatar.url || \'/images/no-avatar.gif\'}}"> </div> <div class=itemHead> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <a ng-click=outgoingLink(item.asset.url) ng-bind-html="item.title.en ||\'(Untitled)\'"></a> <div class=text ng-bind-html=item.description.en></div> <div class=clear></div> </div> ')}]),e.exports=i},ThCS:function(e,t,i){"use strict";(function(e){function i(t,i){return{restrict:"A",replace:!0,scope:!0,link:function(n,a){var o=function(t){n.unwatch&&n.unwatch(),n.magnet=e(t),n.unwatch=n.$watch(function(){return{top:n.magnet.offset().top-a.offset().top,left:n.magnet.offset().left-a.offset().left,width:n.magnet.width()-a.width(),winWidth:i.windowWidth,winHeight:i.windowHeight}},r,!0)},r=function(){window.requestAnimationFrame(function(){a.css("position","fixed"===n.magnet.css("position")?"fixed":"absolute");var e=n.magnet.offset().top-a.offset().top,t=n.magnet.offset().left-a.offset().left,i=n.magnet.width()-a.width();Math.abs(e)>1||Math.abs(t)>1?a.offset({top:a.offset().top+e/4,left:a.offset().left+t/4}):a.offset(n.magnet.offset()),Math.abs(i)>4?a.width(Math.ceil(a.width()+i/4)):a.width(Math.ceil(n.magnet.width())),a.height(Math.ceil(n.magnet.width()/(16/9)))})};t.$on("magnet.changeMagnet",function(e,t){o(t)});var s=function(){a.css("position","fixed"===n.magnet.css("position")?"fixed":"absolute"),a.offset(n.magnet.offset()),a.width(Math.ceil(n.magnet.width())),a.height(Math.ceil(n.magnet.width()/(16/9)))};t.$on("magnet.jumpToMagnet",s),n.$on("$destroy",function(){n.unwatch&&n.unwatch()})}}}t.a=i,i.$inject=["$rootScope","appState"]}).call(t,i("7t+N"))},TyVf:function(e,t,i){"use strict";function n(e){return{restrict:"EA",transclude:!0,template:['<itt-tooltip tip-text="{{$ctrl.tipText}}" ng-click="$ctrl.bubbleEvent($event)">',' <a class="icon__button button__clipboard"></a>',"</itt-tooltip>"].join(""),scope:{sourceText:"@",tipText:"@?",onCopy:"&"},controller:[function(){function t(e){i(n.sourceText),n.onCopy({$event:e}),n.tipText="Copied!",a(function(){n.tipText=o},1500)}function i(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.setSelectionRange(0,t.value.length),document.execCommand("copy"),document.body.removeChild(t)}var n=this,a=e.ngTimeout,o=n.tipText||"Click to copy URL";angular.extend(n,{tipText:o,bubbleEvent:t})}],controllerAs:"$ctrl",bindToController:!0}}t.a=n,n.$inject=["ittUtils"]},U5Jr:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".toolbar{font-size:16px;text-align:center;position:fixed;height:85px;margin-bottom:-40px;background-image:url("+i("ewYh")+");background-repeat:repeat-x;background-size:100% 100%;top:0;left:0;right:0;pointer-events:none;display:flex}.toolbar a,.toolbar div{pointer-events:auto}.toolbar .buttongroup{float:left;box-shadow:inset 4px 3px 8px rgba(0,0,0,.1);position:relative;height:1.5em;border-radius:.75em;margin:.3em .5em;background-color:rgba(0,0,0,.1)}.toolbar .nav-item.scene-navs-btns{order:1}.toolbar .nav-item.searchgroup{order:2}.toolbar .nav-item.toolbar-logos{height:40px;flex:2;order:3;margin-top:5px}#toolbar-logo-big{width:140px}#toolbar-logo-small{width:40px}.toolbar .nav-item.new-window-btn{order:5}.toolbar .nav-item.profilegroup{order:4}button{margin:0;padding:0;border:0;background:transparent;font-family:inherit;font-size:1em;cursor:pointer}.toolbar .buttongroup .button span{display:block;position:absolute;top:20px;left:0;right:0;text-align:center;opacity:0;color:#666;font-size:12px}.toolbar .buttongroup:hover .button span{opacity:0!important}.toolbar .buttongroup .button:hover span{opacity:1!important;transition:opacity .3s}.toolbar .buttongroup.modegroup{padding:0 .5em}.toolbar .buttongroup.modegroup .button.cur span{animation:delayedFadeOut 7s ease-out}.toolbar .escapegroup,.toolbar .profilegroup{float:right}.toolbar .searchgroup .hidden{position:absolute;left:0;top:-500px;width:1px;height:1px;overflow:hidden}.button-profile{background:url("+i("fTLP")+");background-size:16px;background-position:50% 50%;background-repeat:no-repeat;width:30px}.toolbar .buttongroup.searchgroup{transition:all 1s;width:2em}@media screen and (max-width:300px){.isFramed .toolbar .buttongroup.searchgroup{display:none}}@media screen and (max-width:421px){.banner-logo{display:none}}@media screen and (max-width:480px){.button-discover{display:none!important}.volumebar{display:none}.speedcontrol{display:none!important}}.toolbar .buttongroup.escapegroup .button span{margin-left:-120px;text-align:right!important;width:150px}.toolbar .buttongroup.searchgroup .button{float:left}.toolbar .buttongroup.searchgroup.cur{padding-top:3px;font-size:20px;width:50%}.toolbar .buttongroup.searchgroup.cur .button span{display:none}#searchtext{background:none;border:none;font-size:1em;margin:0;width:0;transition:all 1s;position:absolute;left:40px;top:2px}#searchtext:focus{outline:0}.cur #searchtext{width:80%}.toolbar .button{padding:0 .5em;cursor:pointer;color:#555}.producerEditLayers,.toolbar .button{line-height:24px;height:24px;display:inline-block}.producerEditLayers{background:url("+i("CxkX")+") top transparent;background-size:contain;width:60px}.producerEditLayers.bg{background-image:url("+i("b611")+")}.producerEditLayers.fg{background-image:url("+i("Sx3g")+')}.modegroup .button{color:#aaa}.modegroup .button.cur{background-color:hsla(0,0%,100%,.6)}.toolbar .button.cur{color:#000;text-shadow:-1px -1px 2px #fff}.toolbar .button:before{font-family:Story;font-size:1em}.button-watch:before{content:"\\E610"}.button-exitEpisode:before{font-family:sans-serif;content:"\\AB";font-size:22px!important;line-height:18px}.button-discover:before{content:"\\E60F"}.button-review:before{content:"\\E611"}.button-search{display:block;width:2em}.button-nav:before{content:"\\E60B";font-size:.8em!important}.button-search:before{content:"\\E609"}.cur .button-search:before{content:"\\E60A"}.button-mainframeescape:before{content:"\\E60E"}.escapelink:before{font-family:Story;content:"\\E60E";padding-right:.5em;font-size:.86em;color:#333}.button-preview{margin-right:.5em}.button-preview:before{content:"\\2714";font-size:18px!important;position:absolute}.colorInvert .escapelink:before{color:#ccc}.autoscroll{position:fixed;right:16px;bottom:156px;width:32px;height:32px;opacity:.7;cursor:pointer;cursor:hand}.toolbar-bottom,.toolbar-bottom-controltrigger{position:fixed;bottom:0;left:0;right:0;min-height:60px;margin-bottom:-3px}.toolbar-bottom{pointer-events:none;padding-top:27px;color:#333;background-image:url('+i("4z8o")+');background-repeat:repeat-x;background-size:100% 30px;background-position:top}.toolbar-bottom-fill{pointer-events:auto;background-color:hsla(0,0%,100%,.9)}.toolbar-bottom.ng-hide-remove{transition:opacity .25s;opacity:0}.toolbar-bottom.ng-hide-remove.ng-hide-remove-active{opacity:1}.toolbar-bottom.ng-hide-add{transition:opacity 3s;opacity:1}.toolbar-bottom.ng-hide-add.ng-hide-add-active{opacity:0}.offscreen{position:absolute!important;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);padding:0!important;border:0!important;height:1px!important;width:1px!important;overflow:hidden;-webkit-transition:all 5s linear;transition:all 5s linear}.visual-hide{opacity:0}.offscreen-animate{transition:opacity 3s;opacity:.3}.modal-backdrop{transition:all 1s linear;opacity:1}.modal-backdrop.ng-hide{opacity:0}.modal-backdrop.ng-hide-add,.modal-backdrop.ng-hide-remove{display:block!important}.searchPanel,.searchPanel-backdrop{top:45px}.searchPanel{bottom:0;right:0;width:40%;background-color:#fff}@media screen and (max-width:421px){.searchPanel{width:90%}}@media screen and (min-width:422px) and (max-width:601px){.searchPanel{width:60%}}.searchPanel .scrollContainer{top:20px;bottom:0;overflow-y:scroll;-webkit-overflow-scrolling:touch;right:-16px;padding:0 24px 80px 8px;left:0;position:absolute}.searchPanel .searchresults{padding:1em}.searchPanel.ng-hide .searchfilters{opacity:0}.searchPanel .searchfilters{opacity:1;animation:delayedFadeIn 4s ease-out;margin-top:.3em;font-size:.86em;text-align:right;padding-right:1em}.searchResults h3{padding:.5em .3em .1em}.searchResults .item{clear:both}.searchResults .searchitem{border-top:1px solid #eee}.searchResults .item.isCurrent{background-color:#eee}.searchResults .searchitem{padding:.2em}.searchResults .item .isSxS{background-position:100% 0;background-repeat:no-repeat;background-size:24px;margin-right:-4px;margin-top:-2px;padding-right:24px}.searchResults .item .displayTime button{cursor:pointer;cursor:hand;float:left;display:inline;width:45px}.searchResults .description{margin-left:45px}.searchResults .type{opacity:.4}.searchResults .sortedbytype .type{display:none}.searchPanel{position:fixed;transition:all 1s;transform-origin:100% 50%;opacity:1;transform:translateX(0)}.searchPanel.ng-hide{opacity:0;transform:translateX(200px)}.searchPanel.ng-hide-add,.searchPanel.ng-hide-remove{display:block!important}.ui-match{border-color:rgba(0,0,0,.2);border-radius:6px;border-style:solid;border-width:1px 1px 3px;box-shadow:0 0 4px rgba(0,0,0,.1);margin:-4px;padding:2px 4px 0;background-color:#rgba 255,255,255,.5}.topDrawer{position:fixed;top:45px;left:0;right:0;background-color:#fff;box-shadow:0 15px 15px rgba(0,0,0,.5)}.navPanel{max-height:300px;transition:all 1s;overflow-y:scroll}.navPanel.ng-hide-add,.navPanel.ng-hide-remove{display:block!important}.navPanel.ng-hide-add{max-height:300px}.navPanel.ng-hide-add-active,.navPanel.ng-hide-remove{max-height:0}.navPanel.ng-hide-remove-active{max-height:300px}@media screen and (max-width:500px){.navPanel{margin:0 .5em}}@media screen and (max-width:300px){.navPanel{font-size:60%}}@media screen and (max-width:600px){.navPanel{padding-bottom:.4em!important}}@media screen and (min-width:301px) and (max-width:500px){.navPanel{font-size:75%}}@media screen and (min-width:700px){.navPanel{margin:0 72px}}.navPanel h2{font-size:120%;font-weight:700;padding-bottom:.5em;padding-left:1em;border-top:none}.navPanel .scene{cursor:pointer;cursor:hand;padding:.3em;border-top:1px solid rgba(0,0,0,.2);padding-left:45px}.navPanel .currentScene{background-color:rgba(0,0,0,.1)}.navPanel .displayTime{width:45px;float:left;text-align:right;padding-right:10px}.navPanel .crossEpisode,.navPanel .parent{font-size:.8em}.navPanel .nextEpisode{float:right}.wileyNag{background-color:#fff;border-radius:15px;box-shadow:3px 3px 10px rgba(0,0,0,.5);font-size:.86em;max-width:220px;padding:5px 10px;position:absolute;right:10px;top:38px;width:60%;z-index:99}.wileyNag .goAway{float:left;color:#069;cursor:pointer;font-size:.7em;padding:5px 0 0 5px}.arrow-up{width:20px;height:20px;background-color:#eee;position:absolute;top:-10px;box-shadow:-5px -3px 3px rgba(0,0,0,.2);z-index:5;transform:rotate(45deg)}.profilePanel .arrow-up{right:-1000px}.isFramed.profilePanel .arrow-up{right:35px}.profilePanel .authoringForm{position:absolute;left:85px;right:0;top:0}input.userEditable{background:transparent;border:1px solid transparent;border-bottom:1px solid #000;padding:2px 5px;margin:2px;font-size:15px!important}input.userEditable:focus{border:1px solid #ccc;background-color:#fff;border-radius:4px}.userHome{text-align:center;display:flex;justify-content:center}.user__item{padding:10px 0}.user__label{color:#999}.avatar{float:right}.avatar,.avatar img{width:60px;height:60px}.button-continue:after{font-family:Story;content:"\\E001";color:#000!important;font-size:3em;float:right}.button-continue{line-height:50px;height:50px;float:right;position:fixed;bottom:80px;right:4em;background-color:#fff;padding:0 1em;z-index:2}.profilePanel{background-color:#eee;border-radius:15px;font-size:.86em;right:2em;padding:15px;position:fixed;width:60%;max-width:500px;min-width:290px;top:55px;box-shadow:3px 3px 10px rgba(0,0,0,.5)}.account__modal{z-index:20;background-color:#f1f1f1;box-shadow:0 0 5px 3px rgba(0,0,0,.5);padding:10px;width:40%;border-radius:5px;position:absolute;top:48px;left:30%}@media screen and (min-width:320px) and (max-width:768px){.account__modal{width:80%;left:10%}}.account__modal .button{background-color:#595a5a;color:#fff;border-radius:.6em;font-size:.8em;padding:.1em .8em;margin:.2em;border:0;cursor:pointer}.account__modal .button:hover{background-color:#dc6026;color:#fff}.banner-logo{visibility:hidden}',""])},UCel:function(e,t,i){"use strict";function n(){}t.a=n},UJLu:function(e,t){var i="templates/containerepisodes.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <span> <li ng-if=!container.episodes.length class=container ng-class="{isOpen: container.wasClicked, isClosed: !container.wasClicked}" ng-click=toggle();loadChildren() ng-bind-html=container.display_name></li> <li ng-if=container.episodes.length> <span class=hoverIndicator> <a ng-click="onNodeClick({node: container.episodes[0]})" ng-bind-html=containers[container._id].display_name></a> ({{container.status}}) </span> </li> <ul class=crossEpisodeNav ng-class="{isOpen: container.wasClicked, isClosed: !container.wasClicked}" ng-if=container.wasClicked> <li ng-repeat="child in container.children" on-node-click=rootContext(node) root-context=rootContext itt-container-episodes=containers[child._id] x-for-admin=true></li> </ul> </span> ')}]),e.exports=i},UNjH:function(e,t,i){var n="templates/episode/career-playbook.html",a='<div class="episode professional career-playbook" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class=professional__branding> <div class=branding--content> <nys-copyright class=professional__copyright></nys-copyright> <img class=professional__logo src='+i("QJZl")+" /> </div> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},UPiC:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Transition</div>','\t<div class="input">','\t\t<select size="1" ng-model="itemForm.transition">','\t\t\t<option ng-if="episode" value="">(Default)</option>','\t\t\t<option ng-if="item._type === \'Scene\'" value="">(Inherit from episode)</option>','\t\t\t<option ng-if="item._type !== \'Scene\' && !episode" value="">(Inherit from layout)</option>','\t\t\t<option value="None">No transition</option>','\t\t\t<option value="Fade">Fade</option>','\t\t\t<option value="SlideL">Slide left</option>','\t\t\t<option value="SlideR">Slide right</option>','\t\t\t<option value="Pop">Pop</option>',"\t\t</select>","\t</div>","</div>"].join(" ")}}t.a=n},"UW+C":function(e,t){var i="templates/item/transcript-withthumbnail.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate transcript"> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> </div> <div class=icon style=float:left;margin-right:.5em> <img ng-if=item.asset.url ng-src={{item.asset.url}}> <div class=clear></div> </div> <div class="authorName item__title" ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> <div class="text item__text" ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> <div class=clear></div> </div> ')}]),e.exports=i},V8p6:function(e,t){var i="templates/producer/addcontent.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div ng-show="!appState.editEvent && !appState.editEpisode" class=controlPanel ng-class="{\n\tisProducer: appState.product == \'producer\',\n\tisSxS: appState.product == \'sxs\'\n}"> <div ng-if="appState.product == \'producer\'" class=editButtonPanel> <a class="button button-episode" ng-click=editEpisode()>Edit episode</a> <a class="button button-scene" ng-if="playbackService.getMetaProp(\'time\') > 0  && playbackService.getMetaProp(\'time\') < (playbackService.getMetaProp(\'duration\') - 0.1) && appState.viewMode == \'discover\'" ng-click=editCurrentScene()>Edit Layout</a> </div> <div class="producer addButtonPanel" ng-show="!item && playbackService.getMetaProp(\'time\') > 0 && playbackService.getMetaProp(\'time\') < (playbackService.getMetaProp(\'duration\') - 0.1) "> <span ng-if=expanded style="padding:0 1em" class="animate transitionExpandW"> <span ng-if="appState.product == \'sxs\'"> <a class="button button-comment" ng-click="addEvent(\'annotation\')">Comment</a> <a class="button button-link" ng-click="addEvent(\'link\')">Link</a> <a class="button button-question" ng-click="addEvent(\'question\')">Question</a> <a class="button button-image" ng-click="addEvent(\'image\')">Image</a> <a class="button button-file" ng-click="addEvent(\'file\')">File</a> <a class="button button-video" ng-click="addEvent(\'video\')">Video</a> </span> <span ng-if="appState.product == \'producer\'"> <a class="button button-scene" ng-click="addEvent(\'scene\')">Layout</a> <a class="button button-comment" ng-click="addEvent(\'transcript\')">Transcript</a> <a class="button button-comment" ng-click="addEvent(\'annotation\')">Annotation</a> <a class="button button-link" ng-click="addEvent(\'link\')">Link</a> <a class="button button-image" ng-click="addEvent(\'image\')">Image</a> <a class="button button-file" ng-click="addEvent(\'file\')" ng-if="userHasRole(\'admin\') || userHasRole(\'customer admin\')">File</a> <a class="button button-question" ng-click="addEvent(\'question\')">Question</a> <a class="button button-chapter" ng-click="addEvent(\'chapter\')">Chapter</a> </span> </span> <span ng-if=!expanded> <a class="button button-add" ng-click=expand()>Add</a> </span> </div> </div> ')}]),e.exports=i},VMyg:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".angular-ui-tree-empty{border:1px dashed #bbb;min-height:100px;background-color:#e5e5e5;background-image:-webkit-linear-gradient(45deg,#fff 25%,transparent 0,transparent 75%,#fff 0,#fff),-webkit-linear-gradient(45deg,#fff 25%,transparent 0,transparent 75%,#fff 0,#fff);background-image:-moz-linear-gradient(45deg,#fff 25%,transparent 25%,transparent 75%,#fff 75%,#fff),-moz-linear-gradient(45deg,#fff 25%,transparent 25%,transparent 75%,#fff 75%,#fff);background-image:linear-gradient(45deg,#fff 25%,transparent 0,transparent 75%,#fff 0,#fff),linear-gradient(45deg,#fff 25%,transparent 0,transparent 75%,#fff 0,#fff);background-size:60px 60px;background-position:0 0,30px 30px;pointer-events:none}.angular-ui-tree-nodes{position:relative;margin:0;padding:0;list-style:none}.angular-ui-tree-nodes .angular-ui-tree-nodes{padding-left:20px}.angular-ui-tree-node,.angular-ui-tree-placeholder{position:relative;margin:0;padding:0;min-height:20px;line-height:20px}.angular-ui-tree-hidden{display:none}.angular-ui-tree-placeholder{border:2px dashed #c44343;margin:5px 0;padding:0;min-height:30px}.angular-ui-tree-handle{cursor:pointer;text-decoration:none;font-weight:700;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;min-height:20px;line-height:20px}.angular-ui-tree-drag{position:absolute;pointer-events:none;z-index:999;opacity:.8}",""])},VUBB:function(e,t){var i="templates/user.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=userHome> <div class=user__info> <div class=user__item> <div class=user__label>Role</div> <h4>{{user.role_description}}</h4> <hr> </div> <div clas=user__item> <div class=user__label>Name</div> <itt-edit-pencil can-access=true on-edit=toggleEditing() ng-if=!isEditing> <p>{{user.name}}</p> </itt-edit-pencil> <div ng-if=isEditing> <input class=userEditable ng-model=user.name> <button class=button ng-click=\"updateUser(); toggleEditing()\">save</button> <button class=button ng-click=toggleEditing()>cancel</button> </div> <hr> </div> <div class=user__item ng-if=!isTrueGuest()> <div class=user__label>Email</div> <div>{{user.email}}</div> <hr> </div> <div class=user__item ng-if=!isTrueGuest()> <div class=user__avatar> <div class=user__label>Avatar</div> <div> <img ng-src=\"{{appState.user.avatar || '/images/no-avatar.gif'}}\"> </div> <div ng-if=\"showUploadField && !uploads\"> <input type=file accept=image/* itt-files-handler on-selected=uploadAvatar(files)> </div> <button class=button ng-click=toggleUploadAvatar()>{{showUploadField ? 'cancel' : 'replace'}}</button> </div> </div> </div> </div> ")}]),e.exports=i},"WM/Z":function(e,t,i){var n=i("BIS7");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},WeeJ:function(e,t,i){e.exports=i.p+"images/autoscroll-417c83d1f0b2eb6bceb7e048e66ede9d.svg"},WgQw:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",langForm:"=?"},template:['<div class="field">','\t<div class="label">Default Language</div>','\t<div class="input">','\t\t<select ng-model="$ctrl.data.defaultLanguage" ng-options="{{$ctrl.setNgOpts()}}" itt-options-disabled="option.isDisabled for option in $ctrl.langOpts"></select>',"\t</div>","</div>"].join("\n"),controller:["$scope","selectService",function(e,t){function i(){return"option.value as option.name for option in $ctrl.langOpts"}function n(){return o.langForm}function a(e){o.langOpts=o.langOpts.map(function(t){return angular.forEach(e,function(e,i){t.value===i&&(t.isDisabled=!e)}),t})}var o=this;o.getSelectOpts=t.getSelectOpts,o.setNgOpts=i,o.langOpts=t.getSelectOpts("language"),e.$watch(n,a,!0)}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},X1F8:function(e,t,i){"use strict";function n(e,t,i,n){function a(e){var t=s(e).type;if(t.length>0)return m[t].parseInput(e)}function o(e){return Object.keys(m).reduce(function(t,i){var n=m[i].parseMediaSrc(e);return n.mediaSrcArr.length>0&&t.push(n),t},[])}function r(e){return s(e).type.length>0}function s(e){return Object.keys(m).reduce(function(t,i){return m[i].canPlay(e)&&(t.type=i,t.mimeType=m[i].getMimeType(e)),t},{type:"",mimeType:""})}function l(e,t){var i=s(e).type;if(i.length>0)return m[i].getOutgoingUrl(e,t)}function c(t){var a={youtube:[],mp4:[],webm:[],m3u8:[],kaltura:[]};if(t.alternate_urls){for(var o=0;o<t.alternate_urls.length;o++)t.alternate_urls[o].match(/youtube/)?e.embeddableYoutubeUrl(t.alternate_urls[o])&&a.youtube.push(e.embeddableYoutubeUrl(t.alternate_urls[o])):a[t.alternate_urls[o].match(/\.(\w+)$/)[1]].push(t.alternate_urls[o]);t.you_tube_url&&e.embeddableYoutubeUrl(t.you_tube_url)&&a.youtube.push(e.embeddableYoutubeUrl(t.you_tube_url));angular.forEach(Object.keys(a),function(e){a[e]=a[e].sort(function(e,t){var i=e.match(/(\d+)x(\d+)\.\w+$/)||[0,0],n=t.match(/(\d+)x(\d+)\.\w+$/)||[0,0];return i[1]-n[1]})})}if(0===a.youtube.length&&(t.url&&e.embeddableYoutubeUrl(t.url)&&(a.youtube=[e.embeddableYoutubeUrl(t.url)]),t.you_tube_url&&e.embeddableYoutubeUrl(t.you_tube_url)&&(a.youtube=[e.embeddableYoutubeUrl(t.you_tube_url)])),t.alternate_urls||angular.forEach(["mp4","webm","m3u8"],function(e){0!==a[e].length||t.url.match(/youtube/)||a[e].push(t.url.replace("mp4",e))}),n.youtube.disabled&&delete a.youtube,/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)||delete a.m3u8,/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)){var r,s="t="+(new Date).getTime();angular.forEach(["mp4","webm"],function(e){if(a[e].length>0)for(var t=0;t<a[e].length;t++)r=a[e][t].match(/\?/)?"&":"?",a[e][t]=a[e][t]+r+s})}return i.canPlay(t.url)&&a.kaltura.push(t.url),t.urls=a,t.mediaSrcArr=d(a),t}function d(e){return Object.keys(e).reduce(function(t,i){return t=t.concat(e[i])},[])}var m={youtube:e,html5:t,kaltura:i};return{parseMediaSrcArr:o,checkUrl:s,getOutgoingUrl:l,parseInput:a,isVideoUrl:r,resolveVideo:c}}t.a=n,n.$inject=["youtubeUrlService","html5UrlService","kalturaUrlService","config"]},X9vo:function(e,t){var i="templates/producer/inputtime.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<span class=floaterContainer> <input class=inputfield ng-model=model name=time ng-focus=showTools(true) ng-blur=showTools(false) ng-model-options=\"{ updateOn: 'blur' }\" style=max-width:150px ng-class=\"{invalid: (fieldname == 'end_time' && item.invalid_end_time)}\"> <div class=floater ng-if=tooltip> <ul style=list-style:none;white-space:nowrap> <li style=text-align:center;font-size:150%> <a ng-click=nudge(-5)>«</a> <a ng-click=nudge(-1)>‹</a> <span> &nbsp;&nbsp; </span> <a ng-click=nudge(1)>›</a> <a ng-click=nudge(5)>»</a> </li> <li ng-click=\"setTime(playbackService.getMetaProp('time'))\"> <a>Set to current time ({{::format(playbackService.getMetaProp('time'))}})</a> </li> <span ng-if=\"item._type != 'Scene' && scene().start_time > 0\"> <li ng-if=\"fieldname=='start_time'\" ng-click=setTime(scene().start_time)> <a>Beginning of layout ({{format(scene().start_time)}})</a> </li> <li ng-if=\"fieldname=='end_time'\" ng-click=setTime(scene().end_time)> <a>End of layout ({{format(scene().end_time)}})</a> </li> <li ng-if=\"fieldname=='end_time' && isTranscript()\" ng-click=TODO> <a>Auto (TODO)</a> </li> </span> </ul> </div> </span> ")}]),e.exports=i},XOLC:function(e,t){var i="templates/item/review-all.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," <span ng-switch=\"(item._type == 'Annotation' && item.templateUrl != 'templates/item/text-transmedia.html' && item.templateUrl != 'templates/item/text-definition.html')\"> <span ng-switch-when=true> <div ng-include=\"'templates/item/review-annotation.html'\"></div> </span> <span ng-switch-default> <div ng-include=\"'templates/item/review-transmedia.html'\"></div> </span> </span> ")}]),e.exports=i},XP8H:function(e,t){var i="templates/video.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div class=np-video ng-if="$ctrl.mediaSrcArr.length > 0" ng-class="{\'np--embed\': $ctrl.mainPlayer === false}"> <div class=np-video__overlay-ui ng-if=$ctrl.showMask() ng-class=$ctrl.setCssClass() ng-click=$ctrl.videoClick()> </div> <div class=np-video__wrapper> <div class=np-video__element ng-bind-html=::$ctrl.playerElement></div> </div> <div class="poster overlay fill" ng-if="$ctrl.poster && $ctrl.playbackService.getMetaProp(\'time\') === 0" ng-style="{backgroundImage:\'url(\'+$ctrl.poster.url+\')\'}"> </div> </div> <div ng-if="$ctrl.mediaSrcArr.length < 1" class=np-video__empty> <div ng-if="$ctrl.isTranscoded === false"> <h3>Video is currently transcoding.</h3> <p>The page will refresh when the transcode is complete!</p> </div> <h1 ng-if="$ctrl.isTranscoded === true"> No video source available... </h1> </div> ')}]),e.exports=i},XTrX:function(e,t,i){e.exports=i.p+"images/prolotherapy-image-f2c26cfdebbe30387059332f9de63117.png"},XUxW:function(e,t,i){"use strict";function n(){return{restrict:"EA",transclude:!0,scope:{tipText:"@",css:"@?"},template:['<span class="ittTooltip">',"\t<ng-transclude></ng-transclude>",'\t<span ng-if="showTip" class="{{css ? css : \'ittTooltip__text\'}}" style="text-indent: 0;">{{tipText}}</span>',"</span>"].join(""),link:function(e,t){function i(){e.$apply(function(){e.showTip=!0})}function n(){e.$apply(function(){e.showTip=!1})}t.mouseenter(i),t.mouseleave(n)}}}t.a=n},XWPa:function(e,t,i){e.exports=i.p+"images/cbs-logo-385e00440a2848c132576810aa039b68.svg"},Xnpf:function(e,t,i){e.exports=i.p+"images/quote-white-fc8a700ca4a8750c17c36254529a2d68.svg"},"Y+RF":function(e,t){var i="templates/item/text-h1.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate headerItem"> <div class=category></div> <div class="item__text item__text--h1"> <h1 ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></h1> </div> </div> ')}]),e.exports=i},YALA:function(e,t){var i="templates/item/question-mc.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text item__text--question-mc"> <div class="title item__title item__title--question-mc" ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div ng-if=item.asset.url class=touchable style=float:right;max-width:50%;padding-right:.5em> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <itt-mc-question show-chart="item.data._plugin.questiontype == \'mc-poll\'" choices=item.data._plugin.distractors on-choice=save data=item.data._plugin qid=item._id></itt-mc-question> <div class=clear></div> </div> </div> ')}]),e.exports=i},YXNl:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:!0,template:['<div class="field" ng-if="selectService.getVisibility(\'videoPosition\')">','\t<div class="label">Video Postion</div>','\t<div class="input">','\t\t<select ng-model="item.layouts[0]" ng-options="option.value as option.name for option in selectService.getSelectOpts(\'video\')"></select>',"\t</div>","</div>"].join(" ")}}t.a=n},YhLU:function(e,t,i){e.exports=i.p+"images/eliterate-bg-dcf42c53f79542cbe9f5ad35e02be5ac.svg"},Youv:function(e,t){var i="templates/item/image-plain.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class=touchable> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <div class=clear></div> </div> ')}]),e.exports=i},Ypjs:function(e,t,i){var n="templates/scene/centerVV-mondrial.backup.html",a=' <div class="scene centerVV-mondrian" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=col> <div class="pane altPane stretchToViewport"> <div class="fill bgLayer bg-alt"> <div class="item animate" ng-repeat="item in altBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate mondrian" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in altFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> <div class=col> <div class="fill bgLayer bg-main"> <div ng-if="currentMainBgItems.length > 0" class="item animate" ng-repeat="item in currentMainBgItems = (mainBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div ng-if="currentMainBgItems.length === 0"> <div class=static-bg__main--mondrian></div> </div> </div> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane"> <div class="content contentLayer stretchToViewport" ng-class="{isNarrow: isNarrow, isEmpty: mainContentItems.length == 0}" itt-width-watch> <div class="item animate" ng-repeat="item in mainItems = (mainContentItems | isCurrent | filter:byPullquoteOrH2 )" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},YszC:function(e,t,i){"use strict";function n(e){var t={};return t.init=function(){t.errors=[],t.notifications=[]},t.init(),t.error=function(i,n){!i||401!==i.status&&403!==i.status||(console.warn(i.status," detected"),"/"===e.path()&&(i=void 0)),i&&i.data?"string"==typeof i.data?(i.data=i.data.replace(/\n/g,"").replace(/==/g,"").replace(/-----.*/g,""),t.errors.push({exception:i})):t.errors.push({exception:i}):console.warn("ErrorSvc caught error: ",i,n)},t.notify=function(e){t.notifications.push({text:e})},t}t.a=n,n.$inject=["$location"]},YxFl:function(e,t,i){var n="templates/scene/centerVV-Mondrian.html",a=' <div class="scene centerVV-mondrian" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=col> <div class=static-bg__alt ng-style="setBgImgUrl(scene.items, \'mainCol\')"></div> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane altPane stretchToViewport"> <div class="content contentLayer stretchToViewport" ng-class="{singleitem: mainContentItems.length==1, isNarrow: isNarrow, isEmpty: mainContentItems.length == 0}" itt-width-watch> <div class="item animate centerVV-h2" ng-repeat="item in mainItems = (mainContentItems | isCurrent | filter:byPullquoteOrH2)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> </div> </div> <div class=col> <div class=static-bg__main ng-style="setBgImgUrl(scene.items, \'altCol\')"></div> <div class="pane mainPane"> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},Z9ij:function(e,t,i){e.exports=i.p+"images/highlighter-5b5d62fb7cd31bd0ea941284ece92724.png"},ZcPu:function(e,t,i){function n(e){return i(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./auth.html":"JtGx","./container.html":"w5Vi","./containerepisodes.html":"UJLu","./copyright.html":"HyaP","./episode/career-playbook.html":"UNjH","./episode/columbia.html":"9vsO","./episode/columbiabusiness.html":"wAkt","./episode/components/discovermode.html":"ElzS","./episode/components/reviewmode-scenes.html":"ms3E","./episode/components/reviewmode.html":"R1VI","./episode/components/video.html":"crAB","./episode/components/watchmode.html":"tOyj","./episode/components/windowfg.html":"Opc2","./episode/eliterate.html":"AjZW","./episode/episode.html":"4JKO","./episode/ewb.html":"vhlq","./episode/fieldpros.html":"yRIp","./episode/george-washington.html":"wM7k","./episode/gw.html":"81AW","./episode/gwlaw.html":"uaSq","./episode/gwsb.html":"Fttn","./episode/kellogg.html":"px/Z","./episode/middlebury.html":"GmGj","./episode/narrasys-pro.html":"pMX5","./episode/prolotherapy.html":"QfUj","./episode/purdue.html":"g7L3","./episode/regis.html":"7Kem","./episode/schoolclimatesolutions.html":"SO4R","./episode/story.html":"xs09","./episode/university-arizona.html":"6+VC","./episode/usc.html":"IsZR","./episode/washingtonSBCTC.html":"2n3E","./episode/wiley1.html":"QnA9","./episode/wiley2.html":"f0pS","./episode/wiley3.html":"yulP","./error-404.html":"eSLu","./error.html":"GUWn","./iframe.html":"iEyP","./item/caption.html":"2/3b","./item/debug.html":"GGxq","./item/file-withimage.html":"FFkw","./item/file.html":"SwK8","./item/image-caption-sliding.html":"OCYu","./item/image-caption.html":"rdiM","./item/image-fill.html":"O4Bc","./item/image-inline-withtext.html":"asq8","./item/image-inline.html":"8fXl","./item/image-linkonly.html":"qpRi","./item/image-plain.html":"Youv","./item/image-thumbnail.html":"7XCA","./item/image.html":"CVkk","./item/link-descriptionfirst.html":"IL3w","./item/link-embed.html":"Jetm","./item/link-modal-thumb.html":"JnVu","./item/link-withimage-notitle.html":"un+J","./item/link-withimage.html":"I0L0","./item/link.html":"zuiT","./item/modal.html":"+o/S","./item/pullquote-noattrib.html":"wXer","./item/pullquote.html":"84qX","./item/question-mc-image-left.html":"6fZU","./item/question-mc-image-right.html":"L3Dy","./item/question-mc-inner.html":"0ePo","./item/question-mc.html":"YALA","./item/review-all.html":"XOLC","./item/review-annotation.html":"G4Wk","./item/review-transmedia.html":"phYv","./item/review-windowfg.html":"eQIm","./item/searchresults-all.html":"55GB","./item/searchresults.html":"JkHQ","./item/sxs-annotation.html":"2+b9","./item/sxs-file.html":"TEP0","./item/sxs-image.html":"vxq4","./item/sxs-link.html":"KP/u","./item/sxs-question.html":"gr72","./item/sxs-video.html":"q06B","./item/text-definition.html":"AZay","./item/text-h1.html":"Y+RF","./item/text-h2.html":"kvzn","./item/text-transmedia.html":"3gcz","./item/transcript-withthumbnail.html":"UW+C","./item/transcript.html":"7GUz","./item/usc-badges-inner.html":"nd4G","./item/usc-badges.html":"dt7p","./loading.html":"m47d","./narrative/default.html":"6ze8","./narrativelist.html":"4bbU","./navpanel.html":"Of5n","./player-timeline.html":"x+pf","./player.html":"p3P+","./producer/addcontent.html":"V8p6","./producer/annotator-autocomplete.html":"EDO7","./producer/asset-uploader.html":"emMF","./producer/container-assets.html":"rLXe","./producer/episode.html":"cBzx","./producer/episodelist.html":"5iOH","./producer/inputi18n.html":"LSM6","./producer/inputtime.html":"X9vo","./producer/item.html":"p2SB","./producer/item/producer-annotation.html":"rSRG","./producer/item/producer-chapter.html":"enrJ","./producer/item/producer-file.html":"+ViR","./producer/item/producer-image.html":"K8cx","./producer/item/producer-link.html":"DJEM","./producer/item/producer-question.html":"GqFw","./producer/item/producer-scene.html":"QIbj","./producer/item/producer-transcript.html":"dw4R","./producer/item/producer-video.html":"QgsF","./producer/item/sxs-annotation.html":"N29+","./producer/item/sxs-file.html":"cWz7","./producer/item/sxs-image.html":"RMtA","./producer/item/sxs-link.html":"rGHM","./producer/item/sxs-question.html":"NnMI","./producer/item/sxs-video.html":"K96E","./producer/questionauthoring.html":"AiEB","./producer/upload-masterasset.html":"AeV0","./producer/upload-poster.html":"gJY5","./producer/upload-producer.html":"GeQP","./producer/upload-sxs.html":"fJsy","./root.html":"CQGL","./scene/1col.html":"rfeV","./scene/2colL.html":"2qXd","./scene/2colR.html":"iutC","./scene/centerVV-Mondrian.html":"YxFl","./scene/centerVV-mondrial.backup.html":"Ypjs","./scene/centerVV.html":"cm1R","./scene/centered.html":"mbIM","./scene/centeredPro.html":"qZRx","./scene/cornerH.html":"GoGc","./scene/cornerV.html":"JTcP","./scene/debug.html":"mNIM","./scene/endingscreen.html":"liE5","./scene/landingscreen.html":"D/IP","./scene/mirrored-twocol.html":"F5VT","./scene/pip.html":"uFtN","./searchpanel.html":"sGzq","./testbed-event.html":"888c","./timeline-story.html":"9ij1","./toolbar-story.html":"1Wv5","./user.html":"VUBB","./video.html":"XP8H"};n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id="ZcPu"},Zepx:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r){return{restrict:"A",replace:!1,scope:{container:"=ittContainer",depth:"=depth",onContainerClick:"&",onContainerAdd:"&",clickRootContext:"=",addRootContext:"="},templateUrl:"templates/container.html",controller:["$scope","$location","modelSvc","authSvc","dataSvc",function(e,t,i,n,a){function o(){e.showNarrativeModal=!e.showNarrativeModal}function r(n){e.resolvingNarrative=!0,a.generateNewNarrative(n.c,n.n).then(function(n){n.subDomain=i.customers[n.customer_id].domains[0],i.cache("narrative",n),t.path("/story/"+n._id),e.resolvingNarrative=!1})}e.toggleNarrativeModal=o,e.postNewNarrative=r,e.showNarrativeModal=!1,e.resolvingNarrative=!1,e.isAdmin=n.userHasRole("admin"),e.canAccess=e.isAdmin||n.userHasRole("customer admin"),e.getLinkStatusReport=a.getCustomerLinkStatusReportSpreadsheet,e.customers=i.getCustomersAsArray()}],compile:function(s){return a.compile(s,function(a){a.appState=i,a.containers=n.containers,a.customer=n.customers[a.container.customer_id],a.isDemoServer=t.host().match(/demo|localhost|api-dev|client.dev/),a.selectText=function(e){e.target.select()},a.containerTypes=["customer","project","module","episode"],a.onToggleChildren=function(e){a.onContainerClick({$container:{container:a.container,bool:e}})},a.renameContainer=function(){console.log("CHanging container name from ",a.container.name.en," to ",a.container.newContainerName),console.log(a.container);var e={};angular.forEach(["_id","customer_id","episodes","keywords","parent_id","sort_order"],function(t){e[t]=angular.copy(a.container[t])}),e.name={en:a.container.newContainerName},o.updateContainer(e).then(function(){a.container.editingContainer=!1})},a.addContainer=function(e){var t={customer_id:a.container.customer_id,parent_id:a.container._id,name:{en:angular.copy(a.container.newContainerTitle)}};o.createContainer(t).then(function(t){if(console.log("Created container:",t),2===a.depth){var i={container_id:t._id,title:angular.copy(t.name)};o.getCommon().then(function(){o.createEpisode(i).then(function(e){console.log("Created episode: ",e);var t={_type:"Scene",title:{},description:{},templateUrl:"templates/scene/1col.html",start_time:0,end_time:0,episode_id:e._id};o.storeItem(t)}).then(function(){a.onContainerAdd({$container:e})})})}else a.onContainerAdd({$container:e})}),a.container.newContainerTitle="",a.container.addingContainer=!1,r.existy(e.showChildren)&&e.showChildren!==!1||a.onToggleChildren(!1)},a.deleteEpisodeAndContainer=function(t){var i=n.containers[t],a=i.parent_id?i.parent_id:i.ancestry.replace(/.*\//,""),r=n.containers[a],s=[];angular.forEach(r.children,function(e){e._id!==t&&s.push(e)}),r.children=s,i.episodes.length?o.deleteEpisode(i.episodes[0]).then(function(){e(function(){o.deleteContainer(i._id)},250)}):o.deleteContainer(i._id)}})}}}t.a=n,n.$inject=["$timeout","$location","appState","modelSvc","recursionHelper","dataSvc","ittUtils"]},aTNE:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".altPane{background-color:rgba(0,0,0,.05)}.fakeLink,a,a:visited{color:#00c;cursor:pointer;cursor:hand}a.startTime.displayTime{color:#000}.nav__button{color:#595a5a!important}.nav__button:hover{text-decoration:underline!important}.colorInvert{color:#ddd;background-color:#000}.colorInvert a,.colorInvert a.startTime.displayTime{color:#fff}.colorInvert .pullquote:before{color:hsla(0,0%,100%,.35)}.colorSepia{color:#4b4235!important}.episode.colorSepia,.scene.colorSepia{background-color:#efe0c8}.colorSepia a{color:#b7521e}.colorInvert .colorSepia,.colorSepia .colorInvert{color:#efe0c8}.colorSolarized{color:#586e75!important}.episode.colorSolarized,.scene.colorSolarized{background-color:#efe0c8}.colorSolarized a{color:#288cd2}.colorInvert .colorSolarized,.colorSolarized .colorInvert{color:#efe0c8}.colorVivid{color:#595959!important}.episode.colorVivid,.scene.colorVivid{background-color:hsla(92,50%,88%,.5)}.colorVivid a{color:#ff9209}.colorVivid .altPane a{color:#f30}.colorEliterate .startTime{background-color:rgba(0,0,0,.05);border-radius:3px;padding:3px}.colorEliterate{color:#6f7d8b}.colorEliterate .fakeLink,.colorEliterate a{color:#1376bb}.colorEliterate h1,.colorEliterate h2,.colorEliterate h3{font-weight:400;color:#384d62}.colorEliterate .colorInvert{color:#fff;background-color:#6f7d8b}.colorEliterate .colorInvert h1,.colorEliterate .colorInvert h2,.colorEliterate .colorInvert h3{color:#fff}.colorGw .item a,.colorGw.navPanel a,.colorGw h1,.colorGw h2,.colorGw h3,.colorGw h4,.colorGw h5{color:#003a5c}.colorGw .colorInvert{background-color:#003a5c}.colorGw .colorInvert *{color:#fff}.colorGw .item .pullquote:before{color:rgba(0,58,92,.5)}.colorGw .colorInvert.item .pullquote:before{color:hsla(0,0%,100%,.4)}.colorGw .escapelink:before{color:#ab9767}.colorGw .content.allowHighlights .item.isCurrent.highlightSolid,.colorGw .reviewMode .content.allowHighlights .item.isCurrent{background-color:hsla(42,29%,54%,.3)}.colorGw .altPane{background-color:rgba(0,58,92,.05)}.colorUsc a,.colorUsc a:visited{color:#900;font-weight:700}.episode.colorUsc{background-color:#f7f9ed}.colorUsc .altPane{background-color:#fff}.colorUsc .colorInvert{background-color:#900;color:#fc0;text-shadow:1px 1px 1px rgba(0,0,0,.3)}.colorUsc .footer{background-color:#900}.colorPurdue a,.colorPurdue a:visited{font-weight:700}.colorPurdue .footer{background-color:#a3792c}.colorPurdue .footer a,.colorPurdue .footer a:visited{color:#fff;text-shadow:none}.colorPurdue .altPane{background-color:#fafafa;border-left:1px solid #746c66;border-right:1px solid #746c66}.colorPurdue .headerItem,.colorPurdue h1,.colorPurdue h2,.colorPurdue h3,.colorPurdue h4{color:#a3792c}.colorPurdue .colorInvert,.colorPurdue .colorInvert .headerItem,.colorPurdue .colorInvert h1,.colorPurdue .colorInvert h2,.colorPurdue .colorInvert h3,.colorPurdue .colorInvert h4{background-color:#a3792c!important;color:#fff!important}.colorPurdue a,.colorPurdue a:visited{color:#e3ae24;text-shadow:-1px -1px 0 #fff}.colorColumbia .startTime{border-radius:3px;padding:3px;margin-left:3px}.colorColumbia .fakeLink,.colorColumbia a{color:#0f4082}.colorColumbia h1,.colorColumbia h2,.colorColumbia h3{font-weight:400;color:#5892c1}.colorColumbia .colorInvert{color:#fff;background-color:#0f4082}.colorColumbia .colorInvert h1,.colorColumbia .colorInvert h2,.colorColumbia .colorInvert h3{color:#5892c1}.colorColumbiabusiness .fakeLink,.colorColumbiabusiness a{color:#205f9c}.colorColumbiabusiness .colorInvert{color:#fff;background-color:#0f4082}.colorColumbiabusiness .category span{color:#fff;font-weight:400!important;background-color:#205f9c;padding:2px;text-transform:uppercase;margin-left:-.5em}.colorGwsb h1,.colorGwsb h2,.colorGwsb h3{color:#004b6e;text-transform:uppercase}.colorGwsb .fakeLink,.colorGwsb .title,.colorGwsb a.startTime.displayTime{color:#008bc4}.colorGwsb .colorInvert{color:#000;background-color:#bedae9}.colorGwsb a{color:#008bc4}.colorGwsb .colorInvert a,.colorInvert a.startTime.displayTime{color:#004b6e}.colorGwsb .colorInvert .pullquote,.colorGwsb .pullquote{color:#008bc4}.colorGwsb .colorInvert .pullquote:before,.colorGwsb .pullquote:before{color:#ffd838}",""])},aUWm:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"="},template:['<div class="field">','\t<div class="label">Template</div>','\t<div class="input">','\t<select ng-model="$ctrl.data.data._plugin.questiontype" ng-options="{{$ctrl.setNgOpts(\'questionType\')}}"></select>',"\t</div>","</div>"].join(" "),controller:["selectService","ittUtils",function(e,t){var i=this;i.setNgOpts=t.setNgOpts,i.getSelectOpts=e.getSelectOpts,function(){e.onSelectChange(i.data,{})}()}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},asq8:function(e,t){var i="templates/item/image-inline-withtext.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <div class="title item__title item__title--image-inline-with-text" ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div class=touchable> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <div class="item__text item__text--image-inline-with-text" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> <div class=clear></div> </div> </div> ')}]),e.exports=i},b3US:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Color</div>','\t<div class="input">','\t\t<select size="1" ng-model="itemForm.color">','\t\t\t<option value="">(Default)</option>','\t\t\t<option value="Invert">Invert</option>','\t\t\t<option value="Sepia">Sepia</option>','\t\t\t<option value="Solarized">Solarized</option>','\t\t\t<option value="Vivid">Vivid</option>',"\t\t</select>","\t</div>","</div>"].join(" ")}}t.a=n},b611:function(e,t,i){e.exports=i.p+"images/producer-edit-bg-44e58269cf91864687aba2be417dd8b2.png"},beTW:function(e,t,i){e.exports=i.p+"images/gwsb-seal-0cb7d1c95c0dc3375de3a1aab309470b.svg"},bqUP:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:!0,template:['<div class="field" ng-if="!(item._type===\'Scene\' && item.start_time <= 0.1)">','\t<div class="label">Start</div>','\t<div class="input">','  <itt-validation-tip ng-if="ittItemForm.time.$invalid" text="{{item.validationMessage}}"></itt-validation-tip>','\t\t<span sxs-input-time="item" x-input-field="start_time"></span>',"\t\t<span ng-if=\"!(item.stop || item._type === 'Scene' || item._type === 'Chapter')\">",'\t\t\t<span class="label"> &nbsp; &nbsp; &nbsp; End</span>','\t\t\t<span sxs-input-time="item" x-input-field="end_time"></span>',"\t\t</span>","\t</div>","</div>"].join(" ")}}t.a=n},bxE4:function(e,t,i){e.exports=i.p+"images/definition-2-86deb4cdae22f18f63b787e193442a08.png"},c3xB:function(e,t,i){e.exports=i.p+"images/middlebury-logo-cd5e3ca64d7cd59e09ac496fe143682f.svg"},cBzx:function(e,t){var i="templates/producer/episode.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemEdit authoringForm"> <form name=ittEpisodeForm class=doValidate> <div ng-if="appState.product == \'producer\'"> <div class=ittTabs itt-tabs> <div class=ittTab itt-tab title=Episode> <div class=field ng-hide="!userHasRole(\'admin\')"> <div class=label>Master asset type</div> <div class=input> <select size=1 ng-model=masterAssetType> <option value=Video>Native Video</option> <option value=WebUrl>Youtube / Kaltura</option> </select> </div> </div> <div class=field ng-if="masterAssetType == \'Video\' && userHasRole(\'admin\')"> <div class=label>Video</div> <div class=input ng-include="\'templates/producer/upload-masterasset.html\'"></div> </div> <itt-url-field label="Video URL" ng-if="masterAssetType === \'WebUrl\'" data=::masterAsset.mediaSrcArr[0] video-only=true on-attach=attachMediaSrc($url)> </itt-url-field> <div class=field ng-if=showmessage> <div class=input ng-bind-html=showmessage></div> </div> <itt-title-field data=episode model-opts="{ debounce: 500 }" do-validate=true itt-item-form=ittEpisodeForm></itt-title-field> <itt-description-field data=episode model-opts="{debounce: 50}"></itt-description-field> <div class=field ng-if="userHasRole(\'admin\')"> <div class=label>Poster image </div> <div class=input ng-include="\'templates/producer/upload-poster.html\'"> </div> </div> <div class=field> <div class=label>Status</div> <div class=input> <select size=1 ng-model=episode.status> <option value=Published>Published</option> <option value=Unpublished>Unpublished</option> </select> </div> </div> <itt-language-flags></itt-language-flags> <itt-language-select ng-if="languageCount > 1" data=episode lang-form=langForm> </itt-language-select> <div class=field ng-if="episode.languages.length > 1"> <div class=label>Current Language</div> <div class=input> <select size=1 ng-model=appState.lang ng-change=forcePreview() ng-options="language.code as (\'[\'+language.code.toUpperCase()+\']\') for language in episode.languages"> </select> </div> </div> <itt-upload-transcripts ng-if="userHasRole(\'admin\')" episode-id={{episode._id}}></itt-upload-transcripts> </div> <div class=ittTab itt-tab title=Style> <itt-template-select data=episode></itt-template-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> </div> </div> <div class=ittTabFoot> <a ng-click=cancelEdit()>Cancel</a> &nbsp; &nbsp; <button ng-click=saveEpisode() ng-disabled="blockDoubleClicks || ittEpisodeForm.$invalid">Save</button> </div> </form> </div> ')}]),e.exports=i},cWz7:function(e,t){var i="templates/producer/item/sxs-file.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span class="eventIcon icon-file"></span> <div class=field> <div class=label>Title </div> <div class=input> <input type=text ng-model=item.title.en autofocus> </div> </div> <div class=field> <div class=label>File </div> <div class=input ng-include="\'templates/producer/upload-sxs.html\'"> </div> </div> <div class=field> <div class=label>Description </div> <div class=input sxs-input-i18n=item.description x-inputtype="\'textarea\'"></div> </div> ')}]),e.exports=i},cm1R:function(e,t,i){var n="templates/scene/centerVV.html",a=' <div class="scene centerVV" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=col> <div class=static-bg__main ng-style="setBgImgUrl(scene.items, \'mainCol\')"></div> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane"> <div class="content contentLayer stretchToViewport" ng-class="{singleitem: mainContentItems.length==1, isNarrow: isNarrow, isEmpty: mainContentItems.length == 0}" itt-width-watch> <div class="item animate centerVV-h2" ng-repeat="item in mainItems = (mainContentItems | isCurrent | filter:byPullquoteOrH2)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> </div> </div> <div class=col> <div class=static-bg__alt ng-style="setBgImgUrl(scene.items, \'altCol\')"></div> <div class="pane altPane stretchToViewport"> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},crAB:function(e,t){var i="templates/episode/components/video.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div itt-magnetized class="pane videoContainer"> <span ng-if="episode.swap && episode.replacingMasterAsset" style=display:none> <itt-video class="video contentLayer" media-src-arr=episode.swap.mediaSrcArr poster=episode.poster player-id=episode.swap._id main-player=true> </itt-video> </span> <span ng-if="episode.masterAsset && !episode.replacingMasterAsset"> <itt-video class="video contentLayer" media-src-arr=episode.masterAsset.mediaSrcArr poster=episode.poster player-id=episode.masterAsset._id main-player=true> </itt-video> </span> <div class="pane fill overlay fgLayer"> <div ng-class="item.styleCss + \' \' + item.state" itt-item=item class="item animate" ng-repeat="item in episode.items | itemLayout:\'videoOverlay\' | isCurrent"> </div> </div> </div> ')}]),e.exports=i},cwCz:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div ng-if="routeLoadingCtrl.isLoading" class="loading routeLoading">','\t<div class="spinner">','\t\t<div class="rotating pie"></div>','\t\t<div class="filler pie"></div>','\t\t<div class="mask"></div>','\t</div><span class="loading__text">Loading</span>',"</div>"].join(" "),scope:{isLoading:"=?"},controller:["$rootScope","$scope","$timeout","errorSvc",function(e,t,i,n){var a=this;a.isLoading=a.isLoading||!1;var o;e.$on("$routeChangeStart",function(){o=i(function(){a.isLoading=!0},500)}),e.$on("$routeChangeSuccess",function(){i.cancel(o),a.isLoading=!1}),e.$on("$locationChangeSuccess",function(){i.cancel(o),a.isLoading=!1}),e.$on("$routeChangeError",function(){i.cancel(o),a.isLoading=!1}),t.$watch(function(){return n.errors.length},function(e,t){e!==t&&e>0&&(i.cancel(o),a.isLoading=!1)})}],controllerAs:"routeLoadingCtrl",bindToController:!0}}t.a=n},cxo6:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".reviewMode .item.isCurrent{background-color:rgba(0,0,0,.2)}.colorInvert .reviewMode .item.isCurrent{background-color:hsla(0,0%,100%,.3)}.content.allowHighlights .item{transition:none}.content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(0,0,0,.2)}.content.allowHighlights .highlightBorder.item.isCurrent{border:3px solid rgba(0,0,0,.3)}.content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(0,0,0,.3);transition:all 1s ease-in-out}.content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(255,255,200,.4);box-shadow:0 0 8px rgba(255,255,200,.9)}.content.allowHighlights .highlightHighlighter.item.isCurrent{background-image:url("+i("Z9ij")+");background-size:100% 100%}.content.allowHighlights .highlightTilt.item.isCurrent{transform:rotateY(-20deg) scale(1.18);transform-origin:70% 50% 0;transform-style:preserve-3d}",""])},"cz+l":function(e,t,i){"use strict";function n(){return{scope:!0,templateUrl:"templates/toolbar-story.html"}}t.a=n},dt7p:function(e,t){var i="templates/item/usc-badges.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate uscBadges"> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> </div> <span ng-include="\'templates/item/usc-badges-inner.html\'"></span> </div> ')}]),e.exports=i},dw4R:function(e,t){var i="templates/producer/item/producer-transcript.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},eFPH:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",itemForm:"=?"},template:['<div class="field" ng-if="$ctrl.getVisibility(\'display\')">','\t<div class="label">Display</div>','\t<div class="input">','\t\t<select ng-change="$ctrl.onItemFormUpdate($ctrl.data, $ctrl.itemForm)"','\t\t\tng-model="$ctrl.data.layouts[$ctrl.layoutIndex]"',"\t\t\tng-options=\"{{$ctrl.setNgOpts('display')}}\"","\t\t\titt-options-disabled=\"option.isDisabled for option in $ctrl.getSelectOpts('display')\">","\t\t</select>","\t</div>","</div>",'<div class="field" ng-if="$ctrl.getVisibility(\'bgImagePosition\')">','\t<div class="label">Position</div>','\t\t<div class="input">','\t\t<select ng-change="$ctrl.onItemFormUpdate($ctrl.data, $ctrl.itemForm)" ng-model="$ctrl.itemForm.position" ng-options="{{$ctrl.setNgOpts(\'imagePosition\')}}"></select>',"\t</div>","</div>"].join(""),controller:["$scope","selectService","ittUtils",function(e,t,i){function n(){return o.data.templateUrl}function a(e){o.isImageFillTemplate=e&&"templates/item/image-fill.html"===e}var o=this;o.getVisibility=t.getVisibility,o.getSelectOpts=t.getSelectOpts,o.onItemFormUpdate=t.onSelectChange,o.setNgOpts=i.setNgOpts,o.layoutIndex="image"===o.data.producerItemType?0:1,e.$watch(n,a)}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},eIOM:function(e,t,i){e.exports=i.p+"images/cbs-trident-white-49c68f5a37e04fd3c58594976b8f224c.svg"},eQIm:function(e,t){var i="templates/item/review-windowfg.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class=text> <div class=title> <a tabindex=0 ng-click=seek(item.start_time) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <div class=text ng-if="item.data._plugin._type == \'question\'"> You have <span ng-if=!item.data._plugin.hasBeenAnswered> not yet </span> answered this <span ng-if="item.data._plugin.questiontype == \'mc-poll\'"> poll </span> question. </div> <div class=text ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> <div class=clear></div> </div> </div> ')}]),e.exports=i},eSLu:function(e,t){var i="templates/error-404.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=errors> <div class=error> <h3>Error: no such route</h3> <p><i>404. File not found. Sorry!</i></p> </div> </div> ")}]),e.exports=i},ebgR:function(e,t,i){e.exports=i.p+"images/ua_horiz-7037b23792b318a2e528b04188d4af26.svg"},emMF:function(e,t){var i="templates/producer/asset-uploader.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=assetUploader> <div ng-if=uploads.length> <div class=uploadList ng-repeat="upload in uploads"> <span class=uploadName> {{uploadStatus[$index].name}}: </span> <span class=uploadProgress> <span ng-if=uploadStatus[$index].done>Upload complete</span> <div ng-if=uploadStatus[$index].error>Error</div> <span ng-if="!uploadStatus[$index].done && !uploadStatus[$index].error"> <progress ng-attr-max={{uploadStatus[$index].bytesTotal}} ng-attr-value={{uploadStatus[$index].bytesSent}}> </progress> <span ng-switch=uploadStatus[$index].percent> <span ng-switch-when=100>...</span> <span ng-switch-default>{{uploadStatus[$index].percent}}%</span> </span> </span> </span> <div ng-if=uploadStatus[$index].error>{{uploadStatus[$index].error}}</div> </div> <span ng-if="uploadsinprogress > 0">{{uploadsinprogress}} files remaining <button ng-if=!paused ng-click=pauseUpload()>Pause</button> <button ng-if=paused ng-click=resumeUpload()>Resume</button> <button ng-click=cancelUpload()>Cancel</button> </span> </div> <div ng-if=errormessage class=error-red ng-bind-html=errormessage></div> <div> <ng-transclude></ng-transclude> </div> <div class=uploadDropTarget> <a style=float:right ng-click="showInstructions=!showInstructions">(?)</a> Drag and drop <span ng-if=multiple>files</span> <span ng-if=!multiple>a file</span> here <br> <small> or choose <span ng-if=multiple>files</span> <span ng-if=!multiple>a file</span> to upload: <input class=uploadFileInput type=file multiple=multiple itt-files-handler on-selected=handleUploads(files)> </small> <div ng-if=showInstructions style=text-align:left> <small>{{manPage}}</small> </div> </div> </div> ')}]),e.exports=i},enrJ:function(e,t){var i="templates/producer/item/producer-chapter.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},ewYh:function(e,t,i){e.exports=i.p+"images/toolbar-675c7bd2d2819eeaca3f693147b52144.png"},f0pS:function(e,t,i){var n="templates/episode/wiley2.html",a='<div class="episode episode-wiley" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=ghost></div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},fJsy:function(e,t){var i="templates/producer/upload-sxs.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div> <div ng-if="(item.asset) && !showUploadButtons"> {{item.asset.display_name}} <button class=button ng-click=replaceAsset(item.asset._id)> Replace this asset </button> </div> <div ng-if="showUploadButtons || !(item.asset)"> <div ng-if="item.producerItemType === \'image\'" itt-asset-uploader="" callback=assetUploaded(data)> </div> <div ng-if="item.producerItemType === \'file\'" itt-asset-uploader="" callback=assetUploaded(data) mime-types="application/*, text/*, audio/*, model/*" instructions="We currently accept all non-image or non-video files." error-text="Please make sure you are not trying to upload an image or video file."> </div> </div> </div> ')}]),e.exports=i},fTLP:function(e,t,i){e.exports=i.p+"images/tmp-user-2f482a772b2daf6810d3e2f3123aec4c.png"},fgGe:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,'.content .item:first-child{padding-top:.75em;padding-bottom:.75em}.searchMode .content .item:first-child{padding-top:0}.content .item.sidebarL:first-child,.content .item.sidebarR:first-child{padding-top:.5em}.content .item{padding:.3em .5em .3em 60px}.windowFg .content .item{padding:0}.item{transition:all 1s ease-in-out}.item .itemHead{display:inline;line-height:1em}.item .icon{max-width:55px}.item .icon img{width:100%}.item .startTime{cursor:pointer;cursor:hand;width:50px;text-align:right;float:left}.item .title{margin-bottom:.5em}a.startTime.displayTime{text-decoration:none;text-shadow:none}.iframeContainer{width:100%;position:relative;background-color:#fff;-webkit-overflow-scrolling:touch;overflow-y:scroll}.modal .iframeContainer{height:100%}.item .iframeContainer{height:320px}.touchDevice .iframeContainer{-webkit-overflow-scrolling:touch;overflow-y:scroll}.iframeContainer .loading,.iframeContainer iframe{position:absolute;top:0;left:0;right:0;bottom:0;height:100%}.iframeContainer iframe{background-color:#fff;border:none;width:100%;height:98%}.item.contain .itemTemplate,.item.cover .itemTemplate,.item.fill .itemTemplate{overflow:hidden;background-position:50% 50%;background-repeat:no-repeat;position:absolute;top:0;left:0;right:0;bottom:0}.fill .item.contain .fillImg,.fill .item.cover .fillImg,.fill .item.fill .fillImg,.windowFg .item.contain .fillImg,.windowFg .item.cover .fillImg,.windowFg .item.fill .fillImg{display:none}.item.fill .itemTemplate{background-size:100% 100%}.item.contain .itemTemplate{background-size:contain}.item.cover .itemTemplate{background-size:cover}.fill .item .fillImg{width:auto;max-width:100%;height:auto;max-height:100%;position:absolute}.fill .item.center .fillImg{position:absolute;top:0;left:0;bottom:0;right:0}.fill .item.br .fillImg,.fill .item.tr img{right:0}.fill .item.bl img,.fill .item.br .fillImg{bottom:0}.fill .item.tl img,.fill .item.tr .fillImg{top:0}.fill .item.bl img,.fill .item.tl .fillImg{left:0}.fill .item.center .itemTemplate{display:flex;justify-content:center;align-items:center}.content .itemTemplate.imageFill{background-image:none!important;padding-left:5px}.content .item:first-child .imagePlain{margin-top:-1.5em}.content .item .imagePlain{margin-right:-.5em;margin-left:-.5em}.content img{max-width:100%}.item .touchable{cursor:pointer;position:relative;display:inline-block}.item .touchable,.item .touchable img{max-width:100%;max-height:100%}.item .touchableIndicator{opacity:0;transition:opacity 1.5s;position:absolute;bottom:7px;right:5px;font-family:Story;font-size:1em;pointer-events:none}.touchableIndicator:before{content:"\\E609";text-shadow:1px 1px 1px #fff}.item .touchable:hover .touchableIndicator{opacity:.8}.itemDetail.ng-enter,.itemDetail.ng-leave{transition:all 1s;overflow:hidden}.itemDetail.ng-enter{height:1px;opacity:0}.itemDetail.ng-enter-active,.itemDetail.ng-leave{height:300px;opacity:1}.itemDetail.ng-leave-active{height:1px;opacity:0}.modal{transition:all 1s;max-height:calc(100% - 100px);position:fixed;width:75%;top:30%;left:50%;height:80%;transform:translate(-50%,-40%)}.modal.ng-enter,.modal.ng-leave.ng-leave-active{left:49%;right:49%;top:33%;overflow:hidden}.modal.ng-enter-active,.modal.ng-leave{left:5%;right:5%;top:10%;display:block!important;overflow:hidden}.modalmenu{border-radius:1em 1em 0 0;text-align:right;padding:0 1em;color:#fff;background-color:#000;height:30px;line-height:30px}.modalmenu a,.modalmenu a:before{color:#fff!important}.modalimage{text-align:center;width:100%;height:100%}.modalimage img{max-width:100%;box-shadow:3px 3px 15px rgba(0,0,0,.9);background-color:#fff}.content .item{padding-left:60px}.content .item .startTime{margin-left:-55px}.searchMode .content .item .sxs-item .startTime{margin-left:-65px}.content .item .headerItem{margin-left:-50px}.content.isNarrow .item,.content.isNarrow .item.sidebarL,.content.isNarrow .item.sidebarR,.content.isNarrow .item.timestampInline,.content.isNarrow .item.timestampNone,.content .item.sidebarL,.content .item.sidebarR,.content .item.timestampInline,.content .item.timestampNone{padding-left:.5em}.content.isNarrow .item.headerItem .startTime,.content.isNarrow .item.sidebarL .startTime,.content.isNarrow .item.sidebarR .startTime,.content.isNarrow .item.timestampNone .startTime,.item.timestampNone .startTime{display:none}.content.isNarrow .item .headerItem,.timestampInline .headerItem,.timestampNone .headerItem{margin-left:0!important}.content.isNarrow .item .startTime,.content.isNarrow .item .sxs-item .startTime,.item.timestampInline .startTime{display:inline;margin-left:0;width:auto;text-align:left;margin-right:.4em}.content.isNarrow .item .pullquote:before{display:inline;margin-left:0;width:auto;text-align:left;height:1px;padding-right:5px}.item.timestampSidebar .startTime{transform:rotate(90deg) translateX(100%);transform-origin:100% 0;width:auto;font-size:20px;margin-left:-45px}.item.timestampSmall .displayTime{font-size:.86em}.item .pullquote:before{color:rgba(0,0,0,.1);content:"\\201C";float:left;font-size:2.5em;line-height:.8em;text-align:right;width:50px;text-shadow:none!important;height:1px}.item .pullquote{font-size:2em;padding-top:.3em;line-height:1.1em}.item .pullquoteSpeaker{text-align:right;font-style:italic;font-size:.8em}.item .captionContainer{position:relative;overflow:hidden;width:100%}.item .caption{position:absolute;bottom:4px;left:0;right:0;padding:.5em;opacity:1;transition:all .7s;background-color:#333;background-color:rgba(0,0,0,.7);border-top:1px solid #666;color:#fff}.item .captionContainer img{width:100%}.item.colorInvert .caption{background-color:#eee;background-color:hsla(0,0%,100%,.7);color:#000;border-top:1px solid #666}.item:hover .caption{opacity:0}.item .slidingcaption{transform:translateY(0)}.item:hover .slidingcaption{transform:translateY(100%)}.item .thumbnail img{width:100%}.item .thumbnail{max-width:72px;transition:all .7s;float:left;margin-right:1em}.item .thumbnail.fullsize{max-width:100%;float:none}.item .question label{display:block;padding:.3em}.item .question .correct{border-left:5px solid #0c0}.item .question .incorrect{border-left:5px solid #c00}.item .question input[type=radio]{margin-right:.5em}.item .flotContainer{position:relative}.item .flotContainer:after{content:"";clear:both;display:block}.item .chartContainer{width:50%;max-width:400px;float:left}.item .legendContainer{float:right;width:50%}.item .legendContainer td{padding:2px;vertical-align:top}.isNarrow .item .chartContainer{width:auto;max-width:auto;margin:auto;float:none}.isNarrow .item .legendContainer{float:none;max-width:100%}.item .definition .itemHead div{padding-left:40px;background:url('+i("6Anz")+") 0 0 no-repeat}.item .definition .itemHead div span{font-size:1.6em;font-weight:700;line-height:1.6em;border-bottom:1px solid}.item .definition .text{padding-left:40px;font-size:1.3em;background:url("+i("bxE4")+") 0 0 no-repeat}",""])},g5Re:function(e,t,i){e.exports=i.p+"images/regis-landing-b3d34ba752526c83fc4d57f8ef289ec4.svg"},g7L3:function(e,t,i){var n="templates/episode/purdue.html",a='<div class="episode episode-purdue" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("3vSo")+" alt=Purdue> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},gJY5:function(e,t){var i="templates/producer/upload-poster.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div ng-if=showAssetPicker class=floatAssetPicker> <div class=scrollContainer> <div sxs-container-assets=episodeContainerId></div> </div> <div class=controlsContainer> <button ng-click=endChooseAsset();>Cancel</button> </div> </div> <div> <div ng-if="episode.poster && !showUploadButtonsPoster"> {{episode.poster.display_name}} <button class=button ng-click="replaceAsset(\'Poster\')">Replace this</button> </div> <div ng-if="showUploadButtonsPoster || !episode.poster"> <span ng-if=showUploadFieldPoster> <div itt-asset-uploader=episodeContainerId callback=posterUploaded(data)> </div> </span> <span ng-if=!showUploadFieldPoster> <button class=button ng-click="chooseAsset(\'Poster\')">Browse uploaded</button> <button class=button ng-click="toggleUpload(\'Poster\')">Upload new</button> </span> </div> </div> ')}]),e.exports=i},gr72:function(e,t){var i="templates/item/sxs-question.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate sxs-item"> <a class=edit-event ng-click=editItem() ng-if=item.editableByThisUser> <span>Edit item</span> </a> <div class=avatar> <img ng-src="{{item.avatar.url || \'/images/no-avatar.gif\'}}"> </div> <div class=itemHead> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <div class=text> <div class=title ng-if="item.display_title | highlightSubstring: appState.searchText" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div ng-if=item.asset.url class=touchable style=float:right;max-width:50%;padding-right:.5em> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <itt-mc-question show-chart="item.data._plugin.questiontype == \'mc-poll\'" choices=item.data._plugin.distractors on-choice=save data=item.data._plugin qid=item._id> <div class=clear></div> </itt-mc-question></div> </div> ')}]),e.exports=i},hqIs:function(e,t,i){e.exports=i.p+"images/kellogg-hexes-8d45f4677ad81e9a9fc4233353367e53.png"},htkf:function(e,t,i){"use strict";function n(e){return{compile:function(t,i){angular.isFunction(i)&&(i={post:i});var n,a=t.contents().remove();return{pre:i&&i.pre?i.pre:null,post:function(t,o){n||(n=e(a)),n(t,function(e){o.append(e)}),i&&i.post&&i.post.apply(null,arguments)}}}}}t.a=n,n.$inject=["$compile"]},"i/L1":function(e,t,i){"use strict";function n(e,t,i,n,a){function o(e){b(e)}function r(e){Object.isFrozen(Q(e).meta)&&l(e);var t=document.getElementById(e);B(t),t.onStateChange=V,t.controls=!0,U===e&&(U=e,t.controls=!1),t.load(),Q(e).instance=t,console.log("check",Q(e))}function s(e){Object.freeze(J(e))}function l(e){var t,i,n;n=J(e),t={};for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(N=!0),Q(e).meta=t}function c(e,t,i){if(!(R(Q(e))&&K(e,"startAtTime")>0)){t&&(D={},U=e);var n=C(e,i),a={mainPlayer:t,videoObj:n.videoObj,div:n.videoElm};j(e,Y(a,H))}}function d(){var e=_(this.id);("playing"===e||"buffering"===e&&n.isIEOrEdge===!0)&&u.call(this)}function m(){q(this.id);W(this.id,"playerState",0)}function p(){var e=q(this.id);K(this.id,"ready")===!1&&(T(e,6),W(this.id,"duration",e.duration))}function u(){var e=q(this.id);W(this.id,"playerState",1),T(e)}function g(){var e=q(this.id);if(N===!0)return void(N=!1);W(this.id,"playerState",2),T(e)}function f(){var e=q(this.id);W(this.id,"playerState",3),T(e)}function h(t){var i=q(t),n=K(t,"time"),a=K(t,"ready"),o=e(function(){var r;R(i)&&4===i.readyState&&a===!0&&(r=K(t,"time"),t===U&&n<=r&&(i.currentTime=n),i.play(),e.cancel(o))},10)}function v(e){q(e).pause()}function b(e){W(e,"time",K(e,"duration")),console.log("stopped!"),v(e)}function y(e){var t=q(e);if(void 0!==t)return t.currentTime}function _(e){var i=Q(e);if(R(i))return t[i.meta.playerState]}function w(e,t){q(e).currentTime=t}function x(e,t){q(e).playbackRate=t}function A(e){var t=q(e);t.muted=!t.muted}function k(e,t){q(e).volume=t/100}function S(e){var t=q(e);if(t&&K(e,"playerState")!==-1&&t.buffered.length>0){var i=t.buffered.length,n=t.buffered.start(i-1),a=t.buffered.end(i-1);return a<0&&(a-=n,n=0),a/K(e,"duration")*100}}function C(e,t){var i=P(t);return{videoObj:i,videoElm:I(e,i,0)}}function I(e,t,i){var n=document.createElement("video");n.id=e,Object.keys(t).forEach(function(e){var a,o,r,s;a=e,"mp4"===a&&(a="mpeg4"),o=t[e][i],R(o)&&(r="m3u8"===e?"application/x-mpegURL":"video/"+e,s=document.createElement("source"),s.setAttribute("type",r),s.setAttribute("src",o),s.setAttribute("class",a),n.appendChild(s))});var a=document.createElement("p");return a.innerText="Oh no! Your browser does not support the HTML5 Video element.",n.appendChild(a),n.outerHTML}function E(e,i){return{emitterId:i,state:t[e]}}function T(e,t){var i,n=Q(e.id);i=t||n.meta.playerState,e.onStateChange(E(i,e.id))}function V(e){angular.forEach(ae(),function(t){t(e)})}function P(e){return e.reduce(function(e,t){return e[t.match(/(mp4|m3u8|webm)/)[1]].push(t),e},{mp4:[],webm:[],m3u8:[]})}function B(e){var t={pause:g,playing:u,waiting:f,seeked:d,canplay:p,ended:m};Object.keys(t).forEach(function(i){!function(i){e.addEventListener(i,t[i])}(i)})}function M(e){var t,i=q(e);R(i)&&(t=i,t.removeEventListener("pause",g),t.removeEventListener("playing",u),t.removeEventListener("waiting",f),t.removeEventListener("seeked",d),t.removeEventListener("canplay",p),t.removeEventListener("ended",m))}var U,D={},N=!1,R=i.existy,F=a({players:D,type:"html5"}),L=F.commonMetaProps,z={videoObj:{},videoType:"html5"},H={instance:null,meta:{}};angular.extend(H.meta,z,L);var O=Object.keys(H.meta),$=function(e){return R(Q(e))&&R(Q(e).instance)},Q=F.getPlayer,j=F.setPlayer,G=F.getPlayerDiv,q=F.getInstance($),Y=F.createMetaObj,J=F.getMetaObj,K=F.getMetaProp,W=F.setMetaProp(O),X=F.registerStateChangeListener,Z=F.unregisterStateChangeListener,ee=F.pauseOtherPlayers(v,_),te=F.resetPlayerManager(M),ie=F.renamePid,ne=F.handleTimelineEnd(o),ae=F.getStateChangeListeners;return{type:"html5",getMetaProp:K,setMetaProp:W,getMetaObj:J,getPlayerDiv:G,pauseOtherPlayers:ee,registerStateChangeListener:X,unregisterStateChangeListener:Z,resetPlayerManager:te,renamePid:ie,seedPlayerManager:c,create:r,getPlayerState:_,play:h,pause:v,seekTo:w,getCurrentTime:y,getBufferedPercent:S,toggleMute:A,setVolume:k,setSpeed:x,freezeMetaProps:s,unFreezeMetaProps:l,stop:b,handleTimelineEnd:ne}}t.a=n,n.$inject=["$interval","PLAYERSTATES","ittUtils","appState","playerManagerCommons"]},iDst:function(e,t,i){"use strict";function n(e,t,i,n,a){i.mockEpisode("ep1"),a.episodeId="ep1",a.product="producer",a.lang="en",e.item=n.events[t.eventId],console.log(n)}t.a=n,n.$inject=["$scope","$routeParams","mockSvc","modelSvc","appState"]},iEyP:function(e,t){var i="templates/iframe.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=iframeContainer> <itt-loading ng-if=$ctrl.isLoading></itt-loading> <iframe ng-if=!ctrl.isLoading ng-src={{$ctrl.src}} ng-attr-scrolling={{$ctrl.iOSScroll}} ng-style=$ctrl.styles ng-attr-sandbox={{$ctrl.sandbox}}> </iframe> </div> ")}]),e.exports=i},iHyy:function(e,t,i){e.exports=i.p+"f1e510c00d5cda83e85cc94b2b28ff24.otf"},ijfh:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s){return{restrict:"A",replace:!1,scope:{containerId:"=sxsContainerAssets",mimeKey:"@"},templateUrl:"templates/producer/container-assets.html",compile:function(l){return t.compile(l,function(t){t.appState=o,n.containers[t.containerId]?(t.container=n.containers[t.containerId],t.container.assetsHaveLoaded||i.getContainerAssets(t.containerId)):i.getContainer(t.containerId).then(function(){t.container=n.containers[t.containerId],i.getContainerAssets(t.containerId)}),t.isCustAdmin=s.userHasRole("customer admin"),t.isAdmin=s.userHasRole("admin"),t.canAccess=t.isCustAdmin||t.isAdmin,r[t.mimeKey]?(t.mimes=r[t.mimeKey],t.isAdmin&&(t.mimes+=",video/*")):t.mimes=r.default,t.assets=n.assets,t.uploadStatus=[],t.up=function(){t.showParent=!0},t.toggleImages=function(){t.onlyImages=!t.onlyImages},t.toggleGrid=function(){t.gridView=!t.gridView},t.assetClick=function(t){console.log("User clicked on asset ",t),e.$emit("UserSelectedAsset",t)},t.uploadAsset=function(e){var i=e.files;t.uploadStatus[0]={bytesSent:0,bytesTotal:1},t.uploads=a.uploadContainerFiles(t.containerId,i),t.uploads[0].then(function(i){n.cache("asset",i.file),e.value="",delete t.uploads},function(e){console.log("FAIL",e)},function(e){t.uploadStatus[0]=e})}})}}}t.a=n,n.$inject=["$rootScope","recursionHelper","dataSvc","modelSvc","awsSvc","appState","MIMES","authSvc"]},iutC:function(e,t,i){var n="templates/scene/2colR.html",a='<div class="scene twocol" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=videoPositioner> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> </div> <div class="col col1"> <div class="pane altPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in (altBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <img src='+i("rXKF")+' class=matchVideoHeight> <div class=clear></div> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in (altFgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> <div class="col col2"> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in (mainBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (mainContentItems | isCurrent).length == 1\n\t\t\t\t\t: (mainContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: mainContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: mainContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: mainContentItems.length == 0\n\t\t\t}" itt-width-watch> <img src='+i("rXKF")+' class=matchVideoHeight> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},iyYB:function(e,t,i){"use strict";function n(e,t,i,n){function a(){var t=r();return n.allowPlayback(t)===!0?(e.controlText="play","button-play"):(e.controlText="pause","button-pause")}function o(){n.togglePlayback(null,i.restartEpisode)}function r(){return n.getTimelineState()}e.playbackService=n,e.timelineBtnClick=o,e.setBtnClass=a,t.$on("userKeypress.SPACE",o),e.changeSpeed=function(e){var t=n.getMetaProp("timeMultiplier")+e;t<.5&&(t=.5),t>2&&(t=2),i.setSpeed(t)},e.resetSpeed=function(){i.setSpeed(1)},e.markerPercent=function(e){return void 0===e?0:e/n.getMetaProp("duration")*100},e.toggleMute=function(){i.toggleMute()},e.setVolume=function(e){i.setVolume(e)},e.$on("$destroy",function(){i.pause()})}t.a=n,n.$inject=["$scope","$rootScope","timelineSvc","playbackService"]},"j/mI":function(e,t,i){"use strict";function n(e,t){function i(t,i){return e(function(e){var a=i+t;s(r[a])||(r[a]="ready"),"undefined"==typeof KWidget?n(t,i,r,e):"ready"===r[a]?n(t,i,r,e):e()})}function n(e,t,i,n){var r=a(e,t),s=o(r,e);s.onload=n,i[t+e]=s}function a(e,t){return"https://cdnapisec.kaltura.com/p/"+e+"/sp/"+e+"00/embedIframeJs/uiconf_id/"+t+"/partner_id/"+e}function o(e,t){var i=document.createElement("script");i.src=e,i.id=t;var n=document.getElementsByTagName("script")[0];return n.parentNode.insertBefore(i,n),i}var r={},s=t.existy;return{load:i}}t.a=n,n.$inject=["$q","ittUtils"]},jKfP:function(e,t,i){"use strict";function n(e,t){return{restrict:"A",replace:!1,scope:{allScenes:"=ittReviewMode"},templateUrl:"templates/episode/components/reviewmode-scenes.html",link:function(i){i.appState=t,i.scenes=[];var n=0;i.isLoading=!0;var a=[1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1/0];i.addOne=function(){if(n++,i.allScenes)i.scenes=i.allScenes.slice(0,a[n]),n<i.allScenes.length?e(i.addOne,100):(i.isLoading=!1,i.scenes=i.allScenes);else var t=i.$watch(function(){return i.allScenes},function(){i.allScenes&&(t(),i.addOne())})},e(i.addOne,100)}}}t.a=n,n.$inject=["$timeout","appState"]},"jMO+":function(e,t,i){"use strict";function n(e){function t(e,t,i,n,a){for(var o,r=i.find("option"),s=0,l=0,c=r.length;s<c;s++){var d=angular.element(r[s]);""!=d.val()&&(o={},o[t]=n[l],d.attr("disabled",a(e,o)),l++)}}function i(i,n,a){var o=a.ittOptionsDisabled.match(/^\s*(.+)\s+for\s+(.+)\s+in\s+(.+)?\s*/),r=o[3],s=e(o[1]);i.$watch(r,function(e){e&&t(i,o[2],n,e,s)},!0),i.$watch(a.ngModel,function(a){var l=e(r)(i);a&&t(i,o[2],n,l,s)})}return{restrict:"EA",priority:0,require:"ngModel",link:i}}t.a=n,n.$inject=["$parse"]},jgfq:function(e,t,i){e.exports=i.p+"images/schoolclimatesolutions-07cde7348592f3c82ac1cdafce3aa5b7.svg"},jgzK:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r){return{require:"?^^form",scope:{item:"=sxsInputTime"},templateUrl:"templates/producer/inputtime.html",link:function(s,l,c,d){function m(){return v(s.model)}function p(e){h(e),"start_time"===c.inputField&&s.item.stop&&(s.item.end_time=e)}function u(e){if(s.item.validationMessage=null,d.time.$setValidity("time",!0),"Scene"!==s.item._type)return!0;var t=!1,i=f(e),n=g(e);return t=i&&n,t||d&&(d.time.$setValidity("time",!1),d.time.$setViewValue(b(e)),d.time.$render(),n||(s.item.validationMessage="Scenes cannot share the same start time."),i||(s.item.validationMessage="For a start time <=0:00.1, please edit the first layout")),t}function g(e){var t,i=!0;return s.item.start_time!==e&&(t=n.isOnExistingSceneStart(e),i=!t),i}function f(e){return x(e)&&e>.1}function h(e){u(e)!==!1&&(e>k&&(e=k),s.item.stop&&(s.item.end_time=e),s.realValue=e,s.item[c.inputField]=s.realValue,s.model=s.format(e),s.item.invalid_end_time=s.item.start_time>s.item.end_time)}function v(t){var i;if(void 0===t||""===t)i=o.getMetaProp("time");else if(isNaN(t)){var n=t.split(":");2===n.length?(isNaN(n[0])&&(n[0]=0),isNaN(n[1])&&(n[1]=0),i=60*Number(n[0])+Number(n[1])):i=o.getMetaProp("time")}else i=t;return i<.01&&(i=.01),e.$emit("searchReindexNeeded"),i}function b(e){var t=Math.floor(e/60),i=Math.round(e%60*100)/100;return i<10&&(i="0"+i),t+":"+i}function y(e){t.cancel(A),l.find(".inputfield").focus();var i=e/30;h(s.item[c.inputField]+i),"start_time"===c.inputField&&a.seek(s.item[c.inputField]+i)}function _(e){e?s.tooltip=!0:A=t(function(){s.tooltip=!1},300)}function w(){return!1}var x=r.existy;angular.extend(s,{fieldname:angular.copy(c.inputField),realValue:angular.copy(s.item[c.inputField]),playbackService:o,model:b(angular.copy(s.item[c.inputField])),appState:i,parse:v,format:b,nudge:y,setTime:h,showTools:_,isTranscript:w}),function(){"Scene"===s.item._type?s.scene=function(){return s.item}:s.scene=function(){return n.sceneAtEpisodeTime(s.item.cur_episode_id,o.getMetaProp("time"))}}(),s.$watch(m,p);var A,k=n.episodes[s.item.cur_episode_id].masterAsset.duration}}}t.a=n,n.$inject=["$rootScope","$timeout","appState","modelSvc","timelineSvc","playbackService","ittUtils"]},jyEH:function(e,t,i){e.exports=i.p+"images/Green_BG_01-39374b8ff9235ac1c3d07e90b0acbf0e.svg"},kDpR:function(e,t,i){e.exports=i.p+"images/Narrasys_brand_logo-1219260904deb927b3a14bb995f27a5c.svg"},kRx8:function(e,t,i){e.exports=i.p+"images/kellogg-k-286c07c6bc767760bb9fd57c5803692e.svg"},kWQC:function(e,t,i){"use strict";function n(){return{templateUrl:"templates/narrative/default.html",scope:{narrativeData:"=",customerData:"="},controller:["$scope","authSvc","appState","dataSvc","modelSvc","ittUtils",function(e,t,i,n,a,o){function r(e,t){var i=t.length,n=0;e>0&&(n=e===i-1?t[e-1].sort_order+100:o.bitwiseCeil((t[e-1].sort_order+t[e+1].sort_order)/2));var a=n;for(t[e].sort_order=n,e++,n++;e<i;e++)a>=t[e].sort_order&&(t[e].sort_order=n),a=n,n++}function s(t){n.storeTimeline(e.narrative._id,t).then(function(e){angular.extend(t,e)})}function l(){o.existy(e.customers[0])&&o.existy(e.customers[0].narratives)&&e.customers[0].narratives.length>1?e.editingNarrative=!e.editingNarrative:n.getNarrativeList(e.customers[0]).then(function(){e.editingNarrative=!e.editingNarrative})}function c(t){e.timelineUnderEdit=t}function d(){e.isOwner=!e.isOwner}function m(){e.showEpisodeList=!e.showEpisodeList}function p(){e.timelineUnderEdit=null,e.narrative.timelines=e.narrative.timelines.filter(function(t){return t!==e.tmpTimeline}),e.tmpTimeline=null}function u(e,t){e.isTemp===!0?b(e):_(e,t)}function g(t){e.totalNarrativeDuration=t.map(function(e){return e.episode_segments.map(function(e){return e.end_time})[0]}).reduce(function(e,t){return e+=t},0)}function f(t){n.deleteTimeline(t._id).then(function(){e.narrative.timelines=e.narrative.timelines.filter(function(e){return t._id!==e._id}),p(),g(e.narrative.timelines)})}function h(t,i){var n,a,r,s,l;o.existy(t)?(s=i.indexOf(t),l=s+1,a=i[s],n=a.sort_order,i.slice(-1)[0]===a?n+=100:(r=i[s+1].sort_order,n=o.bitwiseCeil((r+n)/2))):(n=0,l=0);var c={name:{en:""},description:{en:""},hidden:!1,sort_order:n,isTemp:!0,index:l},d=i.slice(0,l),p=i.slice(l,i.length);d.push(c),i=d.concat(p),e.narrative.timelines=i,e.tmpTimeline=c,m()}function v(t){n.getEpisodeOverview(t).then(function(t){return e.tmpTimeline.parent_episode=t,o.existy(t.description)&&(e.tmpTimeline.description.en=o.stripHtmlTags(t.description.en)),e.tmpTimeline.name.en=o.stripHtmlTags(t.title.en),t}).then(function(t){n.getSingleAsset(t.master_asset_id).then(function(t){e.tmpTimeline.duration=t?t.duration:0,m(),b(e.tmpTimeline)})})}function b(t){function i(i){return n.storeTimeline(e.narrative._id,t).then(function(e){return{d:e,e:i}})}function a(i){var a=i.d,o=i.e;n.createEpisodeSegment(a._id,{episode_id:o._id,start_time:0,end_time:t.duration,sort_order:0,timeline_id:a._id}).then(function(t){a.episode_segments=[t],angular.forEach(e.narrative.timelines,function(e){e.sort_order===a.sort_order&&angular.extend(e,a)}),e.tmpTimeline=null,p(),g(e.narrative.timelines)})}function o(e){console.log(e)}r(t.index,e.narrative.timelines),n.createChildEpisode({parent_id:t.parent_episode._id}).then(i).then(a).catch(o)}function y(t){n.updateNarrative(t).then(function(t){e.editingNarrative=!1,angular.extend(e.narrative,t.data);var i=a.customers[t.data.customer_id];a.assocNarrativesWithCustomer(i,[t.data])})}function _(t,i){n.storeTimeline(e.narrative._id,t).then(function(e){angular.extend(i,e),p()})}var w={accept:function(){return!0},dropped:function(t){var i=t.dest.index;i!==t.source.index&&(r(i,e.narrative.timelines),s(e.narrative.timelines[i]))}};angular.extend(e,{toggleEditNarrativeModal:l,toggleEditingTimeline:c,doneEditingTimeline:p,toggleOwnership:d,toggleEpisodeList:m,updateNarrative:y,updateTimeline:_,addTmpTimeline:h,onEpisodeSelect:v,persistTmpTimeline:b,editorAction:u,deleteTimeline:f,exportToSpreadsheet:n.getNarrativeExportAsSpreadsheet,canAccess:!1,treeOpts:w}),function(){e.loading=!0,e.logout=t.logout,e.isOwner=!1,e.narrative=e.narrativeData,e.customers=e.customerData,console.log("custys",e.customers),e.user=i.user,(t.userHasRole("admin")||t.userHasRole("customer admin"))&&(e.canAccess=!0),e.loading=!1,g(e.narrative.timelines)}()}]}}t.a=n},kp07:function(e,t,i){"use strict";function n(e,t,i,n){return{restrict:"A",replace:!1,scope:{container:"=ittContainerEpisodes",forAdmin:"=forAdmin",onNodeClick:"&",rootContext:"="},templateUrl:"templates/containerepisodes.html",controller:function(e){e.selectEpisode=function(t){e.onNodeClick({node:t}),console.log("ctrl select epi",t)}},compile:function(a){return t.compile(a,function(t){t.containers=e.containers,t.crossEpisodePath=i.crossEpisodePath,t.episodeId=i.episodeId,t.loadChildren=function(){e.containers[t.container._id].haveNotLoadedChildData&&n.getContainer(t.container._id)},t.toggle=function(){t.container.wasClicked=!t.container.wasClicked}})}}}t.a=n,n.$inject=["modelSvc","recursionHelper","appState","dataSvc"]},kvzn:function(e,t){var i="templates/item/text-h2.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate headerItem"> <div class=category></div> <div class="item__text item__text--h2"> <h2 ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></h2> </div> </div> ')}]),e.exports=i},lfm7:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".unbranded .landingscreen{padding:10% 15%}.unbranded .landingscreen div{display:block}.unbranded .landingscreen p{margin:2em 0 1em}.unbranded .landingscreen .introtext{width:45%;float:right}.unbranded .landingscreen .videoMagnet{width:50%;float:left}@media screen and (max-width:501px){.unbranded .landingscreen div{display:block}.unbranded .landingscreen h1{font-size:24px}.unbranded .landingscreen p{margin:1em 0}.unbranded .landingscreen .introtext{width:100%;float:none;margin:0}.unbranded .landingscreen .videoMagnet{width:100%;float:none}}.unbranded .professional__branding{width:100%;height:210px;background:linear-gradient(rgba(0,0,0,.05),rgba(0,0,0,.25));position:relative;color:#fff;padding:10px}.unbranded .professional__branding .professional__copyright{text-shadow:1px 1px 0 rgba(0,0,0,.3);color:#fff}.unbranded .professional__branding .professional__copyright a{color:#fff;text-decoration:underline}.unbranded .altPane{background-color:rgba(0,0,0,.05)}.unbranded .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Open Sans;color:#fff;background-color:#ccc;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.unbranded .searchPanel__wrapper{font-family:Open Sans,sans-serif;font-weight:400;color:#000}.unbranded .searchPanel__wrapper .fake-link--search-results{color:#00c}.unbranded .searchResults{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .searchResults .item__link--escape-link,.unbranded .searchResults .item__link--fake-link,.unbranded .searchResults .item__title--link{font-family:Open Sans,sans-serif;font-weight:400;color:#000;color:#00c}.unbranded .searchResults .item__link--escape-link:before,.unbranded .searchResults .item__link--fake-link:before,.unbranded .searchResults .item__title--link:before{color:#000}.unbranded .item__title{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .item__title--file a,.unbranded .item__title--link a{color:#00c}.unbranded .item__link--fake-link{font-family:Open Sans,sans-serif;font-weight:400;color:#000;color:#00c}.unbranded .item__text{font-family:Open Sans,sans-serif;font-weight:400;color:#000}.unbranded .item__text--definition h1,.unbranded .item__text--definition h2,.unbranded .item__text--definition h3,.unbranded .item__text--h2,.unbranded .item__text--transmedia h1,.unbranded .item__text--transmedia h2,.unbranded .item__text--transmedia h3{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .item .item__text--pullquote{font-family:Droid Serif,serif;font-weight:400;color:#000}.unbranded .item .item__text--pullquote:before{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#ccc}.unbranded .item__text--image-caption,.unbranded .item__text--image-caption-sliding,.unbranded .item__title--image-caption,.unbranded .item__title--image-caption-sliding{color:#ddd}.unbranded .item__link--escape-link{font-family:Open Sans,sans-serif;font-weight:400;color:#000;color:#00c}.unbranded .item__link--escape-link:before{color:#000}.unbranded .item .displayTime,.unbranded .item .startTime{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#00c}.unbranded .item .displayTime:hover,.unbranded .item .startTime:hover{text-decoration:underline}.unbranded .item.colorInvert{background-color:#000!important}.unbranded .item.colorInvert .item__link--escape-link,.unbranded .item.colorInvert .item__link--escape-link:before,.unbranded .item.colorInvert .item__text,.unbranded .item.colorInvert .item__text:before,.unbranded .item.colorInvert .item__title a,.unbranded .item.colorInvert .item__title a:before,.unbranded .item.colorInvert a.displayTime.startTime,.unbranded .item.colorInvert a.displayTime.startTime:before,.unbranded .item.colorInvert h1,.unbranded .item.colorInvert h2,.unbranded .item.colorInvert h3{color:#ddd!important}.unbranded .content.allowHighlights .highlightSolid.item.isCurrent{background-color:hsla(0,0%,80%,.6)}.unbranded .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid hsla(0,0%,80%,.6)}.unbranded .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid hsla(0,0%,80%,.6)}.unbranded .content.allowHighlights .highlightBloom.item.isCurrent{background-color:hsla(0,0%,80%,.3);box-shadow:0 0 8px hsla(0,0%,80%,.3)}.unbranded .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Open Sans;color:#fff;background-color:#ccc;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.unbranded .centered .item__title--file,.unbranded .centered .item__title--link,.unbranded .centered .item__title--link.title--link-embed,.unbranded .centerVV .item__title--file,.unbranded .centerVV .item__title--link,.unbranded .centerVV .item__title--link.title--link-embed,.unbranded .cornerH .item__title--file,.unbranded .cornerH .item__title--link,.unbranded .cornerH .item__title--link.title--link-embed,.unbranded .cornerV .item__title--file,.unbranded .cornerV .item__title--link,.unbranded .cornerV .item__title--link.title--link-embed,.unbranded .onecol .item__title--file,.unbranded .onecol .item__title--link,.unbranded .onecol .item__title--link.title--link-embed,.unbranded .pip .item__title--file,.unbranded .pip .item__title--link,.unbranded .pip .item__title--link.title--link-embed,.unbranded .twocol .item__title--file,.unbranded .twocol .item__title--link,.unbranded .twocol .item__title--link.title--link-embed{font-family:Open Sans,sans-serif;font-weight:400;color:#000}.unbranded .centerVV-mondrian .static-bg__main{border:4px solid #000;background-color:#ccc}.unbranded .centerVV-mondrian .altPane{background-color:transparent}.unbranded .centerVV-mondrian .mainPane .item{background-color:#000}.unbranded .centerVV-mondrian .mainPane .item__text,.unbranded .centerVV-mondrian .mainPane .item__text--definition h1,.unbranded .centerVV-mondrian .mainPane .item__text--definition h2,.unbranded .centerVV-mondrian .mainPane .item__text--definition h3,.unbranded .centerVV-mondrian .mainPane .item__text--transmedia h1,.unbranded .centerVV-mondrian .mainPane .item__text--transmedia h2,.unbranded .centerVV-mondrian .mainPane .item__text--transmedia h3,.unbranded .centerVV-mondrian .mainPane .item__title,.unbranded .centerVV-mondrian .mainPane .item__title a{color:#ddd}.unbranded .centerVV-mondrian .mainPane .item.colorInvert{background-color:#ddd!important}.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__text,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.unbranded .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.unbranded .centerVV-mondrian .mainPane .item.colorInvert h1,.unbranded .centerVV-mondrian .mainPane .item.colorInvert h2,.unbranded .centerVV-mondrian .mainPane .item.colorInvert h3{color:#000!important}.unbranded .centerVV-mondrian .item__title--image,.unbranded .centerVV-mondrian .item__title--image-thumbnail,.unbranded .centerVV-mondrian .item__title--image-thumbnail a,.unbranded .centerVV-mondrian .item__title--image a,.unbranded .centerVV-mondrian .item__title--link,.unbranded .centerVV-mondrian .item__title--link a{font-family:Open Sans,sans-serif;font-weight:700;color:#000}.unbranded .centerVV-mondrian .item__link--fake-link{color:#ddd}.unbranded .centerVV-mondrian .item__link--escape-link{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#ddd}.unbranded .centerVV-mondrian .item__link--escape-link:before{color:#ccc}.unbranded .centerVV-mondrian .item .displayTime,.unbranded .centerVV-mondrian .item .startTime{font-family:Open Sans,sans-serif;font-weight:700;color:#000;color:#ddd}.unbranded .centerVV-mondrian .item .displayTime a,.unbranded .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},liE5:function(e,t,i){var n="templates/scene/endingscreen.html",a='<div class="endingscreen stretchToViewport"> <div class="pane introtext"> <p>Thanks for watching:&nbsp; <span ng-bind-html=episode.display_title></span> </p> <br> </div> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+"> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},m2IE:function(e,t,i){"use strict";(function(e){function n(e){e.when("/",{title:"Narrative Producer",templateUrl:"templates/root.html"}).when("/auth",{templateUrl:"templates/auth.html",reloadOnSearch:!1}).when("/account",{template:['<div class="standaloneAncillaryPage">','\t<itt-nav on-logout="logout()"></itt-nav>',"\t<h1>My Account</h1>","\t<div itt-user></div>","</div>"].join(""),controller:["$scope","authSvc",function(e,t){e.logout=t.logout}]}).when("/stories",{title:"Available Narratives",template:['<div class="standaloneAncillaryPage">','\t<itt-nav on-logout="logout()"></itt-nav>',"\t<h1>Narratives</h1>",'\t<div itt-narrative-list customers-data="customersResolve"></div>',"</div>"].join("\n"),controller:"NarrativesCtrl",resolve:{narrativesResolve:["$route","$q","ittUtils","authSvc","dataSvc","modelSvc",function(e,t,i,n,a,o){var r=o.getCustomersAsArray();return Object.keys(r).length>0?t(function(e){return e({c:r})}):n.authenticate().then(function(){return a.getCustomerList().then(function(e){return{c:e}})})}]}}).when("/story/:narrativePath",{template:['<div class="standaloneAncillaryPage">','\t<itt-nav on-logout="logout()"></itt-nav>','\t<div itt-narrative narrative-data="narrativeResolve" customer-data="customerResolve">',"</div>"].join(""),controller:"NarrativeCtrl",resolve:{narrativeResolve:["$route","$q","authSvc","dataSvc","modelSvc","ittUtils",function(e,t,i,n,a,o){var r,s=e.current.params.narrativePath,l=a.getNarrativeByPathOrId(s);return o.existy(l)&&o.existy(l.path_slug)&&o.existy(l.timelines)&&(l.path_slug.en===s||l._id===s)?(r=a.customers[l.customer_id],t(function(e){return e({n:l,c:[r]})})):n.getNarrative(s).then(function(e){return n.getCustomer(e.customer_id,!0).then(function(t){return{n:e,c:[t]}})})}]}}).when("/story/:narrativePath/:timelinePath",{template:"<div itt-narrative-timeline></div>",resolve:{product:["appState",function(e){e.product="player",e.productLoadedAs="narrative"}]}}).when("/projects",{title:"Available projects",templateUrl:"templates/producer/episodelist.html"}).when("/episode/:epId",{title:"Narrative Producer",controller:"PlayerController",templateUrl:"templates/player.html",resolve:{product:["appState",function(e){e.product="player",e.productLoadedAs="player"}]}}).when("/episode/:epId/:viewMode",{title:"Narrative Producer",controller:"PlayerController",templateUrl:"templates/player.html",resolve:{product:["appState",function(e){e.product="player",e.productLoadedAs="player"}]}}).when("/sxs/:epId",{title:"Narrative Producer",controller:"PlayerController",templateUrl:"templates/player.html",resolve:{product:["appState",function(e){e.product="sxs",e.productLoadedAs="sxs"}]}}).when("/editor/:epId",{title:"Narrative Producer",controller:"PlayerController",templateUrl:"templates/player.html",resolve:{product:["appState",function(e){e.product="sxs",e.productLoadedAs="sxs"}]}}).when("/producer/:epId",{title:"Narrative Producer",controller:"PlayerController",templateUrl:"templates/player.html",resolve:{product:["appState",function(e){e.product="producer",e.productLoadedAs="producer"}]}}).when("/assets/:containerId",{title:"Container Assets test",controller:"ContainerAssetsTestController",template:['<div class="standaloneAncillaryPage">','\t<itt-nav on-logout="logout()"></itt-nav>',"\t<div>",'\t\t<div sxs-container-assets="containerId" mime-key="assetLib"></div>',"\t</div>","</div>"].join(""),resolve:{authEffects:["authSvc",function(e){return e.authenticate().then(angular.noop)}]}}).when("/event/:eventId",{title:"Event test",controller:"EventTestController",templateUrl:"templates/testbed-event.html"}).otherwise({title:"Narrative Producer: Error",controller:"ErrorController",templateUrl:"templates/error-404.html"})}function a(e){e.resourceUrlWhitelist(["self",/.*/,/^http(s)?:\/\/platformuniv-p.edgesuite.net/,/^http(s)?:\/\/themes.googleusercontent.com/])}function o(e){e.defaults.useXDomain=!0,e.defaults.withCredentials=!0,delete e.defaults.headers.common["X-Requested-With"],e.interceptors.push(["$q","errorSvc",function(e,t){return{responseError:function(i){return i.data&&i.data.path_slug?e(function(e,t){return t(i)}):(t.error(i),e.reject(i))}}}])}function r(e){e.decorator("taOptions",["taRegisterTool","$delegate",function(e,t){return t.defaultFileDropHandler=function(e,t){},t.toolbar=[["h1","h2","h3"],["bold","italics","underline","strikeThrough"],["ul","ol"],["undo","redo","clear"]],t}])}function s(e){var t=!1,i=window.location.hostname;0!==i.indexOf("localhost")&&0!==i.indexOf("api-dev")||(t=!0),t===!1&&e.debugInfoEnabled(!1)}function l(t,i){t.$on("$routeChangeSuccess",function(e,t){document.title=t.title?t.title:"Narrative Producer",i.init()});var n=!1;e(document).on("keydown",function(e){n||"INPUT"===document.activeElement.tagName||"TEXTAREA"===document.activeElement.tagName||document.activeElement.attributes.contenteditable||(n=!0,27===e.keyCode&&(t.$emit("userKeypress.ESC"),e.preventDefault()),32===e.which&&(t.$emit("userKeypress.SPACE"),e.preventDefault()))}),e(document).on("keyup",function(){n=!1})}Object.defineProperty(t,"__esModule",{value:!0});var c=i("/jXN"),d=(i.n(c),i("mWUN")),m=(i.n(d),i("RLsg")),p=(i.n(m),i("AFu3")),u=(i.n(p),i("wdTO")),g=(i.n(u),i("mcSx")),f=(i.n(g),i("F8Uk")),h=(i.n(f),i("F2N4")),v=(i.n(h),i("w2z7"));i.n(v),i("21/g"),i("L5q0"),i("nzDx"),i("nuiU");[i("ZcPu"),i("9kaM")].forEach(function(e){e.keys().forEach(function(t){e(t)})});angular.module("iTT",["ngRoute","ngAnimate","ngSanitize","textAngular","ui.tree","itt.controllers","itt.filters","itt.services","itt.directives"]).constant("MIMES",{assetLib:"image/*,text/plain,application/pdf,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/rtf",file:"text/plain,application/pdf,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/rtf",default:"image/*",transcripts:"text/vtt,text/srt"}).constant("PLAYERSTATES",{"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video cued",4:"quality changed",6:"player ready"}).constant("PLAYERSTATES_WORD",{unstarted:"-1",ended:"0",playing:"1",paused:"2",buffering:"3","quality changed":"4","video cued":"5","player ready":"6"}).config(["$routeProvider",n]).config(["$sceDelegateProvider",a]).config(["$httpProvider",o]).config(["$provide",r]).config(["$compileProvider",s]).run(["$rootScope","errorSvc",l])}).call(t,i("7t+N"))},m47d:function(e,t){var i="templates/loading.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class=loading> <div class=spinner> <div class="rotating pie"></div> <div class="filler pie"></div> <div class=mask></div> </div> Loading </div> ')}]),e.exports=i},m8GK:function(e,t,i){"use strict";function n(e){return{restrict:"E",scope:!0,template:'<div ng-focus="showControls()" role="slider" aria-label="volume" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{currentVolume()}}" aria-valuetext="{{currentVolume()}}" tabindex="0" class="volumebar" ng-mousedown="userChangingVolume($event)" ng-keydown="onVolumeKeyDown($event)" aria-labelledby="volumeControlDescription"> <div class="volume" ng-style="{width: currentVolume()+\'%\'}"></div> <div id="volumeControlDescription" class="screen-reader-offscreen"> Use left and right arrows to increase or decrease the volume by 1. Use page up and page down to increase or decrease the volume by 10. Use home and end to move to the volume to the lowest and highest setting.  </div> ',multiElement:!1,link:function(t){function i(e){return e>98?100:e}function n(e){return e<3?0:e}function a(e){var n=t.currentVolume()+e;n=i(n),"function"==typeof t.setVolume&&t.setVolume(n)}function o(e){var i=t.currentVolume()-e;i=n(i),"function"==typeof t.setVolume&&t.setVolume(i)}t.appState=e,t.userChangingVolume=function(e){var i=angular.element(e.currentTarget),n=function(e,n){var a=(e.clientX-i.offset().left)/i.width()*100;a>98&&(a=100),a<3&&(a=0),n?t.setVolume(a):t.$apply(t.setVolume(a))};n(e,!0),i.bind("mousemove.volume",n),angular.element(document).bind("mouseup.volume",function(){angular.element(document).unbind("mouseup.volume"),i.unbind("mousemove.volume")})};var r={PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFTARROW:37,UPARROW:38,RIGHTARROW:39,DOWNARROW:40};t.onVolumeKeyDown=function(e){var t=e,i=!0;switch(t.keyCode){case r.LEFTARROW:o(1),i=!1;break;case r.RIGHTARROW:case r.UPARROW:a(1),i=!1;break;case r.DOWNARROW:o(1),i=!1;break;case r.PAGEUP:a(10),i=!1;break;case r.PAGEDOWN:o(10),i=!1;break;case r.HOME:o(100),i=!1;break;case r.END:a(100),i=!1;break;default:i=!0}i||(e.stopPropagation(),e.preventDefault())},t.currentVolume=function(){return e.muted?0:e.volume}}}}t.a=n,n.$inject=["appState"]},mNIM:function(e,t){var i="templates/scene/debug.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," <pre>{{scene | pretty}}</pre>")}]),e.exports=i},mbIM:function(e,t,i){var n="templates/scene/centered.html",a='<div class="scene centered" ng-class="scene.styleCss + \' \'+ scene.state"> <div class=col> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in mainBgItems| isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: (contentItems | isCurrent).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: contentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in (contentItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},mcsu:function(e,t,i){e.exports=i.p+"images/purdue-bg-85f3e053a6a3db042fafd81230e36cc6.svg"},"mfQ+":function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,"body{font-family:Open Sans,sans-serif}a{text-decoration:none}.title{font-size:1.2em;line-height:1em}.authorName,.category{font-size:.8em;font-weight:700}.typographySans{font-family:Open Sans,sans-serif}.item.typographySans,.item.typographySans a,.item.typographySans h1,.item.typographySans h2,.item.typographySans h3{font-family:Open Sans,sans-serif!important}.typographySerif{font-family:Droid Serif,serif}.item.typographySerif,.item.typographySerif a,.item.typographySerif h1,.item.typographySerif h2,.item.typographySerif h3{font-family:Droid Serif,serif!important}.typographyBook{font-family:EB Garamond,Adobe Garamond,Garamond,serif}.item.typographyBook h1,.item.typographyBook h2,.item.typographyBook h3{font-family:Trajan Pro,Trajan,EB Garamond,Adobe Garamond,Garamond,serif!important}.typographySwiss{font-family:Roboto,sans-serif}.item.typographySwiss,.item.typographySwiss a,.item.typographySwiss h1,.item.typographySwiss h2,.item.typographySwiss h3{font-family:Roboto,sans-serif!important}.typographySwiss .authorName,.typographySwiss .title{font-weight:300}.typographyEliterate{font-family:Arial,Helvetica,Tahoma,sans-serif;font-size:15px}.typographyGw{font-family:Helvetica,Arial,sans-serif;font-weight:300}.typographyGw .item a,.typographyGw.navPanel a,.typographyGw h1,.typographyGw h2,.typographyGw h3{font-family:Montserrat,sans-serif}.typographyGw h1,.typographyGw h2,.typographyGw h3{font-weight:700}.typographyGw .item .title{font-family:Montserrat,sans-serif;font-weight:400;font-size:1em;line-height:1.2em}.typographyGw .item .pullquote,.typographyGw .item .pullquote:before,.typographyGw .item .pullquoteSpeaker{font-family:Cardo,serif}.typographyUsc{font-family:National,Helvetica Neue,Helvetica,Arial,sans-serif}.typographyUsc .headerItem,.typographyUsc h1,.typographyUsc h2,.typographyUsc h3{font-family:Adobe Caslon,Crimson Text,serif}.typographyUsc .item .pullquote:before{line-height:.7em}.typographyPurdue{font-family:Myriad Pro,Arial}.typographyPurdue h1,.typographyPurdue h2,.typographyPurdue h3{font-family:Champion,Impact,Charcoal,sans-serif;letter-spacing:1px}.typographyPurdue .headerItem{font-family:Chaparral Pro,Times New Roman,Times,serif}.typographyColumbia{font-family:EB Garamond,Adobe Garamond,Garamond,serif}.typographyColumbia h1,.typographyColumbia h2,.typographyColumbia h3{font-family:Trajan Pro,Trajan,EB Garamond,Adobe Garamond,Garamond,serif!important}.typographyColumbiabusiness{font-family:Source Sans,Arial,Helvetica,sans-serif}.typographyColumbiabusiness .authorName,.typographyColumbiabusiness .startTime,.typographyColumbiabusiness .title{font-size:22px!important;line-height:26px!important;font-weight:300!important}.typographyColumbiabusiness .pullquote{min-height:60px;font-size:30px;line-height:35px;font-weight:300;color:#205f9c;padding-left:60px;background:url("+i("Xnpf")+") 0 0 no-repeat}.typographyColumbiabusiness .pullquote:before{display:none!important}.typographyGwsb{font-family:EB Garamond,Adobe Garamond,Garamond,serif}.typographyGwsb .authorName,.typographyGwsb h1,.typographyGwsb h2,.typographyGwsb h3{font-family:Helvetica,sans-serif}.typographyGwsb .item .pullquote,.typographyGwsb .item .pullquoteSpeaker{font-family:Helvetica,sans-serif;font-weight:lighter}.typographyGwsb .item .pullquote:before{font-family:Cardo,serif;font-size:6em}.episode-kellogg{font-family:Arial,Helvetica,sans-serif;background-color:#e9e9e9}.episode-kellogg h1{font-family:Gotham,Arial,Helvetica,sans-serif}.episode-kellogg .item a,.episode-kellogg.navPanel a,.episode-kellogg h2,.episode-kellogg h3{font-family:Georgia;font-style:italic}.escapelink:before{font-style:normal!important}.episode-kellogg .item a.startTime{font-family:Gotham,Arial,Helvetica,sans-serif;font-style:normal}",""])},ms3E:function(e,t,i){var n="templates/episode/components/reviewmode-scenes.html",a='<div class="scene animate transitionFade" ng-class="{navigable: scene.display_title}" ng-repeat="scene in scenes" ng-if=!scene._internal> <div class="pane mainPane"> <div class="content allowHighlights" ng-class="{isNarrow: isNarrow}" itt-width-watch> <h1 class=sceneTitle ng-if=scene.display_title ng-bind-html=scene.display_title></h1> <div ng-if="appState.windowWidth < 480" class="item animate" ng-repeat="item in scene.items| reviewMode | orderBy:\'start_time\'" ng-class="item.state + \' \' + item.uscReviewModeHack" itt-item=item forcetemplate=review-all></div> <div ng-if="appState.windowWidth >= 480" class="item animate" ng-repeat="item in scene.items | reviewMode | annotation | orderBy:\'start_time\'" ng-class=item.state itt-item=item forcetemplate=review-annotation></div> </div> </div> <div ng-if="appState.windowWidth >= 480" class="pane altPane"> <div class="content allowHighlights" ng-class="{isNarrow: isNarrow}" itt-width-watch> <img ng-if="$index==1" src='+i("rXKF")+' class=videoPadding> <div class="item animate" ng-repeat="item in scene.items | reviewMode | transmedia" ng-class="item.state + \' \' + item.uscReviewModeHack" itt-item=item forcetemplate=review-transmedia> </div> </div> </div> </div> <itt-loading ng-if=isLoading></itt-loading> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},nA8d:function(e,t,i){e.exports=i.p+"images/middlebury-shield-7834a4633df9f1aabab04bf7726647aa.svg"},nTc6:function(e,t,i){"use strict";function n(e){var t={};return t.keepJsLintHappy=function(){e.episodes.noop},t.mockEpisode=function(t){e.cache("episode",{_id:t,created_at:"2014-04-10T02:02:15Z",description:{en:"The Business Case for Sustainability"},master_asset_id:"masterasset",title:{en:"Test Episode"},languages:[{code:"en",default:!0}],status:"Published",templateUrl:"templates/episode/gwsb.html",styles:["","",""]}),e.cache("asset",{_id:"masterasset",_type:"Asset::Video",alternate_urls:["https://www.youtube.com/watch?v=dTAAsCNK7RA&list=RDHCffYp01sXKH8","https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays%20sXs/9aPKP5AJNJdH-UEQ2EB9jg.m3u8","https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays%20sXs/9aPKP5AJNJdH-UEQ2EB9jg_416x234.webm","https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays%20sXs/9aPKP5AJNJdH-UEQ2EB9jg_960x540.webm","https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays%20sXs/9aPKP5AJNJdH-UEQ2EB9jg_416x234.mp4","https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays%20sXs/9aPKP5AJNJdH-UEQ2EB9jg_960x540.mp4"],attachment:"Sustainability_Pays_for_Demo_1.mp4",base_path:"development/Test Customer/SLIC/The Business Case/Sustainability Pays sXs",content_type:"video/mp4",duration:"443.199313",extension:"mp4",file_size:338886327,filename:"Sustainability_Pays_for_Demo_1.mp4",frame_rate:"10000000/417083",frame_rate_d:417083,frame_rate_n:1e7,height:720,name:"Sustainability Pays for Demo 1",original_filename:"Sustainability_Pays_for_Demo_1.mp4",start_time:"0.000000",status:"complete",url:"https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays%20sXs/Sustainability_Pays_for_Demo_1.mp4",width:1280});for(var i={_id:"-",_type:"Scene",description:{en:"Scene <b>description</b> Description"},keywords:[],start_time:0,end_time:200,type:"Scene",episode_id:t,cur_episode_id:t,layouts:["",""],styles:["transitionSlideL"]},n=["templates/scene/cornerH.html","templates/scene/cornerV.html","templates/scene/2colL.html","templates/scene/2colR.html","templates/scene/centered.html","templates/scene/1col.html"],a=0;a<10;a++){var o=angular.copy(i);o._id="scene-"+a,o.title=a/2===Math.floor(a/2)?{en:"Scene "+(a+1)+" Title"}:{en:""},o.start_time=20*a,o.end_time=20*a+20,o.templateUrl=n[a%n.length],e.cache("event",o)}var r={_id:"",_type:"Annotation",annotation:{en:"Transcript text: <b>html</b> included!"},annotation_image_id:"asset3",annotator:{en:"Speaker Name"},cosmetic:!1,episode_id:t,cur_episode_id:t,required:!1,stop:!1,type:"Annotation",templateUrl:"templates/item/transcript-withthumbnail.html",styles:["colorInvert"]},s=["sidebarL","sidebarR","inline"],l=["templates/item/text-h1.html","templates/item/pullquote.html","templates/item/text-h2.html"];for(a=0;a<30;a++){var c=angular.copy(r);c._id="transcript-"+a,c.annotation={en:"Transcript block number "+(a+1)},c.start_time=5*a,c.end_time=5*a+5,c.layouts=[s[a%s.length]]}for(a=0;a<10;a++){var d=angular.copy(r);d._id="annotation-"+a,d.start_time=6*a,d.end_time=6*a+3,d.templateUrl=l[a%l.length],e.cache("event",d)}for(a=0;a<10;a++){var m=angular.copy(r);m._id="longtext-"+a,m.start_time=7*a,m.end_time=7*a+7,m.styles=["timestampNone"],m.annotation={en:"A way a long a last a loved along the riverrun, past Eve and Adam's, from swerve of shore to bend of bay, brings us by a commodius vicus of recirculation back to Howth Castle and Environs. Sir Tristram, <i>violer d'amores</i>, fr'over the short sea, had passencore rearrived from North Armorica on this side the scraggy isthmus of Europe Minor to wielderfight his penisolate war"},m.templateUrl="templates/item/text-transmedia.html",e.cache("event",m)}e.cache("asset",{_id:"asset1",_type:"Asset::Image",url:"https://s3.amazonaws.com/itt.uploads/development/Test%20Customer/SLIC/The%20Business%20Case/Sustainability%20Pays/Sustainability_Scorecard_1.jpg",extension:"jpg",name:"Sustainability Scorecard 1"}),e.cache("asset",{_id:"asset2",_type:"Asset::Image",url:"http://placehold.it/350x350",extension:"jpg",name:"350x350 placeholder"}),e.cache("asset",{_id:"asset3",_type:"Asset::Image",url:"http://placehold.it/64x64",extension:"jpg",name:"64x64 placeholder"}),e.cache("asset",{_id:"asset4",_type:"Asset::Image",url:"http://placehold.it/900x900",extension:"jpg",name:"900x900 placeholder"});var p={_id:"",_type:"Link",link_image_id:"asset1",url:"https://luminarydigitalmedia.com",title:{en:"Link Title"},description:{en:"Link Description <i>lorem</i> ipsum dolor frog a frog oh lord it's amet lorem ipsum buddy lorem ipsum dolor frog a frog oh lord it's amet lorem ipsum buddy lorem ipsum dolor frog a frog oh lord it's amet lorem ipsum buddy"},cosmetic:!1,stop:!1,type:"Link",episode_id:t,cur_episode_id:t,templateUrl:"templates/item/link-withimage.html",layouts:["inline"],styles:["timestampNone"],isContent:!0};for(a=0;a<30;a++){var u=angular.copy(p);u._id="link-"+a,u.required=Math.random()>.5,u.start_time=3*a,u.end_time=3*a+3,u.layouts=[s[a%s.length]],e.cache("event",u)}var g={_id:"",_type:"Plugin",producerItemType:"question",episode_id:t,cur_episode_id:t,templateUrl:"templates/item/question-mc.html",style_id:[],layout_id:[],title:{},data:{_id:"",_pluginType:"question",_version:2,_plugin:{questiontext:"Some question text?",questiontype:"mc-formative",distractors:[{text:"a",index:1},{text:"b",index:2},{text:"c",correct:!0,index:3},{text:"",index:4}],correctfeedback:"Great!",incorrectfeedback:"Doh!",_type:"question"}}};for(a=0;a<10;a++){var f=angular.copy(g);f._id="question-"+a,f.required=Math.random()>.5,f.start_time=5*a,f.end_time=5*a+5,f.layouts=[s[a%s.length]],e.cache("event",f)}var h={_id:"",_type:"Plugin",type:"Plugin",producerItemType:"question",episode_id:t,cur_episode_id:t,templateUrl:"templates/item/question-mc.html",style_id:[],layout_id:[],data:{_id:"",_pluginType:"question",_version:2,_plugin:{questiontext:"Some question text?",questiontype:"mc-poll",distractors:[{text:"a",index:1},{text:"b",index:2},{text:"c",index:3},{text:"",index:4}],_type:"question"}}};for(a=0;a<10;a++){var v=angular.copy(h);v._id="question-"+a,v.required=Math.random()>.5,v.start_time=6*a,v.end_time=6*a+6,v.layouts=[s[a%s.length]],e.cache("event",v)}var b={_type:"Upload",description:{en:"Description of an upload item"},required:!1,cosmetic:!0,stop:!1,type:"Upload",episode_id:t,cur_episode_id:t,templateUrl:"templates/item/image-caption.html",styles:["transitionFade","tl"],layouts:["inline"]};for(a=0;a<30;a++){var y=angular.copy(b);y._id="upload-"+a,y.asset_id="asset2",y.title={en:"Upload number "+(a%3+1)},y.start_time=4*a,y.end_time=4*a+4,y.layouts=[s[a%s.length]],e.cache("event",y)}var _=["mainFg","altFg","videoOverlay"];for(a=0;a<8;a++){var w=angular.copy(b);w.layouts=[_[a%_.length]],w._id="filltest-"+a,w.asset_id="asset2",w.start_time=2*a,w.end_time=2*a+2,w.templateUrl="templates/item/image-fill.html",w.styles.push("cover"),e.cache("event",w)}e.resolveEpisodeEvents(t),e.resolveEpisodeAssets(t)},t}t.a=n,n.$inject=["modelSvc"]},nUEZ:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:{data:"=",modelOpts:"=?"},template:['<div class="field">','\t<div class="label">Description [{{descriptionField.lang}}]</div>','\t<div class="input" ng-model-options="descriptionField.modelOpts" sxs-input-i18n="descriptionField.data.description" x-inputtype="\'textarea\'"></div>',"</div>"].join(" "),controller:["appState","ittUtils",function(e,t){var i=this;i.lang=e.lang,t.existy(i.modelOpts)||(i.modelOpts={updateOn:"default"})}],controllerAs:"descriptionField",bindToController:!0}}t.a=n},nd4G:function(e,t,i){var n="templates/item/usc-badges-inner.html",a='<span> <img style=max-width:5em;float:left;margin-right:.5em ng-src={{plugin.credlyImageUrl}}> <b>{{plugin.achievement}}</b> <span ng-if=plugin.eligibleForBadges> <p>Complete the following requirements to earn a <a ng-href=https://credly.com/recipients/{{plugin.credlyBadgeId}} target=_blank>USC Scholar\'s Badge</a>:</p> <div style="clear:both;margin:1em 1.2em;font-size:90%"> <div ng-repeat="req in plugin.requirements"> <img ng-if=req.achieved style=width:1em;height:1em;margin-left:-1.2em src='+i("6/Qv")+"> <img ng-if=!req.achieved style=width:1em;height:1em;margin-left:-1.2em src="+i("FUk5")+'> <span style="">{{req.name}}</span> </div> </div> <p ng-if="plugin.totalAchieved != plugin.requirements.length"> You have completed {{plugin.totalAchieved}} of {{plugin.requirements.length}} parts of this achievement. </p> <div ng-if="plugin.totalAchieved == plugin.requirements.length && !plugin.gotBadge"> <p>Congratulations! You are eligible for a USC Scholar’s Badge. Enter your email address to claim it:</p> <input type=text ng-model=plugin.userEmail> <input type=button value=Go ng-click=badger()> <span ng-if=plugin.gettingBadge> <small>Getting your badge...</small> </span> <div ng-if=plugin.error> <small>We\'re sorry, there was an error retrieving your badge. Please try again later.</small> </div> </div> <div ng-if=plugin.gotBadge> Your badge is in the mail. <span ng-if=plugin.alreadyHadBadge>(It looks like you\'ve already acquired this badge; you might want to check your spam folder for an email from credly.com.)</span> </div> </span> <span ng-if=!plugin.eligibleForBadges> <p>We\'re sorry, guest users are not eligibile for USC Scholar\'s Badges.</p> </span> </span> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},nuiU:function(e,t,i){"use strict";var n=i("/jXN"),a=(i.n(n),i("8Vj+")),o=i("CJdj"),r=i("HH1W"),s=i("TyVf"),l=i("b3US"),c=i("Zepx"),d=i("kp07"),m=i("nUEZ"),p=i("eFPH"),u=i("6ZZG"),g=i("EB+x"),f=i("IP7z"),h=i("sOsL"),v=i("8AxP"),b=i("oZtQ"),y=i("6WTw"),_=i("ERHl"),w=i("Kbx8"),x=i("qimA"),A=i("9Qqj"),k=i("SW7p"),S=i("/Tte"),C=i("y07u"),I=i("S4ej"),E=i("D04R"),T=i("RkHS"),V=i("WgQw"),P=i("6Uqt"),B=i("TCh5"),M=i("IYeu"),U=i("ThCS"),D=i("CIcw"),N=i("6cdr"),R=i("kWQC"),F=i("v60G"),L=i("5HMG"),z=i("Airc"),H=i("RszC"),O=i("jMO+"),$=i("tKiK"),Q=i("0U0Q"),j=i("aUWm"),G=i("jKfP"),q=i("cwCz"),Y=i("P0G9"),J=i("SE1D"),K=i("6FL4"),W=i("Qwfd"),X=i("JcUc"),Z=i("tJQX"),ee=i("+8X+"),te=i("LfrF"),ie=i("ILav"),ne=i("bqUP"),ae=i("+YBj"),oe=i("wyXa"),re=i("zvbA"),se=i("6MZv"),le=i("cz+l"),ce=i("XUxW"),de=i("14zs"),me=i("UPiC"),pe=i("tCwg"),ue=i("QB9z"),ge=i("Kp/C"),fe=i("oOmb"),he=i("/ddf"),ve=i("2EyI"),be=i("10O6"),ye=i("xJIa"),_e=i("6tVy"),we=i("I0Kr"),xe=i("JhL8"),Ae=i("YXNl"),ke=i("m8GK"),Se=i("REU/"),Ce=i("Bina"),Ie=i("yIcp"),Ee=i("rVeU"),Te=i("ijfh"),Ve=i("9Z/6"),Pe=i("jgzK");angular.module("itt.directives",[]).directive("ittAnnotationField",o.a).directive("ittAssetUploader",r.a).directive("ittClipboard",s.a).directive("ittColorSelect",l.a).directive("ittContainer",c.a).directive("ittContainerEpisodes",d.a).directive("ittDescriptionField",m.a).directive("ittDisplaySelect",p.a).directive("ittDynamicModel",u.a).directive("ittEditPencil",g.a).directive("ittEpisode",f.a).directive("ittEpisodeEditor",h.a).directive("ittEpisodeList",v.a).directive("ittFileField",b.a).directive("ittFilesHandler",y.a).directive("ittFlags",_.a).directive("ittFlotr2Chart",w.a).directive("ittGuestAccessibleUrl",x.a).directive("ittHighlightSelect",A.a).directive("ittIframe",k.a).directive("ittImageField",S.a).directive("ittItem",C.a).directive("ittItemDetailModal",I.a).directive("ittItemEditor",E.a).directive("ittLanguageFlags",T.a).directive("ittLanguageSelect",V.a).directive("ittLoading",P.a).directive("ittLogin",B.a).directive("ittMagnet",M.a).directive("ittMagnetized",U.a).directive("ittMcQuestion",D.a).directive("ittModal",N.a).directive("ittNarrative",R.a).directive("ittNarrativeEditor",F.a).directive("ittNarrativeList",L.a).directive("ittNarrativeTimeline",z.a).directive("ittNav",H.a).directive("ittOptionsDisabled",O.a).directive("ittQuestionOptions",$.a).directive("ittQuestionTextField",Q.a).directive("ittQuestionTypeSelect",j.a).directive("ittReviewMode",G.a).directive("ittRouteLoading",q.a).directive("ittScene",Y.a).directive("ittSearchPanel",J.a).directive("ittShowFocus",K.a).directive("ittShowHideVisualOnly",W.a).animation(".visual-hide",W.b).directive("ittSpeakerField",X.a).directive("ittSpeakerThumbField",Z.a).directive("ittTabs",ee.a).directive("ittTab",te.a).directive("ittTemplateSelect",ie.a).directive("ittTimeField",ne.a).directive("ittTimeline",ae.a).directive("ittTimelineEditor",oe.a).directive("ittTimestampSelect",re.a).directive("ittTitleField",se.a).directive("ittToolbarStory",le.a).directive("ittTooltip",ce.a).directive("ittTranscriptField",de.a).directive("ittTransitionSelect",me.a).directive("ittTypographySelect",pe.a).directive("ittUploadTranscripts",ue.a).directive("ittUrlField",ge.a).directive("ittUser",fe.a).directive("ittValidAsset",he.a).directive("ittValidationTip",ve.a).directive("ittValidEpisodeUrl",be.a).directive("ittValidItemUrl",ye.a).directive("ittValidPathslug",_e.a).directive("ittValidUrl",we.a).directive("ittVideo",xe.a).directive("ittVideoPositionSelect",Ae.a).directive("ittVolumeSlider",ke.a).directive("ittWidthWatch",Se.a).directive("nysCopyright",Ce.a).directive("sxsAddContent",Ie.a).directive("sxsAnnotatorAutocomplete",Ee.a).directive("sxsContainerAssets",Te.a).directive("sxsInputI18n",Ve.a).directive("sxsInputTime",Pe.a).directive("autofocus",a.a)},nzDx:function(e,t,i){"use strict";var n=i("/jXN"),a=(i.n(n),i("tBUA")),o=i("sHgY"),r=i("OQ8S"),s=i("GFLf"),l=i("3v+Y"),c=i("EjJI"),d=i("YszC"),m=i("5ZNW"),p=i("q5cY"),u=i("nTc6"),g=i("+T8Q"),f=i("yAf5"),h=i("JO9A"),v=i("htkf"),b=i("Sbj4"),y=i("QbAl"),_=i("X1F8"),w=i("IyJH"),x=i("i/L1"),A=i("DkvC"),k=i("MGUg"),S=i("j/mI"),C=i("CnAb"),I=i("y48G"),E=i("AtYD"),T=i("1wG1");angular.module("itt.services",[]).factory("appState",o.a).factory("authSvc",r.a).factory("awsSvc",s.a).factory("config",l.a).factory("dataSvc",c.a).factory("errorSvc",d.a).factory("imageResize",m.a).factory("ittUtils",p.a).factory("mockSvc",u.a).factory("modelSvc",g.a).factory("playbackService",f.a).factory("questionAnswersSvc",h.a).factory("recursionHelper",v.a).factory("selectService",b.a).factory("timelineSvc",y.a).factory("urlService",_.a).factory("playerManagerCommons",w.a).factory("html5PlayerManager",x.a).factory("html5UrlService",A.a).factory("kalturaPlayerManager",k.a).factory("kalturaScriptLoader",S.a).factory("kalturaUrlService",C.a).factory("youTubePlayerManager",I.a).factory("YTScriptLoader",E.a).factory("youtubeUrlService",T.a).factory("analyticsSvc",a.a)},oOmb:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r){return{restrict:"A",replace:!0,scope:{},templateUrl:"templates/user.html",link:function(s,l,c){function d(){s.isEditing=!s.isEditing}s.inPlayer=c.inPlayer,s.appState=t,s.loading=!0,s.logout=i.logout,s.canAccess=i.userHasRole("admin")||i.userHasRole("customer admin"),i.authenticate().then(function(){s.loading=!1,s.user=t.user,s.userHasRole=i.userHasRole}),s.isEditing=!1,s.toggleEditing=d,s.uploadStatus=[],s.toggleUploadAvatar=function(){s.showUploadField=!s.showUploadField},s.uploadAvatar=function(i){function n(e){return r.resizeImg(e,60,60,!0).then(function(e){return e})}function l(t){return e(function(e){e(r.createFileFromDataURL(t,i[0].name))})}function c(e){a.uploadUserFiles(t.user._id,[e])[0].then(function(e){s.showUploadField=!1,o.cache("asset",e.file),t.user.avatar_id,t.user.avatar_id=e.file._id,s.updateUser(),delete s.uploads})}s.uploadStatus[0]={bytesSent:0,bytesTotal:1},r.readFileToImg(i[0]).then(n).then(l).then(c).catch(function(e){console.log("something failed resizing / uploading the image",e)})},s.updateUser=function(){i.updateUser(t.user).then(function(){s.user=t.user})},s.getMyNarratives=function(){n.getUserNarratives(s.user._id).then(function(e){s.myPurchases=e,angular.forEach(s.myPurchases,function(e){e.daysUntilExpiration=Math.floor((new Date(e.expiration_date)-new Date)/864e5),n.getNarrativeOverview(e.narrative_id).then(function(e){angular.forEach(s.myPurchases,function(t){t.narrative_id===e._id&&(t.narrativeData=e)})})})})}}}}t.a=n,n.$inject=["$q","appState","authSvc","dataSvc","awsSvc","modelSvc","imageResize"]},oZrc:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,'.rootLogin h1{font-size:1em}.rootLogin form{padding-bottom:1em}.rootLogin .error{color:red}.rootLogin label{display:block;width:100%;margin:.2em 0}.rootLogin label span{width:30%;display:inline-block}.rootLogin label input{width:70%;font-size:1em;padding:.1em}.rootLogin .submit{float:right}.admin{margin:1em}.admin small{opacity:.3;float:right;text-align:right}.container{list-style:none;clear:both}.container .controls{background-color:#fdfdfd;text-align:right;font-size:.9em;clear:right}.container span.controls{background:none;float:right}.container input{width:50%}.episodePicker{margin-bottom:1em;margin-left:1em;margin-right:1em;padding:.5em}.admin,.episodePicker{background:none repeat scroll 0 0 #fff;border:1px solid;box-shadow:4px 4px 20px rgba(0,0,0,.3);position:absolute}.admin,.episodePicker{margin:0;width:100%;height:100%;padding:1em;overflow:auto}.itt__modal{max-height:calc(100% - 100px);position:fixed;width:85%;height:85%;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10}.narrative__index{display:flex;justify-content:center;align-items:center;position:fixed;width:100%;height:100%;top:0;left:0;z-index:10}.container.customer{margin-left:0}.isClosed,.isOpen{cursor:pointer}.isOpen:before{content:"\\25BE"}.isClosed:before,.isOpen:before{display:inline-block;width:1em;opacity:.5;float:left}.isClosed:before{content:"\\25B8"}.published__state{position:relative;float:right;color:#dc6026}.isPublished,.isUnPublished{font-family:Story;padding:5px}.isUnPublished{color:#595a5a}.isPublished:before{content:"\\E906"}.isUnPublished:before{content:"\\E908"}.admin .danger{background-color:#c00!important;color:#fff}input.readonly{border:none;width:100%;background:none;font-size:.9em}',""])},oZtQ:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:!0,template:['<div class="field">','\t<div class="label">File','\t\t<itt-validation-tip ng-if="ittItemForm.itemAsset.$invalid" text="File is required"></itt-validation-tip>',"\t</div>",'\t<div class="input" ng-include="\'templates/producer/upload-producer.html\'"></div>',"</div>"].join(" ")}}t.a=n},oa1I:function(e,t,i){e.exports=i.p+"images/WSBCTC_Star-e530063e837ccdfb1c35fc01a07c0d2c.svg"},p2SB:function(e,t){var i="templates/producer/item.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div class=\"itemEdit authoringForm\"> <form name=ittItemForm class=doValidate> <div ng-if=\"appState.product == 'sxs'\" class=authoringFormScrollContainer> <itt-time-field></itt-time-field> <div ng-include=itemEditor></div> </div> <div ng-if=\"appState.product == 'producer'\"> <div itt-tabs class=ittTabs> <div itt-tab class=ittTab ng-if=\"selectService.showTab(item.producerItemType, 'Item')\" title=\"{{item.producerItemType | capitalize}}\"> <label ng-if=\"languages.length > 1\" style=float:right;padding-right:24px for=itemLangSelect>Current Language <select id=itemLangSelect size=1 ng-model=appState.lang ng-change=forcePreview() ng-options=\"language.code as ('['+language.code.toUpperCase()+']') for language in languages\"> </select> </label> <div ng-switch on=item.producerItemType> <div ng-switch-when=link> <itt-time-field></itt-time-field> <itt-title-field do-validate=true data=item itt-item-form=ittItemForm></itt-title-field> <itt-url-field data=item></itt-url-field> <itt-description-field data=item></itt-description-field> <itt-template-select data=item item-form=itemForm></itt-template-select> <itt-image-field></itt-image-field> <itt-flags data=item item-form=itemForm flags=\"['required', 'stop', 'cosmetic']\"></itt-flags> </div> <div ng-switch-when=transcript> <itt-time-field></itt-time-field> <itt-speaker-field></itt-speaker-field> <itt-transcript-field data=item itt-item-form=ittItemForm></itt-transcript-field> <itt-speaker-thumb-field></itt-speaker-thumb-field> </div> <div ng-switch-when=annotation> <itt-time-field></itt-time-field> <itt-title-field data=item></itt-title-field> <itt-annotation-field data=item itt-item-form=ittItemForm></itt-annotation-field> <itt-template-select data=item item-form=itemForm></itt-template-select> <itt-speaker-field></itt-speaker-field> <itt-flags data=item item-form=itemForm flags=\"['stop', 'cosmetic', 'chapter_marker', 'invertColor']\"></itt-flags> </div> <div ng-switch-when=file> <itt-time-field></itt-time-field> <itt-title-field do-validate=true data=item itt-item-form=ittItemForm></itt-title-field> <itt-file-field></itt-file-field> <itt-description-field data=item></itt-description-field> <itt-flags data=item item-form=itemForm flags=\"['required', 'stop', 'cosmetic']\"></itt-flags> </div> <div ng-switch-when=image> <itt-time-field></itt-time-field> <itt-title-field do-validate=true data=item itt-item-form=ittItemForm></itt-title-field> <itt-image-field></itt-image-field> <itt-description-field data=item></itt-description-field> <itt-template-select data=item item-form=itemForm></itt-template-select> <itt-display-select data=item item-form=itemForm></itt-display-select> <itt-flags data=item item-form=itemForm flags=\"['required', 'stop', 'cosmetic']\"></itt-flags> </div> <div ng-switch-when=question> <span class=\"eventIcon icon-question\"></span> <itt-time-field></itt-time-field> <itt-title-field do-validate=true data=item itt-item-form=ittItemForm></itt-title-field> <itt-question-text-field data=item do-validate=false itt-item-form=ittItemForm></itt-question-text-field> <itt-question-type-select data=item></itt-question-type-select> <itt-image-field></itt-image-field> <itt-question-options></itt-question-options> </div> <div ng-switch-when=chapter> <itt-time-field></itt-time-field> <itt-title-field do-validate=true data=item itt-item-form=ittItemForm></itt-title-field> <itt-description-field data=item></itt-description-field> </div> <div ng-switch-when=video> <h4>{{item.producerItemType}}</h4> </div> <div ng-switch-default> <h4>Default!</h4> </div> </div> </div> <div itt-tab class=ittTab ng-if=\"selectService.showTab(item.producerItemType, 'Style')\" title=\"{{item.producerItemType === 'scene' ? 'Layout' : 'Style'}}\"> <div ng-switch on=item.producerItemType> <div ng-switch-when=link> <itt-display-select></itt-display-select> </div> <div ng-switch-when=transcript> <itt-template-select data=item item-form=itemForm></itt-template-select> </div> <div ng-switch-when=annotation> <itt-display-select></itt-display-select> </div> <div ng-switch-when=scene> <itt-time-field></itt-time-field> <itt-template-select data=item item-form=itemForm></itt-template-select> <itt-video-position-select></itt-video-position-select> <itt-display-select data=item></itt-display-select> </div> <div ng-switch-when=question> <itt-template-select data=item item-form=itemForm></itt-template-select> <itt-display-select data=item item-form=itemForm></itt-display-select> <itt-flags data=item item-form=itemForm flags=\"['required', 'stop', 'cosmetic']\"></itt-flags> </div> <div ng-switch-when=chapter> <h4>{{item.producerItemType}}</h4> </div> <div ng-switch-when=video> <h4>{{item.producerItemType}}</h4> </div> <div ng-switch-default> <h4>Default!</h4> </div> </div> </div> <div itt-tab class=ittTab ng-if=\"selectService.showTab(item.producerItemType, 'Customize')\" title=Customize> <div ng-switch on=item.producerItemType> <div ng-switch-when=link> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=transcript> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=annotation> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=scene> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=file> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=image> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=question> <itt-typography-select></itt-typography-select> <itt-color-select></itt-color-select> <itt-timestamp-select></itt-timestamp-select> <itt-highlight-select></itt-highlight-select> <itt-transition-select></itt-transition-select> </div> <div ng-switch-when=chapter> <h4>{{item.producerItemType}}</h4> </div> <div ng-switch-when=video> <h4>{{item.producerItemType}}</h4> </div> <div ng-switch-default> <h4>Default!</h4> </div> </div> </div> </div> </div> <div class=ittTabFoot> <a ng-click=cancelEdit()>Cancel</a> &nbsp; &nbsp; <button ng-if=\"\n\t\t\titem._id != 'internal:editing' &&\n\t\t\t!(item._type == 'Scene' && item.start_time <= 0.01)\n\t\t\" ng-click=deleteEvent(item._id)>Delete </button> <button ng-click=saveEvent() ng-disabled=\"blockDoubleClicks || ittItemForm.$invalid\">Save</button> </div> </form> </div> ")}]),e.exports=i},"p3P+":function(e,t,i){var n="templates/player.html",a='<div ng-class="{\n\tisTouchDevice: appState.isTouchDevice,\n\tisFramed: appState.isFramed,\n\tisProducer: (appState.product == \'producer\'),\n\tisSxS: (appState.product == \'sxs\'),\n\n\tcanEditContent: (!appState.editEvent && !appState.editEpisode) && (appState.product == \'producer\' || appState.product == \'sxs\')\n\t}"> <div class=player> <itt-toolbar-story></itt-toolbar-story> <itt-loading ng-if=loading></itt-loading> <div ng-show=!loading itt-episode ng-class="{\n\t\tpadForEditing: appState.editEvent || appState.editEpisode,\n\t\tshowBackgroundOnly: appState.producerEditLayer < 0,\n\t\tshowForegroundOnly: appState.producerEditLayer > 0,\n\t}"></div> <div class=toolbar-bottom itt-show-hide-visual-only=appState.videoControlsActive ng-mouseenter=showControls(); ng-click=showControls(); ng-mouseleave=allowControlsExit()> <div class=toolbar-bottom-fill> <div ng-show="appState.editEvent || appState.editEpisode" class="navPanel editPanel"> <div ng-if=appState.editEvent itt-item-editor=appState.editEvent></div> <div ng-if=appState.editEpisode itt-episode-editor=appState.editEpisode></div> </div> <div itt-timeline></div> </div> </div> <div class=toolbar-bottom-controltrigger ng-mouseenter=showControls(); ng-click=showControls(); ng-focus=showControls()></div> </div> <div class="animate transitionFade" ng-if="appState.videoControlsActive && (appState.product == \'sxs\' || appState.product == \'producer\')" ng-mouseenter=showControls(); ng-click=showControls(); ng-focus=showControls() sxs-add-content></div> <div class=autoscroll ng-if="appState.autoscroll && appState.autoscrollBlocked" ng-click=enableAutoscroll()> <img src='+i("WeeJ")+" width=32 height=32> </div> <div ng-show=show.navPanel class=modal-backdrop ng-click=\"hidePanel('navPanel')\"></div> <div ng-show=show.profilePanel class=modal-backdrop ng-click=\"hidePanel('profilePanel')\"></div> <div ng-show=appState.itemDetail class=modal-backdrop ng-click=\"appState.itemDetail=false\"></div> <div ng-if=appState.itemDetail itt-item-detail-modal=appState.itemDetail></div> <div ng-if=show.profilePanel> <itt-modal modal-class=account__modal wrapper-class=account__modal--wrapper> <button ng-hide=\"appState.isFramed ||  !(userHasRole('admin') || userHasRole('customer admin'))\" class=button ng-click=\"editInfo = !editInfo\">{{editInfo ? 'Done Editing' : 'Edit Profile'}}</button> <a class=button ng-click=\"show.profilePanel = false\">close</a> <itt-nav ng-if=\"!editInfo && ((userHasRole('admin') || userHasRole('customer admin')) && !appState.isFramed)\" on-logout=$parent.logout() in-player=true></itt-nav> <div ng-if=\"editInfo || appState.isFramed ||  !(userHasRole('admin') || userHasRole('customer admin'))\"> <div itt-user></div> </div> </itt-modal> </div> <div ng-cloak ng-if=\"show.wileyNag &&  (appState.productLoadedAs == 'player'\n\t \t\t\t|| (appState.productLoadedAs == 'narrative'\n\t \t\t\t&& !narrative.disable_new_window ) )\" class=\"wileyNag animate transitionFade\"> <div> <span style=float:right>⤴</span> <span style=float:right;display:inline-block;padding:5px>Go here for best view</span> </div> <a class=goAway ng-click=noWileyNag()>Don't show this again</a> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},p3Yx:function(e,t,i){e.exports=i.p+"images/CPB_Window_BG_720-69f3a6bf4d861955ae04d5d0ba0f5b45.png"},pMX5:function(e,t,i){var n="templates/episode/narrasys-pro.html",a='<div class="episode professional narrasys" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class=professional__branding> <div class=branding--content> <nys-copyright class=professional__copyright></nys-copyright> <img class=professional__logo src='+i("kDpR")+" /> </div> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},phYv:function(e,t){var i="templates/item/review-transmedia.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span ng-class="{isCosmetic: item.cosmetic}"> <div ng-if=item.sxs ng-include=item.templateUrl></div> <span ng-if=!item.sxs> <span ng-if="item.layouts[0] == \'windowFg\'" ng-include="\'templates/item/review-windowfg.html\'"></span> <span ng-if="item.layouts[0] != \'windowFg\'"> <div ng-if=item.data._pluginType ng-include=item.templateUrl></div> <span ng-if=!item.data._pluginType> <a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button tabindex=0 class="startTime displayTime" aria-label="Seek video to {{item.displayStartTime}}" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <span ng-if="item._type == \'Annotation\'"> <div class=text> <div class=title> <div ng-if=item.display_annotator class=authorName ng-bind-html=item.display_annotator></div> <div ng-if=item.display_title class=authorName ng-bind-html=item.display_title></div> </div> <div ng-bind-html=item.display_annotation></div> </div> </span> <span ng-if="item._type != \'Annotation\'"> <div class=text> <div class=title> <a tabindex=0 ng-if=item.noEmbed class="fakeLink escapelink" ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> <a tabindex=0 role=button class=fakeLink ng-if=!item.noEmbed x-ng-keypress=toggleDetailOnKeyPress($event) ng-click=toggleDetailView() ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText" aria-label="Toggle detail display of {{item.display_title}}"></a> </div> <div ng-bind-html=item.display_description></div> </div> <div class=itemDetail ng-if="item.showInlineDetail && item._type == \'Link\'"> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class=escapelink>(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=itemDetail ng-if="item.showInlineDetail && item._type != \'Link\'"> <div class=touchable style=position:relative> <img ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> </div> </span> </div> </span> </span> </span> <div class=clear></div> </span> ')}]),e.exports=i},pkAb:function(e,t,i){var n=i("4D0R");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},"px/Z":function(e,t,i){var n="templates/episode/kellogg.html",a='<div class="episode episode-kellogg" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <img src='+i("kRx8")+"> <span class=copyright ng-include=\"'templates/copyright.html'\"></span> </div> <div class=banner-logo></div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},q06B:function(e,t){var i="templates/item/sxs-video.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate sxs-item"> <a class=edit-event ng-click=editItem() ng-if=item.editableByThisUser>[Edit]</a> <div class=avatar> <img ng-src="{{item.avatar.url || \'/images/no-avatar.gif\'}}"> </div> <div class=itemHead> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <div class=text> <div class=title ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <a class=escapelink ng-click=outgoingLink(item.url)>New window</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> <div class=clear></div> </div> ')}]),e.exports=i},q5cY:function(e,t,i){"use strict";function n(e){function t(e){if(l(e))return e.slice(0,1).toUpperCase()+e.slice(1)}function i(t,i){return e(t,i||0)}function n(t){e.cancel(t)}function a(e){return e+(e<0?0:1)>>0}function o(e,t){return t.reduce(function(t,i){return l(e[i])&&(t[i]=angular.copy(e[i])),t},{})}function r(e){return String(e).replace(/<\/?[^>]*>/gm,"")}function s(e){return e.indexOf(".")<0?null:e.split(".")[0]}function l(e){return null!=e}function c(e){return 0!=e&&l(e)}function d(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)})}function m(e){return/^(((?:http)s?:\/\/)|(?:\/\/))(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::\d+)?(?:\/?|[\/?]\S+)$/i.test(e)}function p(e){return"option.value as option.name for option in $ctrl.getSelectOpts('"+e+"')"}function u(e,t){for(var i=[],n=0;n<e.length;n++)for(var a=0;a<t.length;a++)if(e[n]==t[a]){i.push(n);break}return i}function g(e){if(!isNaN(parseFloat(e))&&isFinite(e))return e;var t=e.match(/^(\d+)[m:]([\d\.]+)s?$/);return t?parseFloat(60*t[1])+parseFloat(t[2]):(t=e.match(/^([\d\.]+)s$/))?parseFloat(t[1]):(t=e.match(/^([\d\.]+)m$/))?parseFloat(60*t[1]):void console.error("Tried to parse invalid time string: ",e)}function f(e,t,i){i.hasOwnProperty(e)&&!i.hasOwnProperty(t)&&e!==t&&(i[t]=i[e],delete i[e])}function h(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]/g,"")}return{getSubdomain:s,existy:l,truthy:c,generateUUID:d,isValidURL:m,stripHtmlTags:r,pick:o,bitwiseCeil:a,setNgOpts:p,intersection:u,parseTime:g,renameKey:f,ngTimeout:i,cancelNgTimeout:n,capitalize:t,slugify:h}}t.a=n,n.$inject=["$timeout"]},qJyT:function(e,t,i){var n=i("aTNE");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},qUX4:function(e,t,i){e.exports=i.p+"images/itt-d5a7cf98384da7c6a0347326ed4d7cb7.svg"},qZRx:function(e,t,i){var n="templates/scene/centeredPro.html",a='<div class="scene centered-pro" ng-class="scene.styleCss + \' \'+ scene.state"> <div itt-item=item class="item animate banner-pull-quote" ng-class="item.styleCss + \' \' + item.state" ng-repeat="item in (contentItems | isCurrent | filter:{templateUrl: \'templates/item/text-h1.html\'} )"> </div> <div class=col> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in mainBgItems| isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: (contentItems | isCurrent).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: contentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in (contentItems | isCurrent | filter:centeredProTransmedia  )" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},qimA:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div ng-if="!$ctrl.clipboardMode">',' <div ng-if="$ctrl.narrative.guest_access_allowed === true">','\t    <label for="{{$ctrl.display.id[$ctrl.type]}}">Guest Accessible URL:','       <itt-validation-tip ng-if="$ctrl[$ctrl.type].error" text="{{$ctrl[$ctrl.type].error}}"></itt-validation-tip>','       <p class="--break-word"><small ng-class="{ \'error-red\': $ctrl[$ctrl.type].error, unselectable: $ctrl[$ctrl.type].error }">{{$ctrl.formatGuestAccessibleUrl()}}</small></p>',"     </label>",'     <input id="{{$ctrl.display.id[$ctrl.type]}}" type="text" name="path" placeholder="{{$ctrl.display.placeholder}}" itt-valid-pathslug narrative-id="{{$ctrl.narrative._id}}" ng-model="$ctrl[$ctrl.type].path_slug.en">'," </div>","</div>",'<a ng-if="$ctrl.clipboardMode" itt-clipboard source-text="{{$ctrl.formatUrlToCopy()}}" on-copy="$event.stopPropagation()"></a>'].join(""),scope:{narrative:"=",timeline:"=?",customer:"=?",clipboardMode:"@?",subDomain:"@?"},controller:["ittUtils",function(e){function t(){return r(o.narrative)&&o.narrative.guest_access_allowed===!1?i():n()}function i(){if(r(o.narrative))return"timeline"===o.type?a+"auth/lti?narrative="+o.narrative._id+"&timeline="+o.timeline._id:a+"auth/lti?narrative="+o.narrative._id}function n(){var e=r(o.narrative),t=e&&r(o.narrative.path_slug)&&r(o.narrative.path_slug.en),i=r(o.timeline),n=i&&r(o.timeline.path_slug)&&r(o.timeline.path_slug.en);return"timeline"===o.type&&n?a+"#/story/"+o.narrative.path_slug.en+"/"+s(o.timeline.path_slug.en):t?a+"#/story/"+s(o.narrative.path_slug.en):void 0}var a,o=this,r=e.existy,s=e.slugify,l="https://",c=".narrasys.com/";angular.extend(o,{type:r(o.timeline)?"timeline":"narrative",display:null,formatLTIUrl:i,formatGuestAccessibleUrl:n,formatUrlToCopy:t}),function(){o.display={id:{timeline:"tlPath",narrative:"nPath"},placeholder:"human-friendly-link-to "+o.type};var e=r(o.subDomain)&&o.subDomain||r(o.narrative.subDomain)&&o.narrative.subDomain;a=l+e+c}()}],controllerAs:"$ctrl",bindToController:!0}}t.a=n},qpRi:function(e,t){var i="templates/item/image-linkonly.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class=category> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class=text> <div class=title> <a tabindex=0 x-ng-keypress=outgoingLinkOnKeyPress(item.asset.url,$event) ng-click=outgoingLink(item.asset.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <div class=text ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> <div class=clear></div> </div> ')}]),e.exports=i},rBD9:function(e,t,i){var n=i("cxo6");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},rFfA:function(e,t,i){e.exports=i.p+"images/Narrasys_Banner-02a409f34b80c72134169a171c9c8852.svg"},rGHM:function(e,t){var i="templates/producer/item/sxs-link.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<span class="eventIcon icon-link"></span> <div class=field> <div class=label>Title </div> <div class=input> <input type=text ng-model=item.title.en autofocus> </div> </div> <itt-url-field data=item></itt-url-field> <div class=field> <div class=label>Description </div> <div class=input sxs-input-i18n=item.description x-inputtype="\'textarea\'"></div> </div> ')}]),e.exports=i},rLXe:function(e,t){var i="templates/producer/container-assets.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div ng-if=showParent> <div sxs-container-assets=container.parent_id></div> </div> <div class=containerAssets> <div ng-if="appState.product != \'sxs\' && container.parent_id && !showParent"> <a class=goUp ng-click=up()>Parent container</a> </div> <div class=title>{{container.display_name}} - Asset Library </div> <div class=controls> <a ng-click=toggleImages()> <span ng-if=onlyImages>Images</span> <span ng-if=!onlyImages>All</span> </a> &nbsp; <a ng-click=toggleGrid()> <span ng-if=gridView>▦</span> <span ng-if=!gridView>☰</span> </a> </div> <div class=scrollPane ng-if=!hideItems> <div ng-if=gridView> <div class=grid ng-repeat="asset in isCustAdmin ? (assets | vidsFromCustAdmins) : assets" ng-if="asset.container_id == containerId && !(onlyImages && asset._type != \'Asset::Image\')" ng-click=assetClick(asset._id)> <div ng-if="asset._type == \'Asset::Image\'"> <img class=thumbnail ng-src={{asset.url}}> </div> <div ng-if="asset._type != \'Asset::Image\'"> <div class=thumbnail>{{asset._type}}</div> </div> {{asset.display_name}} </div> </div> <table ng-if=!gridView> <tr ng-repeat="asset in isCustAdmin ? (assets | vidsFromCustAdmins) : assets" ng-if="asset.container_id == containerId && !(onlyImages && asset._type != \'Asset::Image\')" ng-click=assetClick(asset._id)> <td> <div ng-if="asset._type == \'Asset::Image\'"> <img class=thumbnail ng-src={{asset.url}}> </div> </td> <td>{{asset.size |asBytes}}</td> <td>{{asset.content_type}}</td> <td> {{asset.display_name}} </td> </tr> </table> </div> <br> <div ng-if=canAccess itt-asset-uploader=container._id mime-types={{mimes}} multiple=multiple></div> </div> ')}]),e.exports=i},rSRG:function(e,t){var i="templates/producer/item/producer-annotation.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i," ")}]),e.exports=i},rVeU:function(e,t,i){"use strict";function n(e,t,i){return{require:"ngModel",templateUrl:"templates/producer/annotator-autocomplete.html",scope:{annotators:"=sxsAnnotatorAutocomplete",item:"=item"},link:function(n,a,o,r){n.appState=i,n.hasAnnotator=function(){return Object.keys(n.item.annotator).length>0},angular.forEach(n.annotators,function(e){e.annotation_image_id&&(e.imageUrl=t.assets[e.annotation_image_id].url)}),n.annotator={name:n.item.annotator},n.annotators[n.item.annotator]&&n.annotators[n.item.annotator].annotation_image_id&&(n.annotator.imageUrl=t.assets[n.annotators[n.item.annotator].annotation_image_id].url),n.filteredAnnotators=angular.copy(n.annotators),n.preselectedItem=-1,a.find(".annotatorChooser").bind("keydown",function(e){switch(e.which){case 40:n.preselectedItem=(n.preselectedItem+1)%Object.keys(n.filteredAnnotators).length;break;case 38:n.preselectedItem=(n.preselectedItem-1)%Object.keys(n.filteredAnnotators).length;break;case 13:e.preventDefault(),n.preselectedItem>-1&&n.selectByIndex(n.preselectedItem)}}),n.handleAutocomplete=function(){if(n.annotator.name="",n.searchText){n.preselectedItem=-1;var e={};angular.forEach(n.annotators,function(t){t.key.toLowerCase().indexOf(n.searchText.toLowerCase())>-1&&(e[t.key]=t)}),n.filteredAnnotators=e,1===Object.keys(n.filteredAnnotators).length&&(n.preselectedItem=0)}else n.filteredAnnotators=angular.copy(n.annotators),n.preselectedItem=-1},n.selectByIndex=function(e){if(!(e<0)){var t=Object.keys(n.filteredAnnotators).sort();n.select(n.filteredAnnotators[t[e]])}},n.select=function(e){n.preselectedItem=-1,e.annotation_image_id?(n.item.annotation_image_id=e.annotation_image_id,n.item.asset=t.assets[e.annotation_image_id],n.annotator.imageUrl=n.item.asset.url):(delete n.annotator.imageUrl,delete n.item.asset),r.$setViewValue(e.name),n.searchText=""},n.autoCompleting=!1,n.showAutocomplete=function(){var e=a.find(".annotatorChooser")[0];e.setSelectionRange(0,e.value.length),n.autoCompleting=!0},n.hideAutocomplete=function(){e(function(){n.preselectedItem>-1?n.selectByIndex(n.preselectedItem):""!==n.searchText&&n.addNewAnnotator(),n.autoCompleting=!1},300)},n.addNewAnnotator=function(){var e=n.searchText;n.item.annotator={},n.item.annotator[i.lang]=e,n.searchText="",n.handleAutocomplete()},n.uploadAnnotatorImage=function(){window.alert("TODO")}}}}t.a=n,n.$inject=["$timeout","modelSvc","appState"]},rXKF:function(e,t,i){e.exports=i.p+"images/aspectratiopreserver-16x9-81dd48a755a6e8f01bfc872a4d2ab76a.gif"},rbKl:function(e,t,i){"use strict";function n(e,t,i){e.customersResolve=i.c,e.logout=t.logout}t.a=n,n.$inject=["$scope","authSvc","narrativesResolve"]},rdiM:function(e,t){var i="templates/item/image-caption.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="captionContainer touchable"> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> <div class=caption> <div class="title item__title item__title--image-caption" ng-bind-html="item.display_title | highlightSubstring: appState.searchText"></div> <div class="text item__text item__text--image-caption" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> </div> <div class=clear></div> </div> ')}]),e.exports=i},rfeV:function(e,t,i){var n="templates/scene/1col.html",a='<div class="scene onecol" ng-class="scene.styleCss + \' \'+ scene.state"> <div itt-magnet class=videoMagnet ng-class="{hasLeftSidebar: mainContentHasLeftSidebar, hasRightSidebar: mainContentHasRightSidebar}"> <img src='+i("rXKF")+'> </div> <div class=col> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in mainBgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer stretchToViewport" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (mainContentItems | isCurrent).length == 1\n\t\t\t\t\t: (mainContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: mainContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: mainContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: mainContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (contentItems | isCurrent) : contentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},sGzq:function(e,t){var i="templates/searchpanel.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div ng-class=episode.styleCss class=searchPanel__wrapper> <div aria-label="sort toggle" class=searchfilters aria-controls=sortableSearch> <div> Sorted by <button tabindex=0 class="fakeLink fake-link--search-results" ng-click=toggleSortBy(sortBy) aria-label="toggles sort to {{getToggledValue(sortBy)}}">{{getFriendlySortText(sortBy)}}</button> </div> </div> <div class=scrollContainer> <div class="searchResults content" id=sortableSearch itt-width-watch ng-class="{isNarrow: isNarrow}"> <div ng-if="sortBy == \'startTime\'" class=sortByTime> <h1 ng-bind-html=episode.display_title></h1> <div ng-repeat="scene in episode.scenes"> <span ng-switch=appState.product> <div ng-switch-when=producer ng-repeat="item in sceneItems=(scene.items | orderBy:\'wtfchromesort\')" ng-show="([item.searchableText] | filter:appState.searchText).length" class="item animate" ng-class=item.state itt-item=item forcetemplate=searchresults-all></div> <div ng-switch-default ng-repeat="item in sceneItems=(scene.items | orderBy:\'wtfchromesort\' | filter:{cosmetic:false})" ng-show="([item.searchableText] | filter:appState.searchText).length" class="item animate" ng-class=item.state itt-item=item forcetemplate=searchresults-all></div> </span> </div> </div> <div ng-if="sortBy == \'type\'" class=sortByType> <div ng-repeat="category in typeCategories"> <h3 ng-if="matchedItems.length > 0" ng-bind-html=showTypes[category].name></h3> <div class="item animate" ng-repeat="item in matchedItems=\n\t\t\t\t\t\t(showTypes[category].items\n\t\t\t\t\t\t| orderBy:\'wtfchromesort\'\n\t\t\t\t\t\t)" ng-show="\n\t\t\t\t\t\t\t([item.searchableText] | filter:appState.searchText).length\n\t\t\t\t\t\t" ng-class=item.state itt-item=item forcetemplate=searchresults-all></div> </div> <div ng-if="(episode.items | filter:{\'searchableText\': appState.searchText||\'\', \'cosmetic\': false}).length == 0"> (Nothing matched your search.) </div> </div> </div> </div> </div> ')}]),e.exports=i},sHgY:function(e,t,i){"use strict";(function(e){function i(t,i){function n(e){var t=/iP(hone|od|ad)/;if(t.test(e.platform)||t.test(e.userAgent)){var i=e.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)]}}var a={};return a.init=function(){a.user=a.user||{},a.episodeId=!1,a.episodeSegmentId=!1,a.narrativeId=!1,a.timelineId=!1,a.isFramed=window.parent!=window,a.isTouchDevice=/iPad|iPod|iPhone/.test(navigator.platform)||/Android/.test(navigator.userAgent),a.isIEOrEdge=/Trident|Edge/.test(navigator.userAgent)||/Trident|Edge/.test(navigator.platform),a.isIPhone=navigator.platform.match(/iPod|iPhone/),a.iOSVersion=n(navigator),a.windowWidth=0,a.windowHeight=0,a.viewMode=e(window).width()>480?"discover":"review",a.producerEditLayer=0,a.time=0,a.bufferedPercent=0,a.timeMultiplier=1,a.duration=0,a.timelineState="paused",a.hasBeenPlayed=!1,a.volume=100,a.muted=!1,a.hideCaptions=!1,a.show={searchPanel:!1,navPanel:!1},a.videoControlsActive=!1,a.videoControlsLocked=!1,a.itemDetail=!1,a.autoscroll=!1,a.autoscrollBlocked=!1,a.product=a.product,a.productLoadedAs=a.productLoadedAs,"sxs"===a.product||"producer"===a.product?a.crossEpisodePath=a.product:a.crossEpisodePath="episode",a.editEvent=!1,a.editEpisode=!1,a.lang=!1},a.init(),t(function(){a.windowHeight=angular.element(window).height(),a.windowWidth=angular.element(window).width()},50,0,!1),i.debugInBrowser&&console.log("appState:",a),a}t.a=i,i.$inject=["$interval","config"]}).call(t,i("7t+N"))},sOsL:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s,l){return{restrict:"A",replace:!0,scope:{episode:"=ittEpisodeEditor"},templateUrl:"templates/producer/episode.html",controller:"EditController",link:function(c){function d(e,i,n){return function(a){"player ready"===a&&(s.unregisterStateChangeListener(d),t(function(){e({duration:s.getMetaProp("duration","replaceMe"),url:i,type:n}),c.episode.swap={}},0))}}function m(e){var t={};t.content_type=e.type,t.duration=e.duration,t.url=e.url,t.name=c.episode.title,t.description=c.episode.description,a.createAsset(c.episodeContainerId,t).then(function(e){n.cache("asset",e),s.renamePid("replaceMe",e._id),c.attachChosenAsset(e._id)}).catch(function(e){console.log("errr",e)})}function p(e){var t,i=l.checkUrl(e),n=i.type;if(n.length>0){t=i.mimeType,c.episode.replacingMasterAsset=!0,c.showmessage="Getting "+n+" video...";var a=l.parseInput(e);c.episode.swap={_id:"replaceMe",mediaSrcArr:[a]};var o=d(m,a,t);s.registerStateChangeListener(o)}}c.episodeContainerId=n.episodes[i.episodeId].container_id;var u=n.containers[c.episodeContainerId];c.customer=n.customers[u.customer_id],c.episode.master_asset_id&&""!==c.episode.master_asset_id&&(c.masterAsset=n.assets[c.episode.master_asset_id]),c.uploadStatus=[],c.uneditedEpisode=angular.copy(c.episode),c.itemForm=r.setupItemForm(c.episode.styles,"episode"),!o.userHasRole("admin")||c.masterAsset&&/video\/x-/.test(c.masterAsset.content_type)?c.masterAssetType="WebUrl":c.masterAssetType="Video",c.langForm={en:!0,es:!1,zh:!1,pt:!1,fr:!1,de:!1,it:!1};for(var g=0;g<c.episode.languages.length;g++)c.langForm[c.episode.languages[g].code]=!0;c.langForm[c.episode.defaultLanguage]=!0,c.languageWatcher=c.$watch(function(){return[c.langForm,c.episode.defaultLanguage]},function(){var e=0,t="",i=[];for(var n in c.langForm)c.langForm[n]?(e++,t=n,i.push({code:n})):c.episode.defaultLanguage===n&&(c.episode.defaultLanguage=!1);c.languageCount=e,c.episode.defaultLanguage===!1&&(c.episode.defaultLanguage=t),angular.forEach(i,function(e){e.code===c.episode.defaultLanguage&&(e.default=!0)}),c.episode.languages=angular.copy(i)},!0),c.watchStyleEdits=c.$watch(function(){return c.itemForm},function(){var e=[];for(var t in c.itemForm)c.itemForm[t]&&e.push(t+c.itemForm[t]);c.episode.styles=e,n.deriveEpisode(c.episode),n.resolveEpisodeEvents(c.episode._id)},!0),c.appState=i,c.watchEdits=c.$watchGroup(["episode.templateUrl","episode.title[appState.lang]","episode.description[appState.lang]"],function(e,t){if(e[0]!==t[0]){var i=[];if(t[0]){var a=t[0].match("templates/episode/(.*).html")[1];angular.forEach(c.episode.styles,function(e){e.toLowerCase()!=="color"+a&&e.toLowerCase()!=="typography"+a&&i.push(e)})}var o=e[0].match("templates/episode/(.*).html")[1];angular.forEach(["eliterate","gw","purdue","usc","columbia","columbiabusiness"],function(e){o===e&&(i.push("color"+e[0].toUpperCase()+e.substring(1)),i.push("typography"+e[0].toUpperCase()+e.substring(1)))}),c.episode.styles=angular.copy(i)}n.deriveEpisode(c.episode),n.resolveEpisodeEvents(c.episode._id)}),c.dismissalWatcher=e.$on("player.dismissAllPanels",c.cancelEdit),c.cancelEdit=function(){c.cancelEpisodeEdit(c.uneditedEpisode)},c.attachChosenAsset=function(e){c.episode.replacingMasterAsset=!1;var t=n.assets[e],i=n.assets[c.episode.master_asset_id];if(c.showmessage="New video attached.",i&&t.duration<i.duration){c.getItemsAfter(c.episode.items.concat(c.episode.scenes),t.duration).length&&(c.showmessage="Warning: this new video is shorter than the current video and we've detected that some existing content items will be impacted. If you save this edit, these events will have their start and end times adjusted to the new episode end. (If this isn't what you want, choose a different video or hit 'cancel'.)")}c.episode._master_asset_was_changed=!0,c.episode.master_asset_id=t._id,c.masterAsset=t,c.episode.masterAsset=t,n.deriveEpisode(c.episode)},c.attachPosterAsset=function(e){var t=n.assets[e];c.episode.poster_frame_id=e,c.episode.poster=t,n.deriveEpisode(c.episode)},c.assetUploaded=function(e){c.showUploadButtons=!1,c.showUploadField=!1,c.attachChosenAsset(e)},c.posterUploaded=function(e){c.showUploadButtonsPoster=!1,c.showUploadFieldPoster=!1,c.attachPosterAsset(e)},c.attachMediaSrc=p,c.replaceAsset=function(e){e=e||"",c["showUploadButtons"+e]=!0,c["showUploadField"+e]=!1},c.selectText=function(e){e.target.select()},c.$on("$destroy",function(){c.watchEdits(),c.dismissalWatcher(),c.languageWatcher(),c.watchStyleEdits()})}}}t.a=n,n.$inject=["$rootScope","$timeout","appState","modelSvc","dataSvc","authSvc","selectService","playbackService","urlService"]},"sj8+":function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s,l,c,d,m){function p(t){angular.forEach(e.item.data._plugin.distractors,function(e){e!==t&&(e.correct=void 0)})}e.uneditedScene=angular.copy(e.item),e.userHasRole=c.userHasRole,e.canAccess=c.userHasRole("admin")||c.userHasRole("customer admin"),e.selectService=a,e.item&&d[e.item.producerItemType]?e.mimes=d[e.item.producerItemType]:e.mimes=d.default,e.chooseAsset=function(i){i=i||"",e.showAssetPicker=!0,e.w1=t.$on("UserSelectedAsset",function(t,n){"Poster"===i?e.attachPosterAsset(n):e.attachChosenAsset(n),e["showUploadButtons"+i]=!1,e.endChooseAsset()}),e.w2=t.$on("userKeypress.ESC",e.endChooseAsset)},e.endChooseAsset=function(){e.w1(),e.w2(),e.showAssetPicker=!1},e.toggleUpload=function(t){t=t||"",e["showUploadField"+t]=!e["showUploadField"+t]},e.addDistractor=function(){e.item.data._plugin.distractors.push({text:"",index:e.item.data._plugin.distractors.length+1})},e.onFormativeChecked=p,e.addEvent=function(i){if("scene"===i){var n=Math.round(100*m.getMetaProp("time"))/100;if(s.isOnExistingSceneStart(n))return e.editCurrentScene(n)}var r=I(i);r.cur_episode_id=o.episodeId,r.episode_id=o.episodeId,o.user&&o.user.avatar_id&&(r.avatar_id=o.user.avatar_id),s.cache("event",r),o.editEvent=s.events["internal:editing"],o.videoControlsActive=!0,o.videoControlsLocked=!0,s.resolveEpisodeEvents(o.episodeId),l.injectEvents([s.events["internal:editing"]]),"scene"===i&&(a.onSelectChange(o.editEvent),l.updateSceneTimes(o.episodeId)),t.$emit("searchReindexNeeded")};var u=function(e){return!("Annotation"!==e._type||!e.templateUrl.match(/transcript/))},g=function(){var e=s.episodes[o.episodeId];return angular.copy(e.items).filter(u)},f=function(e,t){for(var i=0,n=0,a=e.length;n<a;n++)if(e[n]._id===t._id){i=n;break}return i},h=function(e,t){e=e.sort(S);var i=f(e,t),n=[];return 0===i?n:(i<e.length-1&&i>=1&&(_(e[i-1])||n.push(e[i-1])),n)},v=function(e,t){e=e.sort(S);var i=f(e,t),n=[];return 0===i?i<e.length-1&&(_(e[i+1])||n.push(e[i+1])):i<e.length-1&&(_(e[i+1])||n.push(e[i+1]),i>=1&&(_(e[i-1])||n.push(e[i-1]))),n},b=function(e,t,i){if(u(e)){var n=[],a=g();switch(t){case"create":n=v(a,e),console.log("adjust for create");break;case"delete":n=h(a,e),console.log("adjust for delete");break;case"update":i&&b(i,"delete"),b(e,"create"),console.log("adjust for update")}angular.forEach(n,function(e){r.storeItem(e).then(function(){console.log("updated transcript item",e)},function(e){console.error("FAILED TO STORE EVENT",e)})})}};e.saveEvent=function(){var i=angular.copy(o.editEvent);if(e.blockDoubleClicks=!0,i.cur_episode_id=o.episodeId,"Scene"===i._type){var n=C(i);angular.forEach(n,function(e){r.storeItem(e).then(function(){},function(e){console.error("FAILED TO STORE EVENT",e)})})}r.storeItem(i).then(function(e){e.cur_episode_id=o.episodeId;var n="update";if("internal:editing"===o.editEvent._id){l.removeEvent("internal:editing"),delete s.events["internal:editing"],s.cache("event",r.resolveIDs(e)),s.resolveEpisodeEvents(o.episodeId),n="create";var a=e.asset_id||e.link_image_id||e.annotation_image_id;a&&i.asset&&i.asset._id===a&&s.assocEventWithAsset(e._id,a)}"Scene"===e._type?(l.timelineEvents=[],l.injectEvents(s.episodeEvents(o.episodeId),0)):(s.resolveEpisodeEvents(o.episodeId),l.updateEventTimes(s.events[e._id])),b(e,n),angular.forEach(i.removedAssets,function(e){r.deleteAsset(e)}),o.editEvent=!1,t.$emit("searchReindexNeeded")},function(e){console.error("FAILED TO STORE EVENT",e)})};var y=s.getEpisodeScenes,_=function(e){return e._id&&e._id.match(/internal/)};e.getItemsAfter=function(e,t){for(var i=[],n=0,a=e.length;n<a;n++)_(e[n])||(t<e[n].start_time||t<e[n].end_time)&&i.push(e[n]);return i},e.saveEpisode=function(){var t=angular.copy(o.editEpisode);r.storeEpisode(t).then(function(a){if(s.cache("episode",r.resolveIDs(a)),o.editEpisode._master_asset_was_changed){delete s.episodes[a._id]._master_asset_was_changed;var c=s.assets[a.master_asset_id].duration,d=c-.01;s.episodes[o.episodeId].masterAsset=s.assets[e.episode.master_asset_id],s.episodes[o.episodeId].master_asset_id=a.master_asset_id;var p=[],u=[],g=s.episodes[t._id];angular.forEach(g.scenes,function(e){e.start_time>c?u.push(e):e.end_time>c&&(e.end_time=d,p.push(e))}),angular.forEach(g.items,function(e){e.start_time>c&&(e.start_time=d),e.end_time>c&&(e.end_time=d),p.push(e)});var f=s.events["internal:endingscreen:"+t._id];f?(f.start_time=d,f.end_time=d):s.addEndingScreen(t._id),s.resolveEpisodeEvents(o.episodeId),s.resolveEpisodeAssets(o.episodeId),m.setMetaProp("duration",c),o.editEpisode=!1,o.videoControlsLocked=!1,l.init(o.episodeId),angular.forEach(p,function(e){e._id.indexOf("internal")<0&&r.storeItem(e)}),angular.forEach(u,function(e){e._id.indexOf("internal")<0&&r.deleteItem(e._id)}),i(function(){n.location.reload()},500)}else s.resolveEpisodeEvents(o.episodeId),s.resolveEpisodeAssets(o.episodeId),o.editEpisode=!1,o.videoControlsLocked=!1},function(e){console.error("FAILED TO STORE EPISODE",e)})};var w=function(e,t){for(var i=0;i<e.length;i++){if(void 0===e[i]._id||"internal:editing"===e[i]._id){e.splice(i,1);break}if(t&&e[i]._id===t._id){e[i]=t;break}}return e},x=function(e,t){for(var i=1,n=e.length;i<n;i++)i===n-1?e[i].end_time=t:e[i].end_time!==e[i+1].start_time&&(e[i].end_time=e[i+1].start_time)},A=function(e,t){for(var i=!1,n=0,a=e.length;n<a;n++)if(e[n]._id===t._id){i=!0;break}i||e.push(t)},k=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]._id===t){e.splice(i,1);break}},S=function(e,t){return e.start_time-t.start_time},C=function(t,i){var n=m.getMetaProp("duration"),a=angular.copy(y()),o=[];i?A(a,e.uneditedScene):w(a,e.uneditedScene),a=a.sort(S),x(a,n),k(a,t._id),i||a.push(t),a=a.sort(S);for(var r=1,s=a.length;r<s;r++)r===s-1?a[r].end_time!==n&&(a[r].end_time=n,o.push(a[r])):a[r].end_time!==a[r+1].start_time&&(a[r].end_time=a[r+1].start_time,o.push(a[r]));return o};e.editCurrentScene=function(e){var t=s.sceneAtEpisodeTime(o.episodeId,e);o.editEvent=s.events[t._id],o.editEvent.templateOpts=a.getTemplates("scene"),o.editEvent.cur_episode_id=o.episodeId,o.editEvent.episode_id=o.episodeId,o.editEvent.producerItemType="scene",o.videoControlsActive=!0,o.videoControlsLocked=!0,a.onSelectChange(o.editEvent)},e.editEpisode=function(){o.editEpisode=s.episodes[o.episodeId],o.editEpisode.templateOpts=a.getTemplates("episode"),o.videoControlsActive=!0,o.videoControlsLocked=!0},e.deleteEvent=function(e){if(window.confirm("Are you sure you wish to delete this item?")){var t={};t._id=e;var i=s.events[e]._type;if("Scene"===i){var n=C(t,!0);angular.forEach(n,function(e){r.storeItem(e).then(function(){},function(e){console.error("FAILED TO STORE EVENT",e)})})}r.deleteItem(e).then(function(){"sxs"===o.product&&s.events[e].asset&&r.deleteAsset(s.events[e].asset._id),l.removeEvent(e),delete s.events[e],s.resolveEpisodeEvents(o.episodeId),"Scene"!==i&&"Chapter"!==i||l.updateSceneTimes(o.episodeId),b(t,"delete"),o.editEvent=!1,o.videoControlsLocked=!1},function(e){console.warn("failed to delete:",e)})}},e.cancelEventEdit=function(e){var t=e.cur_episode_id?e.cur_episode_id:e.episode_id;"internal:editing"===o.editEvent._id?(delete s.events["internal:editing"],l.removeEvent("internal:editing")):s.events[o.editEvent._id]=e,s.resolveEpisodeEvents(t),"Scene"===e._type?l.updateSceneTimes(t):l.updateEventTimes(e),o.editEvent=!1,o.videoControlsLocked=!1},e.cancelEpisodeEdit=function(e){s.episodes[o.episodeId]=e,s.deriveEpisode(s.episodes[e._id]),s.resolveEpisodeContainers(e._id),s.resolveEpisodeEvents(e._id),o.editEpisode=!1,o.videoControlsLocked=!1};var I=function(e){var t={_id:"internal:editing",start_time:m.getMetaProp("time"),episode_id:o.episodeId,isCurrent:!0,producerItemType:e,layouts:["inline"],styles:[]},i={};if("scene"===e&&(i={_type:"Scene",title:{},description:{}}),"chapter"===e&&(i={_type:"Chapter",title:{},description:{}}),"video"===e&&(i={_type:"Link",link_image_id:"",url:"",title:{},description:{}}),"comment"!==e&&"transcript"!==e&&"annotation"!==e||(i={_type:"Annotation",annotation:{},annotator:{},annotation_image_id:""}),"file"!==e&&"image"!==e||(i={_type:"Upload",asset_id:"",title:{},description:{}}),"link"===e&&(i={_type:"Link",link_image_id:"",url:"https://",title:{},description:{}}),"question"===e&&(i={_type:"Plugin",title:{},data:{_pluginType:"question",_version:2,_plugin:{questiontext:"",questiontype:"mc-formative",distractors:[{index:1,text:""},{index:2,text:""},{index:3,text:""},{index:4,text:""}],correctfeedback:"",incorrectfeedback:""}}},i.plugin=i.data._plugin),"sxs"===o.product)i.sxs=!0,i.annotator={en:o.user.name},i.layouts=["windowFg"],i.end_time=o.time,i.stop=!0,i.templateUrl="templates/item/sxs-"+e+".html";else{var n={scene:"templates/scene/centered.html",transcript:"templates/item/transcript.html",annotation:"templates/item/text-h2.html",link:"templates/item/link.html",image:"templates/item/image-plain.html",file:"templates/item/file.html",question:"templates/item/question-mc.html",video:"TODO:VIDEO"};i.templateOpts=a.getTemplates(e),i.templateUrl=n[e]}return angular.extend(t,i),t}}t.a=n,n.$inject=["$scope","$rootScope","$timeout","$window","selectService","appState","dataSvc","modelSvc","timelineSvc","authSvc","MIMES","playbackService"]},tBUA:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r){var s={};s.activityQueue=[];var l=n(function(){s.flushActivityQueue()},1e4);return(i.local||a.disableAnalytics)&&n.cancel(l),s.captureEpisodeActivity=function(e,t){if(!a.disableAnalytics&&(!o.user||!o.user._id||o.user.track_episode_metrics)){var i={name:e,walltime:new Date,timestamp:r.getMetaProp("time")||0};t&&(i.data=t),s.activityQueue.push(i)}},s.captureEventActivity=function(e,t,i,n){!n&&(a.disableAnalytics||o.user._id&&!o.user.track_event_actions)||(void 0===i&&console.warn("captureEventActivity called with no data for event ",t),s.activityQueue.push({name:e,event_id:t,walltime:new Date,data:i}))},s.forceCaptureEventActivityWithPromise=function(e,t,i){return s.captureEventActivity(e,t,i,!0),s.flushActivityQueue()},s.captureEventActivityWithPromise=function(e,t,i){return s.captureEventActivity(e,t,i),s.flushActivityQueue()},s.readEpisodeActivity=function(i){var n=e.defer();return t({method:"GET",url:a.apiDataBaseUrl+"/v2/episodes/"+i+"/episode_user_metrics"}).success(function(e){n.resolve(e)}).error(function(){n.reject()}),n.promise},s.readEventActivity=function(i,n){var o=e.defer();return t({method:"GET",url:a.apiDataBaseUrl+"/v2/events/"+i+"/event_user_actions"}).success(function(e){if(n){for(var t=!1,i=0;i<e.length;i++){e[i].name===n&&(t=!0)}o.resolve(t)}else o.resolve(e)}).error(function(){o.reject()}),o.promise},s.flushActivityQueue=function(){var i=e.defer();0===s.activityQueue.length&&i.resolve(""),o.episodeId||i.resolve();var n=angular.copy(s.activityQueue);s.activityQueue=[];var r=new Date,l=[],c=[];angular.forEach(n,function(e){e.age=(r-e.walltime)/1e3,delete e.walltime,e.event_id?c.push(e):l.push(e)}),l=s.dejitter(l);var d=[];return c.length>0&&d.push(t.post(a.apiDataBaseUrl+"/v2/episodes/"+o.episodeId+"/event_user_actions",{event_user_actions:c})),l.length>0&&d.push(t.post(a.apiDataBaseUrl+"/v2/episodes/"+o.episodeId+"/episode_user_metrics",{episode_user_metrics:l})),e.all(d).then(function(){i.resolve()}),i.promise},s.dejitter=function(e){if(0===e.length)return[];for(var t=[],i=0;i<e.length-1;i++){var n=e[i],a=e[i+1];"seek"===n.name&&"seek"===a.name&&n.timestamp===a.data.seekStart?a.data.seekStart=n.data.seekStart:t.push(e[i])}return t.push(e[e.length-1]),t},s}t.a=n,n.$inject=["$q","$http","$routeParams","$interval","config","appState","playbackService"]},tChN:function(e,t,i){var n=i("7ENw");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},tCwg:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Typography</div>','\t<div class="input">','\t\t<select size="1" ng-model="itemForm.typography">','\t\t\t<option value="">(Default)</option>','\t\t\t<option value="Sans">Sans</option>','\t\t\t<option value="Serif">Serif</option>','\t\t\t<option value="Book">Book</option>','\t\t\t<option value="Swiss">Swiss</option>',"\t\t</select>","\t</div>","</div>"].join(" ")}}t.a=n},tJQX:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="field">','\t<div class="label">Speaker thumbnail</div>','\t<div class="input" ng-include="\'templates/producer/upload-producer.html\'"></div>',"</div>"].join(" ")}}t.a=n},tKiK:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:!0,template:['<div class="field"><div class="label">Answers</div></div>','<div class="field" ng-repeat="distractor in item.data._plugin.distractors track by $index">','\t<div class="label">',"\t\t{{$index | alpha}} &nbsp;",'\t\t<input type="checkbox" ng-model="distractor.correct" ng-change="onFormativeChecked(distractor)" ng-if="item.data._plugin.questiontype == \'mc-formative\'">',"\t</div>",'\t<div class="input" sxs-input-i18n="distractor.text" x-inputtype="\'textarea\'"></div>',"</div>",'<div class="field">','\t<div class="input">','\t\t<button ng-click="addDistractor($event)">Add distractor</button>',"\t</div>","</div>",'<div class="field" ng-if="item.data._plugin.questiontype == \'mc-formative\'">','\t<div class="label">Feedback when correct</div>','\t<div class="input" sxs-input-i18n="item.data._plugin.correctfeedback" x-inputtype="\'textarea\'"></div>',"</div>",'<div class="field" ng-if="item.data._plugin.questiontype == \'mc-formative\'">','\t<div class="label">Feedback when incorrect</div>','\t<div class="input" sxs-input-i18n="item.data._plugin.incorrectfeedback" x-inputtype="\'textarea\'"></div>',"</div>"].join(" ")}}t.a=n},tOyj:function(e,t,i){var n="templates/episode/components/watchmode.html",a=" <div ng-if=\"appState.viewMode == 'watch'\" style=padding-bottom:100%> <div class=watchMode> <div itt-magnet id=watchModeVideoMagnet class=videoMagnet> <img src="+i("rXKF")+'> </div> </div> <span class=watchModeCaptions ng-class="{padForBottomToolbar: appState.videoControlsActive}"> <div class="item watchModeCaption" ng-if="item.isCurrent && !appState.hideCaptions" ng-repeat="item in episode.items | transcript" ng-class=item.state itt-item=item forcetemplate=caption> </div> </span> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},uFtN:function(e,t,i){var n="templates/scene/pip.html",a='<div class="scene pip" ng-class="scene.styleCss + \' \'+ scene.state"> <div class="pane altPane stretchToViewport"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in (altBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer" ng-class="{\n\t\t\t\tsingleitem: showCurrent\n\t\t\t\t\t? (altContentItems | isCurrent).length == 1\n\t\t\t\t\t: (altContentItems).length == 1,\n\t\t\t\tallowHighlights: !showCurrent,\n\t\t\t\thasLeftSidebar: altContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: altContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: altContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in showCurrent ? (altContentItems | isCurrent) : altContentItems" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> <div class=clear></div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in (altFgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> <div ng-class="{padForBottomToolbar: appState.videoControlsActive}"> <div class=videoPositioner> <div itt-magnet class=videoMagnet> <img src='+i("rXKF")+'> </div> </div> <div class="pane mainPane"> <div class="fill bgLayer"> <div class="item animate" ng-repeat="item in (mainBgItems | isCurrent)" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> <div class="content contentLayer showCurrent" ng-class="{\n\t\t\t\thasLeftSidebar: mainContentHasLeftSidebar,\n\t\t\t\thasRightSidebar: mainContentHasRightSidebar,\n\t\t\t\tisNarrow: isNarrow,\n\t\t\t\tisEmpty: mainContentItems.length == 0\n\t\t\t}" itt-width-watch> <div class="item animate" ng-repeat="item in mainContentItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item> </div> </div> <div class=clear></div> </div> </div> <div class="fill fgLayer overlay"> <div class="item animate" ng-repeat="item in mainFgItems | isCurrent" ng-class="item.styleCss + \' \' + item.state" itt-item=item></div> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},uIaz:function(e,t,i){"use strict";(function(e){function i(t,i,n,a,o,r,s,l,c,d,m,p,u,g,f){!function(e){var n="localhost";e&&(n+="|api-dev");var a=new RegExp(n);t.showDebugInfo=a.test(i.host())}(!1),t.viewMode=function(i){l.viewMode=i,p.captureEpisodeActivity("modeChange",{mode:i}),l.producerEditLayer=0,"review"===i?(o(function(){n.$emit("magnet.jumpToMagnet")}),l.autoscroll=!0,l.autoscrollBlocked=!1,k(),o(C)):l.autoscroll=!1,"watch"===i&&t.endSearch(),o(function(){e(window).trigger("resize")})},a.viewMode&&o(function(){t.viewMode(a.viewMode)}),t.toggleProducerPreview=function(){l.product="producer"===l.product?"player":"producer"},a.epId?(l.init(),l.episodeId=a.epId):t.narrativeId=a.narrativeId,l.isFramed&&Math.max(document.documentElement.clientHeight,window.innerHeight||0)<151&&window.parent.postMessage(JSON.stringify({subject:"lti.frameResize",height:"650px"}),"*");var h=function(){if(l.isFramed&&d.episodes[l.episodeId].templateUrl.indexOf("wiley")!==-1){var e=!0;try{localStorage.setItem("iCanHazStorage",1)}catch(t){e=!1}if(e&&localStorage.removeItem("iCanHazStorage"),e&&!localStorage.getItem("noWileyNag")){l.show.wileyNag=!0;var i=t.$watch(function(){return f.getMetaProp("time")},function(e){e&&(l.show.wileyNag=!1,i())})}t.noWileyNag=function(){l.show.wileyNag=!1,localStorage.setItem("noWileyNag","1")}}},v=n.$on("dataSvc.getEpisode.done",function(){l.lang=a.lang?a.lang.toLowerCase():d.episodes[l.episodeId].defaultLanguage,d.setLanguageStrings(),h(),document.title=d.episodes[l.episodeId].display_title,c.getContainer(d.episodes[l.episodeId].container_id,l.episodeId).then(function(){if(d.episodes[l.episodeId].master_asset_id)var e=t.$watch(function(){return d.assets[d.episodes[l.episodeId].master_asset_id]},function(i){i&&Object.keys(i).length>1&&(e(),d.addEndingScreen(l.episodeId),m.init(l.episodeId),t.loading=!1)});else console.log("episode has no master asset!"),t.loading=!1,"producer"===l.product&&(l.editEpisode=d.episodes[l.episodeId],l.editEpisode.templateOpts=g.getTemplates("episode")),l.videoControlsActive=!0,l.videoControlsLocked=!0;"producer"!==l.productLoadedAs||u.userHasRole("admin")||u.userHasRole("customer admin")||(l.product="player",l.productLoadedAs="player")})});d.episodes[l.episodeId]?(l.lang=a.lang?a.lang.toLowerCase():d.episodes[l.episodeId].defaultLanguage,document.title=d.episodes[l.episodeId].display_title,d.episodes[l.episodeId].master_asset_id?m.init(l.episodeId):("producer"===l.product&&(l.editEpisode=d.episodes[l.episodeId]),l.videoControlsActive=!0,l.videoControlsLocked=!0),"producer"!==l.productLoadedAs||u.userHasRole("admin")||u.userHasRole("customer admin")||(l.product="player",l.productLoadedAs="player")):(t.loading=!0,d.addLandingScreen(l.episodeId),c.getEpisode(l.episodeId,l.episodeSegmentId)),t.appState=l,t.playbackService=f,t.show=l.show,t.now=new Date,t.newWindowUrl=s.apiDataBaseUrl+"/v1/new_window",l.narrativeId?t.newWindowUrl=t.newWindowUrl+"?narrative="+l.narrativeId+"&timeline="+l.timelineId:t.newWindowUrl=t.newWindowUrl+"?episode="+l.episodeId,l.videoControlsActive=!1;var b,y=t.$watch(function(){return l.videoControlsActive},function(e){e&&(o.cancel(b),b=o(function(){l.videoControlsActive=!1},5e3))});t.showControls=function(){o.cancel(b),l.videoControlsActive=!0,l.isTouchDevice&&t.allowControlsExit()},t.allowControlsExit=function(){o.cancel(b),b=o(function(){l.videoControlsLocked||(l.videoControlsActive=!1)},5e3)},t.toggleSearchPanel=function(){l.show.searchPanel=!l.show.searchPanel,console.log("toggle search pane!",l.show.searchPanel),l.windowWidth<480?t.viewMode("review"):t.viewMode(l.show.searchPanel?"review":"discover"),l.searchText="",l.show.searchPanel&&o(function(){document.getElementById("searchtext").focus()})},t.endSearch=function(){l.searchText="",l.show.searchPanel=!1},t.toggleNavPanel=function(){m.pause(),l.show.navPanel=!l.show.navPanel},t.seek=function(e){m.seek(e,"sceneMenu"),l.show.navPanel=!1},t.pause=function(){m.pause()};var _=n.$on("video.firstPlay",function(){m.play()});t.hidePanel=function(e){l.show[e]=!1},t.hidePanels=function(){l.show.navPanel=!1,l.show.profilePanel=!1,l.itemDetail=!1,n.$emit("player.dismissAllPanels")},t.play=function(){console.log("PlayerController#play"),m.play()},t.continue=function(){d.episodes[l.episodeId].masterAsset.duration-f.getMetaProp("time")<.2?(m.pause(),m.seek(d.episodes[l.episodeId].masterAsset.duration-.01)):m.play()},t.userHasRole=u.userHasRole,t.logout=u.logout,t.isTrueGuest=u.isTrueGuest,l.isTouchDevice&&"review"===l.viewMode&&(l.autoscroll=!0);var w=e(window),x=e("html,body"),A=!1,k=function(){A||(A=r(C,400),w.bind("scroll",function(){x.stop(),S(),l.autoscrollBlocked=!0}))},S=function(){console.log("stopScrollWatcher"),w.unbind("scroll"),r.cancel(A),A=!1};t.enableAutoscroll=function(){l.autoscrollBlocked&&(l.autoscrollBlocked=!1,k())};var C=function(){if(!l.autoscrollBlocked&&l.autoscroll){var t=1/0,i=w.scrollTop();if(angular.forEach(e(".isCurrent:visible"),function(e){var n=e.getBoundingClientRect().top+i;n<t&&(t=n)}),t!==1/0){t>i+180&&t-i<document.documentElement.clientHeight-180||t<180&&i<180||(S(),x.animate({scrollTop:t-180},1500),o(function(){k()},1750))}}};k();var I=n.$on("userKeypress.ESC",t.hidePanels);t.$on("$destroy",function(){y(),v(),_(),I()})}t.a=i,i.$inject=["$scope","$location","$rootScope","$routeParams","$timeout","$interval","config","appState","dataSvc","modelSvc","timelineSvc","analyticsSvc","authSvc","selectService","playbackService"]}).call(t,i("7t+N"))},uaSq:function(e,t,i){var n="templates/episode/gwlaw.html",a='<div class="episode episode-gw" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("MvqX")+' alt="GW Law"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},"un+J":function(e,t){var i="templates/item/link-withimage-notitle.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <span ng-if=item.noEmbed> <span ng-if=!item.targetTop> <a tabindex=0 ng-if=item.asset.url x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-src={{item.asset.url}} class=img--link-with-image-no-title> </a> </span> <span ng-if=item.targetTop> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-src={{item.asset.url}} class=img--link-with-image-no-title> </a> </span> </span> <span ng-if=!item.noEmbed> <img ng-click=toggleDetailView() ng-src={{item.asset.url}} class=img--link-with-image-no-title> </span> <div class="item__text item__text--link text--link-with-image" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class="escapelink item__link--escape-link escape-link--link-with-image">(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=clear></div> ')}]),e.exports=i},unpt:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".career-playbook{background-image:url("+i("p3Yx")+")}.career-playbook .landingscreen h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Lato;color:#fff;background-color:#00acee;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.career-playbook .landingscreen .introtext{padding-bottom:2em}.career-playbook .landingscreen #episode--description{display:none}.career-playbook .endingscreen p{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Lato;color:#fff;background-color:#00acee;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.career-playbook .searchPanel__wrapper{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d}.career-playbook .searchPanel__wrapper .fake-link--search-results{color:#00acee}.career-playbook .searchResults{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .searchResults .item__link--escape-link,.career-playbook .searchResults .item__link--fake-link,.career-playbook .searchResults .item__title--link{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d;color:#00acee}.career-playbook .searchResults .item__link--escape-link:before,.career-playbook .searchResults .item__link--fake-link:before,.career-playbook .searchResults .item__title--link:before{color:#4d4d4d}.career-playbook .item__title{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .item__title--file a,.career-playbook .item__title--link a{color:#00acee}.career-playbook .item__link--fake-link{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d;color:#00acee}.career-playbook .item__text{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d}.career-playbook .item__text--definition h1,.career-playbook .item__text--definition h2,.career-playbook .item__text--definition h3,.career-playbook .item__text--h2,.career-playbook .item__text--transmedia h1,.career-playbook .item__text--transmedia h2,.career-playbook .item__text--transmedia h3{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .item .item__text--pullquote{font-family:Lato,sans-serif;font-weight:300;font-style:italic;color:#4d4d4d}.career-playbook .item .item__text--pullquote:before{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#00acee}.career-playbook .item__text--image-caption,.career-playbook .item__text--image-caption-sliding,.career-playbook .item__title--image-caption,.career-playbook .item__title--image-caption-sliding{color:#fff}.career-playbook .item__link--escape-link{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d;color:#00acee}.career-playbook .item__link--escape-link:before{color:#4d4d4d}.career-playbook .item .displayTime,.career-playbook .item .startTime{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#00acee}.career-playbook .item .displayTime:hover,.career-playbook .item .startTime:hover{text-decoration:underline}.career-playbook .item.colorInvert{background-color:#4d4d4d!important}.career-playbook .item.colorInvert .item__link--escape-link,.career-playbook .item.colorInvert .item__link--escape-link:before,.career-playbook .item.colorInvert .item__text,.career-playbook .item.colorInvert .item__text:before,.career-playbook .item.colorInvert .item__title a,.career-playbook .item.colorInvert .item__title a:before,.career-playbook .item.colorInvert a.displayTime.startTime,.career-playbook .item.colorInvert a.displayTime.startTime:before,.career-playbook .item.colorInvert h1,.career-playbook .item.colorInvert h2,.career-playbook .item.colorInvert h3{color:#fff!important}.career-playbook .content.allowHighlights .highlightSolid.item.isCurrent{background-color:rgba(0,172,238,.6)}.career-playbook .content.allowHighlights .highlightSide.item.isCurrent{border-left:10px solid rgba(0,172,238,.6)}.career-playbook .content.allowHighlights .highlightBorder.item.isCurrent{border:2px solid rgba(0,172,238,.6)}.career-playbook .content.allowHighlights .highlightBloom.item.isCurrent{background-color:rgba(0,172,238,.3);box-shadow:0 0 8px rgba(0,172,238,.3)}.career-playbook .centered-pro .banner-pull-quote h1{margin-top:1em;display:flex;align-items:center;justify-content:center;font-family:Lato;color:#fff;background-color:#00acee;width:100%;text-align:center;padding:10px 0;min-height:80px;max-height:80px;position:absolute;font-size:2.5vw;letter-spacing:normal}.career-playbook .centered .static-bg__main,.career-playbook .centerVV .static-bg__main,.career-playbook .cornerH .static-bg__main,.career-playbook .cornerV .static-bg__main,.career-playbook .onecol .static-bg__main,.career-playbook .pip .static-bg__main,.career-playbook .twocol .static-bg__main{background-image:url("+i("O68L")+")}.career-playbook .centered .static-bg__alt,.career-playbook .centerVV .static-bg__alt,.career-playbook .cornerH .static-bg__alt,.career-playbook .cornerV .static-bg__alt,.career-playbook .onecol .static-bg__alt,.career-playbook .pip .static-bg__alt,.career-playbook .twocol .static-bg__alt{background-image:url("+i("83Nc")+")}.career-playbook .centered .item__title--file,.career-playbook .centered .item__title--link,.career-playbook .centered .item__title--link.title--link-embed,.career-playbook .centerVV .item__title--file,.career-playbook .centerVV .item__title--link,.career-playbook .centerVV .item__title--link.title--link-embed,.career-playbook .cornerH .item__title--file,.career-playbook .cornerH .item__title--link,.career-playbook .cornerH .item__title--link.title--link-embed,.career-playbook .cornerV .item__title--file,.career-playbook .cornerV .item__title--link,.career-playbook .cornerV .item__title--link.title--link-embed,.career-playbook .onecol .item__title--file,.career-playbook .onecol .item__title--link,.career-playbook .onecol .item__title--link.title--link-embed,.career-playbook .pip .item__title--file,.career-playbook .pip .item__title--link,.career-playbook .pip .item__title--link.title--link-embed,.career-playbook .twocol .item__title--file,.career-playbook .twocol .item__title--link,.career-playbook .twocol .item__title--link.title--link-embed{font-family:Lato,sans-serif;font-weight:300;color:#4d4d4d}.career-playbook .centerVV-mondrian .static-bg__main{border:4px solid #4d4d4d;background-color:#00acee}.career-playbook .centerVV-mondrian .altPane{background-color:transparent}.career-playbook .centerVV-mondrian .mainPane .item{background-color:#4d4d4d}.career-playbook .centerVV-mondrian .mainPane .item__text,.career-playbook .centerVV-mondrian .mainPane .item__text--definition h1,.career-playbook .centerVV-mondrian .mainPane .item__text--definition h2,.career-playbook .centerVV-mondrian .mainPane .item__text--definition h3,.career-playbook .centerVV-mondrian .mainPane .item__text--transmedia h1,.career-playbook .centerVV-mondrian .mainPane .item__text--transmedia h2,.career-playbook .centerVV-mondrian .mainPane .item__text--transmedia h3,.career-playbook .centerVV-mondrian .mainPane .item__title,.career-playbook .centerVV-mondrian .mainPane .item__title a{color:#fff}.career-playbook .centerVV-mondrian .mainPane .item.colorInvert{background-color:#fff!important}.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__text,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__text:before,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title:before,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title a,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert .item__title a:before,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert h1,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert h2,.career-playbook .centerVV-mondrian .mainPane .item.colorInvert h3{color:#4d4d4d!important}.career-playbook .centerVV-mondrian .item__title--image,.career-playbook .centerVV-mondrian .item__title--image-thumbnail,.career-playbook .centerVV-mondrian .item__title--image-thumbnail a,.career-playbook .centerVV-mondrian .item__title--image a,.career-playbook .centerVV-mondrian .item__title--link,.career-playbook .centerVV-mondrian .item__title--link a{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d}.career-playbook .centerVV-mondrian .item__link--fake-link{color:#fff}.career-playbook .centerVV-mondrian .item__link--escape-link{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#fff}.career-playbook .centerVV-mondrian .item__link--escape-link:before{color:#00acee}.career-playbook .centerVV-mondrian .item .displayTime,.career-playbook .centerVV-mondrian .item .startTime{font-family:Lato,sans-serif;font-weight:700;color:#4d4d4d;color:#fff}.career-playbook .centerVV-mondrian .item .displayTime a,.career-playbook .centerVV-mondrian .item .startTime a{text-decoration:underline}",""])},v35d:function(e,t,i){var n=i("1LX6");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},v60G:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="narrative__edit">',"<h2>Narrative Settings</h2>",'\t<form name="nEditForm">','\t\t<div ng-show="$ctrl._containerInfo && $ctrl.canAccess">','\t\t\t<label for="nCustomer">Customer','\t\t\t\t<itt-validation-tip ng-if="nEditForm.customer.$invalid" text="A customer must be set"></itt-validation-tip>',"\t\t\t</label>",'\t\t\t<select id="nCustomer" name="customer" required ng-model="$ctrl.selectedCustomer" ng-change="$ctrl.selectCustomer($ctrl.selectedCustomer)" ng-options="cust.name for cust in $ctrl._customers track by cust._id"></select></br>',"\t\t</div>",'   <div ng-if="$ctrl.selectedCustomer && $ctrl._containerInfo == null">',"   <h5>{{$ctrl.selectedCustomer.name}}</h5>","   </div>",'\t\t<label id="nName">Narrative Title','\t\t\t<itt-validation-tip ng-if="nEditForm.name.$invalid" text="Title is required"></itt-validation-tip>',"\t\t</label>",'\t\t<input for="nName" type="text" name="name" placeholder="Add Narrative Title" ng-model="$ctrl._narrative.name.en" required>','\t\t<label for="nDescription">Description</label>','\t\t<textarea id="nDescription" name="description" placeholder="Add a Description" ng-model="$ctrl._narrative.description.en"></textarea>','   <div ng-if="!$ctrl.hidePathSlug"><itt-guest-accessible-url narrative="$ctrl._narrative" sub-domain="{{$ctrl.selectedCustomer.domains[0]}}" customer="$ctrl.selectedCustomer"></itt-guest-accessible-url></div>','\t\t<label for="nSupportUrl">Support Url','\t\t\t<itt-validation-tip ng-if="nEditForm.supportUrl.$invalid" text="Not a valid URL"></itt-validation-tip>',"\t\t</label>",'\t\t<input id="nSupportUrl" type="text" name="supportUrl" itt-valid-url placeholder="link for support" ng-model="$ctrl._narrative.support_url"/>','\t\t<label for="nNewWindow">Disable New Window</label>','\t\t<input id="nNewWindow" type="checkbox" ng-model="$ctrl._narrative.disable_new_window"/> | ','\t\t<label for="nDisableNav">Disable Navigation</label>','\t\t<input id="nDisableNav" type="checkbox" ng-model="$ctrl._narrative.disable_navigation"/> | ','\t\t<label for="nGuestAccess">Enable Guest Access</label>','\t\t<input id="nGuestAccess" type="checkbox" ng-model="$ctrl._narrative.guest_access_allowed"/>','\t\t<div class="ancillaryNav">','\t\t\t<button class="done" ng-click="$ctrl.handleUpdate($ctrl._narrative)" ng-disabled="nEditForm.$invalid || $ctrl._narrative.error">Save</button>','\t\t\t<button class="done" ng-click="$ctrl.onDone({$event: $event})">Cancel</button>',"\t\t</div>","\t</form>","</div>"].join(" "),scope:{narrative:"=?",customers:"=",containerInfo:"=?",hidePathSlug:"=?",onDone:"&",onUpdate:"&"},controllerAs:"$ctrl",bindToController:!0,controller:["ittUtils","authSvc",function(e,t){function i(e){r.selectedCustomer=e}function n(t){s(r.selectedCustomer)&&(t.customer_id=r.selectedCustomer._id);var i=["name","description","customer_id","guest_access_allowed","path_slug","support_url","disable_navigation","disable_new_window","_id"],n=e.pick(t,i);s(r._containerInfo)?r.onUpdate({data:{n:n,c:r._containerInfo.containerId}}):r.onUpdate({n:n})}function a(){s(r._containerInfo)&&(s(r._narrative)?r._narrative.name=r._containerInfo.name:r._narrative={name:r._containerInfo.name})}function o(){if(1===r._customers.length)r.selectedCustomer=r._customers[0];else if(s(r._narrative)||s(r._containerInfo)){var e=s(r._containerInfo)&&r._containerInfo.customerId||r._narrative.customer_id;r.selectedCustomer=r._customers.filter(function(t){return t._id===e})[0]}else r._customers.unshift({name:"Select a Customer"})}var r=this,s=e.existy;angular.extend(r,{canAccess:t.userHasRole("admin")||t.userHasRole("customer admin"),_narrative:angular.copy(r.narrative),_customers:angular.copy(r.customers),_containerInfo:angular.copy(r.containerInfo),selectedCustomer:null,handleUpdate:n,selectCustomer:i}),function(){a(),o()}()}]}}t.a=n},vhlq:function(e,t,i){var n="templates/episode/ewb.html",a='<div class="episode episode-ewb" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("RRIM")+' alt="Engineers Without Borders"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},vxq4:function(e,t){var i="templates/item/sxs-image.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="itemTemplate sxs-item"> <a class=edit-event ng-click=editItem() ng-if=item.editableByThisUser>[Edit]</a> <div class=avatar> <img ng-src="{{item.avatar.url || \'/images/no-avatar.gif\'}}"> </div> <div class=itemHead> <div class=authorName ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></div> </div> <div> <b ng-bind-html=item.title.en></b> <p style=text-align:center> </p><div ng-if=item.asset.url class=touchable> <img x-ng-click=forceModal() ng-src={{item.asset.url}}> <div class=touchableIndicator></div> </div> <p></p> </div> <div class=text ng-bind-html=item.description.en></div> <div class=clear></div> </div> ')}]),e.exports=i},w19C:function(e,t,i){e.exports=i.p+"images/schoolclimatelogo-big-9b22a126022ba64f4f204ff0f387f83e.svg"},w2z7:function(e,t){},w5Vi:function(e,t){var i="templates/container.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <div class=container ng-class="{hoverIndicator: depth === 3, isActive: container.isActive && depth === 3}" ng-style="{\'text-indent\': 1 * depth + \'em\' }" ng-if=container._id> <span ng-class="{isOpen: container.showChildren && depth !== 3, isClosed: !container.showChildren && depth !== 3}" ng-click=onToggleChildren(false)> </span> <itt-modal modal-class=narrative__modal ng-if=showNarrativeModal> <itt-narrative-editor customers=customers container-info="{containerId: container._id, customerId: container.customer_id, name: container.name}" hide-path-slug=::true on-done=toggleNarrativeModal() on-update=postNewNarrative(data)> </itt-narrative-editor> <itt-route-loading is-loading=resolvingNarrative></itt-route-loading> </itt-modal> <div ng-class="{hoverIndicator: depth !== 3, isActive: container.isActive && depth !== 3}"> <div ng-if="depth === 3"> <itt-tooltip tip-text={{container.status}} class=published__state style=text-indent:0> <span ng-class="{isPublished: container.status === \'Published\', isUnPublished: container.status !== \'Published\'}"></span> </itt-tooltip> </div> <span ng-if=!container.editingContainer ng-style="depth === 3 ? {\'text-indent\': \'4em\'} : \'\'"> <itt-edit-pencil ng-if="depth !== 0" can-access=true on-edit="container.editingContainer = true"> <a ng-click=onToggleChildren(true)>{{container.name.en}}</a> </itt-edit-pencil> <a ng-if="depth === 0" ng-click=onToggleChildren(true)>{{container.name.en}}</a> </span> <div ng-if="depth === 0"> <div ng-if=!container.addingContainer> <div ng-if=container.isActive class=button__row> <div> <itt-tooltip tip-text="Add Project"> <a class="icon__button button__add-inverted" ng-click="container.addingContainer = true"></a> </itt-tooltip> <itt-tooltip tip-text="Link Status Report"> <a ng-if=isAdmin class="icon__button button__link-status" ng-click=getLinkStatusReport(container.customer_id)></a> </itt-tooltip> </div> </div> </div> <div ng-if=container.addingContainer> <label>Name:&nbsp; <input ng-model=container.newContainerTitle type=text autofocus>&nbsp; </label> <button ng-click="container.addingContainer = false">Cancel</button> <button ng-disabled=!container.newContainerTitle ng-click=addContainer(container)>Add</button> </div> </div> <div ng-if="depth === 1"> <div ng-if=!container.addingContainer> <div ng-if=container.isActive class=button__row> <div> <itt-tooltip tip-text="Add Module"> <a class="icon__button button__add-inverted" ng-click="container.addingContainer = true"></a> </itt-tooltip> <itt-tooltip tip-text="Go to assets"> <a class="icon__button button__assets" ng-href=#/assets/{{container._id}}></a> </itt-tooltip> <itt-tooltip tip-text="Generate new narrative"> <a ng-if=canAccess class="icon__button button__generateNarrative" ng-click=toggleNarrativeModal()></a> </itt-tooltip> </div> </div> </div> <div ng-if=container.addingContainer> <label>Name:&nbsp; <input ng-model=container.newContainerTitle type=text autofocus>&nbsp; </label> <button ng-click="container.addingContainer = false">Cancel</button> <button ng-disabled=!container.newContainerTitle ng-click=addContainer(container)>Add</button> </div> </div> <div ng-if="depth === 2"> <div ng-if=!container.addingContainer> <div ng-if=container.isActive class=button__row> <itt-tooltip tip-text="Add Episode"> <a class="icon__button button__add-inverted" ng-click="container.addingContainer = true"></a> </itt-tooltip> <itt-tooltip tip-text="Go to assets"> <a class="icon__button button__assets" ng-href=#/assets/{{container._id}}></a> </itt-tooltip> <itt-tooltip tip-text="Generate new narrative"> <a ng-if=canAccess class="icon__button button__generateNarrative" ng-click=toggleNarrativeModal()></a> </itt-tooltip> </div> </div> <div ng-if=container.addingContainer> <label>Name:&nbsp; <input ng-model=container.newContainerTitle type=text autofocus>&nbsp; </label> <button ng-click="container.addingContainer = false">Cancel</button> <button ng-disabled=!container.newContainerTitle ng-click=addContainer(container)>Add</button> </div> </div> <span ng-if=container.editingContainer> <label>Name:&nbsp; <input ng-model=container.newContainerName ng-init="container.newContainerName = container.name.en" type=text autofocus>&nbsp; </label> <button ng-click="container.editingContainer = false">Cancel</button> <button ng-disabled="!container.newContainerName || container.newContainerName == container.name.en" ng-click=renameContainer()>Save</button> </span> <span class=controls> <button class=danger ng-if="appState.dangerousButtons && !container.children.length && !container.haveNotLoadedChildData" ng-click=deleteEpisodeAndContainer(container._id)> Delete </button> </span> </div> <div ng-if="depth == 3 && container.isActive" class=container style=text-indent:4em> <div class=episode__button-row> <div class=episode__button> <itt-tooltip tip-text="Go to editor"> <a class="icon__button button__editor" ng-if=isDemoServer href=#/editor/{{container.episodes[0]}}></a> </itt-tooltip> <itt-tooltip tip-text="Go to producer"> <a class="icon__button button__producer" href=#/producer/{{container.episodes[0]}}></a> </itt-tooltip> <itt-tooltip tip-text="Go to assets"> <a class="icon__button button__assets" ng-href=#/assets/{{container._id}}></a> </itt-tooltip> <itt-tooltip tip-text="Generate new narrative"> <a ng-if=canAccess class="icon__button button__generateNarrative" title="Generate new narrative" ng-click=toggleNarrativeModal()></a> </itt-tooltip> </div> </div> </div> <div ng-if=container.showChildren> <div ng-if="depth < 3" ng-repeat="child in container.children" itt-container=containers[child._id] depth=depth+1 ng-class="{\'container__row--odd\': containers[child._id].evenOdd === false, \'container__row--even\': containers[child._id].evenOdd === true }" on-container-click=clickRootContext($container) on-container-add=addRootContext($container) add-root-context=addRootContext click-root-context=clickRootContext> </div> </div> </div> ')}]),e.exports=i},wAkt:function(e,t,i){var n="templates/episode/columbiabusiness.html",a='<div class="episode episode-columbiabusiness" ng-class=episode.styleCss> <div class="fill trident"></div> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="itt logo" href=//inthetelling.com target=_blank> <img src='+i("qUX4")+' alt="In The Telling logo"> </a> <span class=copyright ng-include="\'templates/copyright.html\'"></span> </div> <div class=banner-logo> <img src='+i("XWPa")+' alt="Columbia Business School"> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},wIHC:function(e,t,i){e.exports=i.p+"images/itt-incolor-ef74b932fe3192976fc97cc9b528ee1b.svg"},wM7k:function(e,t){var i="templates/episode/george-washington.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<div class="episode professional george-washington" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class=professional__branding> <div class=branding--content> <div class=professional__copyright ng-include="\'templates/copyright.html\'"></div> </div> </div> </div> ')}]),e.exports=i},wQCO:function(e,t,i){var n=i("lfm7");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},wXer:function(e,t){var i="templates/item/pullquote-noattrib.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,' <a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class="itemTemplate headerItem"> <div class=category></div> <div class="pullquote item__text item__text--pullquote" ng-bind-html="item.display_annotation | highlightSubstring: appState.searchText"></div> <div class=pullquoteSpeaker ng-if=item.display_annotator> — <span ng-bind-html="item.display_annotator | highlightSubstring: appState.searchText"></span></div> </div> ')}]),e.exports=i},wyXa:function(e,t,i){"use strict";function n(){return{restrict:"EA",template:['<div class="timeline__edit">','\t<form name="tlEditForm">','\t\t<label for="tlName">Name','\t\t\t<itt-validation-tip ng-if="tlEditForm.name.$invalid" text="Name is required"></itt-validation-tip>',"\t\t</label>",'\t\t<input type="text" name="name" ng-model="tEditor._timeline.name.en" id="tlName" required>','\t\t<label for="tlDescription">Description</label>','\t\t<textarea id="tlDescription" name="description" placeholder="Insert Description..." ng-model="tEditor._timeline.description.en"></textarea>','   <itt-guest-accessible-url narrative="tEditor.narrative" timeline="tEditor._timeline"></itt-guest-accessible-url>',"\t\t<label>Hidden</label>",'\t\t<input type="checkbox" ng-model="tEditor._timeline.hidden"/>','\t\t<div class="ancillaryNav">','\t\t\t<button class="button" ng-disabled="tlEditForm.$invalid || tEditor._timeline.error" ng-click="tEditor.onUpdate({t: tEditor._timeline})">Save</button>','\t\t\t<button class="button" ng-click="tEditor.confirmDelete()">Delete</button>','\t\t\t<button class="button" ng-click="tEditor.onDone()">Cancel</button>',"\t\t</div>","\t</form>","</div>",'<itt-modal modal-class="timeline__delete" ng-if="tEditor.underDelete">',"\t\t<h2>Are you sure?</h2>","\t\t<p>delete: </p>",'\t\t<p class="under__delete"><strong>{{tEditor._timeline.name.en}}?</strong></p>','\t\t<button ng-click="tEditor.onDelete({t: tEditor._timeline})">yes</button>','\t\t<button ng-click="tEditor.underDelete = false">no</button>',"</itt-modal>"].join(" "),scope:{timeline:"=",narrative:"=",onUpdate:"&",onDelete:"&",onDone:"&"},controller:["$location","ittUtils","config",function(e,t,i){function n(){a.underDelete=!0}var a=this,o=t.existy;a.confirmDelete=n,a.underDelete=!1,a.host=e.protocol()+":"+i.apiDataBaseUrl,o(a.timeline)&&a.timeline.isTemp===!0?a._timeline=a.timeline:a._timeline=angular.copy(a.timeline)}],controllerAs:"tEditor",bindToController:!0}}t.a=n},"x+pf":function(e,t){var i="templates/player-timeline.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<span> <div ng-if=showPlayer ng-controller=PlayerController ng-include=\"'templates/player.html'\"></div> </span> ")}]),e.exports=i},"x/xr":function(e,t,i){var n=i("VMyg");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},x93i:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,'.pane{position:relative}.bgLayer,.fgLayer,.fgLayer .item.contain,.fgLayer .item.cover,.fgLayer .item.fill,.fill,.fill .item{position:absolute;top:0;left:0;right:0;bottom:0}.windowBg.bgLayer,.windowFg.fgLayer{position:fixed}.windowFg.fgLayer{background-color:rgba(0,0,0,.5)}.windowFg.fgLayer .content{background-color:#fff;box-shadow:3px 3px 3px rgba(0,0,0,.5);position:absolute;overflow-y:scroll;padding:1em;left:4em;right:4em;top:4em;bottom:80px}.windowFg.fgLayer .content .item{margin-bottom:50px}.videoContainer{overflow:hidden}.content{position:relative}.content:after{clear:both;content:"";display:block}.bgLayer{opacity:.25}.sceneTitle{margin-left:.5em}.showBackgroundOnly .content,.showBackgroundOnly .fgLayer,.showBackgroundOnly .videoMask{opacity:0;pointer-events:none}.showBackgroundOnly .bgLayer,.showBackgroundOnly .videoContainer .fgLayer{opacity:1}.showBackgroundOnly .bgLayer .item,.showBackgroundOnly .videoContainer .fgLayer .item{pointer-events:auto}.showBackgroundOnly .windowBg .item .edit-event{margin-top:55px}.showForegroundOnly .bgLayer{display:none}.allowSidebars.hasLeftSidebar{padding-left:30%}.allowSidebars.hasRightSidebar{padding-right:30%}.hasLeftSidebar .item.sidebarL,.hasRightSidebar .item.sidebarR{font-size:smaller;padding-left:5px}.hasLeftSidebar .sidebarL .displayTime,.hasRightSidebar .sidebarR .displayTime{display:none}.allowSidebars.hasLeftSidebar .burst,.allowSidebars.hasLeftSidebar .burstL{clear:left;margin-left:-43%}.allowSidebars.hasRightSidebar .burst,.allowSidebars.hasRightSidebar .burstR{clear:right;margin-right:-43%}.allowSidebars.hasLeftSidebar .sidebarL{float:left;clear:left;margin-left:-43%;width:43%}.allowSidebars.hasRightSidebar .sidebarR{float:right;clear:right;margin-right:-43%;width:43%}.allowSidebars.hasLeftSidebar.hasRightSidebar .burst,.allowSidebars.hasLeftSidebar.hasRightSidebar .burstL{clear:left;margin-left:-75%}.allowSidebars.hasRightSidebar.hasLeftSidebar .burst,.allowSidebars.hasRightSidebar.hasLeftSidebar .burstR{clear:right;margin-right:-75%}.allowSidebars.hasLeftSidebar.hasRightSidebar .sidebarL{float:left;clear:left;margin-left:-70%;width:70%}.allowSidebars.hasLeftSidebar.hasRightSidebar .sidebarR{float:right;clear:right;margin-right:-70%!important;width:70%!important}.watchMode{position:fixed;background-color:#000;top:45px;bottom:0;left:0;right:0;text-align:center}#watchModeVideoMagnet{margin:auto}.watchModeCaptions{position:fixed;bottom:20px;font-size:120%;margin:0 10%;width:80%;transition:all 1.5s}.watchModeCaptions.padForBottomToolbar{bottom:80px}.watchModeCaption.ng-enter,.watchModeCaption.ng-leave{transition:none;display:none!important}.watchModeCaption{color:#ddd;background-color:rgba(0,0,0,.7);border-radius:8px;padding:.5em 1em;text-align:left}.watchModeCaption .startTime{display:none}@media screen and (min-width:401px) and (max-width:700px){.watchModeCaption{font-size:90%!important}}@media screen and (max-width:400px){.watchModeCaption{font-size:70%!important}}.searchMode .searchfilters{padding:1em 0 0 .5em;position:relative}.searchMode .scrollContainer{padding:0 .5em}.searchMode h1{font-size:2em}.searchMode .item .pullquote,.searchMode .item h2,.searchMode .item h3{font-size:1.4em}.searchMode .showAsHeader{font-size:1.3em;opacity:.5}.searchMode h2.searchChapter{font-size:1.6em;margin-left:-55px}.searchMode h2.searchCategory{font-size:1.6em}.searchMode .searchResults .isCosmetic{display:none}.isProducer .searchMode .searchResults .isCosmetic{display:block;opacity:.8}.isProducer .searchMode .searchResults .isCosmetic:before{background-color:#999;border-radius:.5em;color:#fff;content:"COSMETIC";font-size:.8em;font-weight:700;padding:.2em;float:right}@media screen and (min-width:750px){.searchMode .videoMagnet{width:320px;position:fixed;right:0}.searchMode .searchResults{margin-right:290px}.searchMode .searchResults .item{padding-right:50px}}@media screen and (min-width:360px) and (max-width:749px){.searchMode .videoMagnet{width:220px;position:fixed;right:0}.searchMode .searchfilters{height:100px}.searchMode .searchResults .item{padding-right:50px}}@media screen and (max-width:359px){.searchMode .videoMagnet{width:100%;position:static}.searchMode .searchfilters{height:auto;padding:1em}}.landingscreen{padding:10% 15%}.landingscreen .videoMagnet{width:50%;float:left}.landingscreen .introtext{width:45%;float:right}.landingscreen p{margin:2em 0 1em}@media screen and (max-width:501px){.landingscreen .introtext,.landingscreen .videoMagnet{width:100%;float:none}.landingscreen h1{font-size:24px}.landingscreen p{margin:1em 0}}.endingscreen{padding:5% 10%}.endingscreen .videoMagnet{margin:0 30%}.crossEpisodeNav{list-style:none;margin-left:1em;font-size:.95em}.scene.cornerV{display:flex}.scene.cornerV .col{width:50%}.scene.cornerV.videoLeft{flex-direction:row}.scene.cornerV.videoRight{flex-direction:row-reverse}.scene.centerVV{display:flex}.scene.centerVV .col{width:50%}.scene.centerVV .videoMagnet{margin:0 auto;margin-top:8.5em;width:95%}.scene.centerVV.videoLeft{flex-direction:row}.scene.centerVV.videoRight{flex-direction:row-reverse}.scene.centerVV-mondrian{display:flex}.scene.centerVV-mondrian .col{width:50%}.scene.centerVV-mondrian .videoMagnet{margin:0 auto;margin-top:5em;width:95%}.scene.centerVV-mondrian.videoLeft{flex-direction:row}.scene.centerVV-mondrian.videoRight{flex-direction:row-reverse}.scene.cornerH .row{display:flex}.scene.cornerH .mainPane,.scene.cornerH .videoMagnet{width:50%}.scene.cornerH .mainPane{overflow-y:scroll;-webkit-overflow-scrolling:touch;overflow-x:hidden}.scene.cornerH .altPane{width:100%}.scene.cornerH.videoLeft .row{flex-direction:row}.scene.cornerH.videoRight .row{flex-direction:row-reverse}.scene.twocol{display:flex}.scene.twocol .videoPositioner{width:100%;position:absolute}.scene.twocol .videoMagnet{width:50%;margin:0 25%}.scene.twocol .col{width:50%}.scene.twocol.videoLeft .videoMagnet{margin:0 50% 0 0}.scene.twocol.videoLeft .col2 .matchVideoHeight{display:none}.scene.twocol.videoRight .videoMagnet{margin:0 0 0 50%}.scene.twocol.videoRight .col1 .matchVideoHeight{display:none}.scene.onecol .col,.scene.onecol .videoMagnet{margin:-3.5px 20%;width:60%}.scene.onecol.videoRight .videoMagnet{margin-right:0;width:80%}.scene.onecol.videoLeft .videoMagnet{margin-left:0;width:80%}@media screen and (min-width:1000px) and (min-height:700px){.scene.onecol .col,.scene.onecol .videoMagnet{margin:-3.5px 25%}.scene.onecol .videoPositioner{width:100%}.scene.onecol.videoRight .videoMagnet{margin-top:5%;margin-right:0;right:0;left:55%}.scene.onecol.videoRight .col{margin:0 50% 0 5%}.scene.onecol.videoLeft .videoMagnet{margin-top:5%;margin-left:0;left:0;right:55%}.scene.onecol.videoLeft .col{margin:0 5% 0 50%}}.scene.centered .col{padding:10% 20% 0}@media screen and (min-width:900px){.scene.centered .col{padding:7% 25% 0}}.scene.centered-pro .col{padding:2% 20% 0}.scene.centered-pro .videoMagnet{margin-top:6em}.scene.pip .mainPane{background-color:hsla(0,0%,100%,.9);border-radius:2em;bottom:30px;overflow:hidden;position:fixed;right:30px;width:60%;z-index:3;box-shadow:1px 1px 4px rgba(0,0,0,.2);padding:.5em}.scene.pip .mainPane .content{border-radius:1.5em;overflow:hidden}.scene.pip .mainPane .content .item:first-child{padding-top:.7em}.scene.pip .altPane{padding-bottom:300px}.scene.pip .altPane .item{text-align:center}.scene.pip .videoMagnet{width:30%;position:fixed;bottom:30px;left:30px}.scene.pip .padForBottomToolbar .mainPane,.scene.pip .padForBottomToolbar .videoMagnet{bottom:80px}.scene.pip.videoRight .videoMagnet{left:auto;right:30px}.scene.pip.videoRight .mainPane{right:auto;left:30px}',""])},"xHF/":function(e,t,i){e.exports=i.p+"images/Grid_Graphic-01-7aa873a630145949ca419e6dfd83b80d.svg"},xJIa:function(e,t,i){"use strict";function n(e,t,i,n){return{require:"?ngModel",scope:{onValidationNotice:"&"},link:function(a,o,r,s){function l(e){return/mailto:/.test(e)}function c(e){return t.existy(e)&&/^http:\/\//.test(e)?u.mixedContent={message:"Mixed Content Detected",showInfo:!0}:u.mixedContent={message:"",showInfo:!1},!0}function d(e){return s.$isEmpty(e)&&!l(e)?(u.url={showInfo:!0,message:"Url cannot be blank"},!1):n.isVideoUrl(e)||t.isValidURL(e)||l(e)?(u.url={showInfo:!1},!0):(u.url={showInfo:!0,message:e+" is not a valid URL"},!1)}function m(a){return s.$isEmpty(a)||n.isVideoUrl(a)||/^http:\/\//.test(a)||l(a)?e(function(e){return u.xFrameOpts={showInfo:!1},e()}):i.checkXFrameOpts(a).then(function(i){var n="";if(t.existy(i.location)&&(n=a+"redirected to "+i.location,u[301]={showInfo:!0,message:n,doInfo:!0,url:i.location}),t.existy(i.response_code)&&404===i.response_code)return n=a+" cannot be found",u[404]={showInfo:!0,message:n},e.reject("404");i.noEmbed?(n="Embedded link template is disabled because "+a+" does not allow iframing",u.xFrameOpts={showInfo:!0,message:n,doInfo:!0}):u.xFrameOpts={showInfo:!1},i.error_message&&(u.xFrameOpts={showInfo:!0,message:a+" cannot be embedded: "+i.error_message})})}var p={showInfo:!1,message:"",doInfo:!1},u={404:p,301:p,url:p,mixedContent:p,xFrameOpts:p};a.$on("url:focus",function(){u[404]=p,u[301]=p,u.xFrameOpts=p}),s.$validators={mixedContent:c,url:d},s.$asyncValidators.xFrameOpts=m,s&&a.$watch(function(){return u},function(e,t){angular.equals(e,t)||a.onValidationNotice({$notice:e})},!0)}}}t.a=n,n.$inject=["$q","ittUtils","dataSvc","urlService"]},xQo2:function(e,t,i){e.exports=i.p+"images/kellogg-banner-c0913f370aa942700f79cd7329415fc1.svg"},xbCZ:function(e,t,i){e.exports=i.p+"images/Narrasys_Tree-4eb58e753bae34dcf9176ab6a32e0922.svg"},xs09:function(e,t,i){var n="templates/episode/story.html",a='<div class="episode episode-story" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent " ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class="branding footer"> <a class="narrasys-brand narrasys-logo" href=//Narrasys.com target=_blank rel="noopener noreferrer"> <img src='+i("rFfA")+' alt="Narrasys logo"> </a> <nys-copyright class=copyright></nys-copyright> </div> </div> ';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},y07u:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s,l,c,d,m){return{restrict:"A",replace:!1,scope:{item:"=ittItem"},template:function(e,t){return t.forcetemplate?"<div ng-include=\"'templates/item/"+t.forcetemplate+".html'\"></div>":'<div ng-include="item.templateUrl"></div>'},controller:"ItemController",link:function(p,u){p.appState=o,p.userHasRole=a.userHasRole,p.item.avatar_id&&(p.item.avatar=l.assets[p.item.avatar_id]),"internal:editing"===p.item._id?u.addClass("noTransitions"):(a.userHasRole("admin")||a.userHasRole("customer admin")||p.item.user_id===o.user._id)&&(p.item.editableByThisUser=!0),p.toggleDetailView=function(){p.item.showInlineDetail?p.item.showInlineDetail=!1:(s.pause(),p.captureInteraction(),u.width()>450?p.item.showInlineDetail=!0:o.itemDetail={item:p.item,animate:!0})};var g={ENTER:13,SPACE:32};if(p.toggleDetailOnKeyPress=function(e){var t=e,i=!0;switch(t.keyCode){case g.ENTER:case g.SPACE:p.toggleDetailView(),i=!1;break;default:i=!0}i||(e.stopPropagation(),e.preventDefault())},p.forceModal=function(e){void 0===e&&(e=!0),s.pause(),o.itemDetail={item:p.item,animate:e}},p.outgoingLinkOnKeyPress=function(e,t){var i=t,n=!0;switch(i.keyCode){case g.ENTER:case g.SPACE:p.outgoingLink(e),n=!1;break;default:n=!0}n||(t.stopPropagation(),t.preventDefault())},p.outgoingLink=function(e){if(s.pause(),p.captureInteraction(),m.isVideoUrl(e)){d.pause(p.item._id);var i=Math.floor(d.getCurrentTime(p.item._id))||0;e=m.getOutgoingUrl(e,i)}p.item.targetTop?t(function(){window.location.href=e}):window.open(e)},p.editItem=function(){o.editEvent=p.item,o.editEvent.templateOpts=c.getTemplates(p.item.producerItemType);var e=c.setupItemForm(o.editEvent.styles,"item");c.onSelectChange(o.editEvent,e),o.videoControlsActive=!0,o.videoControlsLocked=!0},p.captureInteraction=function(){r.captureEventActivity("clicked",p.item._id)},"templates/item/link-embed.html"===p.item.templateUrl)var f=p.$watch(function(){return d.getMetaProp("time")>p.item.start_time},function(e){e&&(p.captureInteraction(),f())});if(p.item.asset_id&&!p.item.asset&&(p.item.asset=l.assets[p.item.asset_id]),p.item.asset&&p.item.styleCss&&p.item.styleCss.match(/fill|contain|cover/)&&(p.item.asset.cssUrl="url('"+p.item.asset.url+"');",p.item.backgroundImageStyle="background-image: url('"+p.item.asset.url+"');"),p.item.data&&(p.plugin=p.item.data._plugin,p.plugin._type=p.item.data._pluginType,"credlyBadge"===p.plugin._type)){r.captureEventActivity("viewed",p.item._id),o.user.roles&&1===o.user.roles.length&&"guest"===o.user.roles[0]?p.plugin.eligibleForBadges=!1:(p.plugin.eligibleForBadges=!0,o.user.emails?p.plugin.userEmail=o.user.emails[0]:p.plugin.userEmail="",p.plugin.totalAchieved=0),p.checkBadgeEligibility=function(){p.plugin.eligibleForBadges&&angular.forEach(p.plugin.requirements,function(e){e.achieved||r.readEventActivity(e.eventId,e.activity).then(function(t){e.achieved=t,p.countAchievements()}),p.countAchievements()})},p.countAchievements=function(){var e=0;angular.forEach(p.plugin.requirements,function(t){t.achieved&&(e+=1)}),p.plugin.totalAchieved=e,p.plugin.totalAchieved===p.plugin.requirements.length&&(l.episodes[o.episodeId].styleCss=l.episodes[o.episodeId].styleCss+" uscHackUserHasBadge")},p.checkBadgeEligibility();var h=0;p.badgePoll=i(function(){h++,(p.item.isCurrent||"review"===o.viewMode)&&p.checkBadgeEligibility(),h>60&&i.cancel(p.badgePoll)},1e4),p.$on("$destroy",function(){i.cancel(p.badgePoll)}),p.badger=function(){p.plugin.gettingBadge=!0,e({method:"GET",url:n.apiDataBaseUrl+"/v1/send_credly_badge?badge_id="+p.plugin.credlyBadgeId+"&email="+p.plugin.userEmail}).success(function(e){p.checkBadgeEligibility(),"Badge previously sent."===e.status&&(p.plugin.alreadyHadBadge=!0),p.plugin.gotBadge=!0}).error(function(){p.plugin.gettingBadge=!1,p.plugin.error=!0})}}}}}t.a=n,n.$inject=["$http","$timeout","$interval","config","authSvc","appState","analyticsSvc","timelineSvc","modelSvc","selectService","playbackService","urlService"]},y48G:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r){function s(e,t,i){if(!(A(L(e))&&Q(e,"startAtTime")>0)){t&&(V={},T=e);var n={mainPlayer:t,div:I(e),ytId:o.extractYoutubeId(i[0])};z(e,O(n,U))}}function l(e){function t(t){L(e).instance=t,j(e,"ytId",c)}function i(){return x(e,c,o,s,r,l).then(t).catch(a)}function a(e){n.error({data:"Network timeout initializing video player. Please try again."},e)}function o(e){var t=k(e.target);j(t,"playerState",e.data);var i=S(e,t),n=Q(t,"bufferInterval");e.data===YT.PlayerState.ENDED&&e.target.stopVideo(),e.data===YT.PlayerState.BUFFERING?(n=Z(function(){e.target.getPlayerState()===YT.PlayerState.BUFFERING&&w(t)},7e3),j(t,"bufferInterval",n)):ee(n),C(i)}function r(e){var t=k(e.target),i=S({data:"6"},t);j(t,"duration",e.target.getDuration()),console.log("_reset duration!"),C(i)}function s(e){var t=k(e.target);"medium"===e.data&&/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&f(t,"large")}function l(e){var t=k(e.target);5===e.data&&(console.warn("resetting for chrome!!!"),w(t))}var c=Q(e,"ytId");x(e,c,o,s,r,l).then(t).catch(i)}function c(e,t){var i=H(e);A(i)&&i.getAvailablePlaybackRates().length>1&&i.setPlaybackRate(t)}function d(e){var t=H(e);if(A(t))return E(t,"getCurrentTime")}function m(e){var t=H(e);if(A(t))return a[E(t,"getPlayerState")]}function p(e){var t=H(e);A(t)&&E(t,"playVideo")}function u(e){var t=H(e);A(t)&&E(t,"pauseVideo")}function g(e){var t=H(e);A(t)&&E(t,"stopVideo")}function f(e,t){var i=H(e);A(i)&&i.setPlaybackQuality(t)}function h(e){var t=H(e);if(A(t))return 100*t.getVideoLoadedFraction()}function v(e,t){var i=H(e),n=Q(e,"ytId"),o=a[Q(e,"playerState")],r=m(e);if(A(i))if("video cued"===r)switch(o){case"paused":case"playing":i.cueVideoById(n,t);break;case"video cued":e===T?(t>.1&&Q(e,"autoplay")===!1&&G(_),E(i,"seekTo",t)):i.cueVideoById(n,t)}else E(i,"seekTo",t,!0)}function b(e){var t=H(e);t.isMuted()?t.unMute():t.mute()}function y(e,t){var i=H(e);A(i)&&i.setVolume(t)}function _(e){"playing"===e.state&&(q(_),u(e.emitterId))}function w(e){var t=H(e),i=Q(e,"mainPlayer");if(A(t)){console.log("debug info",t.getDebugText());var n=t.getVideoData().video_id,a=t.getCurrentTime();i===!0?t.cueVideoById(n,a):t.loadVideoById(n,a)}}function x(t,n,a,o,r,s){var l=1;t===T&&(l=0);var c=e.host();return i.load().then(function(){return new YT.Player(t,{videoId:n,playerVars:{controls:l,fs:l,enablejsapi:1,modestbranding:1,showinfo:0,rel:0,iv_load_policy:3,origin:c,wmode:"transparent"},events:{onReady:r,onStateChange:a,onPlaybackQualityChange:o,onError:s}})})}function A(e){return null!=e}function k(e){return e.getIframe().id}function S(e,t){return{emitterId:t,state:a[e.data]}}function C(e){te().forEach(function(t){t(e)})}function I(e){return'<div id="'+e+'"></div>'}function E(e,t,i,n){var a;try{A(i)&&A(n)?e[t](i,n):A(i)?e[t](i):a=e[t]()}catch(i){console.warn("error trying",t,"with",e[t],"full error:",i)}if(A(a))return a}var T,V={},P=r({players:V,type:"youtube"}),B=P.commonMetaProps,M={ytId:"",videoType:"youtube",bufferInterval:null},U={instance:null,meta:{}};angular.extend(U.meta,M,B);var D=Object.keys(U.meta),N=function(e){return A(L(e))&&Q(e,"ready")===!0},R=function(e){E(H(e),"destroy")},F=function(e){j(e,"time",Q(e,"duration")),t.ngTimeout(function(){"ended"!==m(e)&&(console.log("on ended state",m(e)),g(e))},500)},L=P.getPlayer,z=P.setPlayer,H=P.getInstance(N),O=P.createMetaObj,$=P.getMetaObj,Q=P.getMetaProp,j=P.setMetaProp(D),G=P.registerStateChangeListener,q=P.unregisterStateChangeListener,Y=P.pauseOtherPlayers(u,m),J=P.getPlayerDiv,K=P.resetPlayerManager(R),W=P.renamePid,X=P.handleTimelineEnd(F),Z=t.ngTimeout,ee=t.cancelNgTimeout,te=P.getStateChangeListeners;return{type:"youtube",getMetaProp:Q,setMetaProp:j,getMetaObj:$,getPlayerDiv:J,pauseOtherPlayers:Y,registerStateChangeListener:G,unregisterStateChangeListener:q,resetPlayerManager:K,renamePid:W,seedPlayerManager:s,create:l,play:p,pause:u,seekTo:v,getCurrentTime:d,getPlayerState:m,getBufferedPercent:h,toggleMute:b,setVolume:y,setSpeed:c,setPlaybackQuality:f,freezeMetaProps:angular.noop,unFreezeMetaProps:angular.noop,stop:g,handleTimelineEnd:X}}t.a=n,n.$inject=["$location","ittUtils","YTScriptLoader","errorSvc","PLAYERSTATES","youtubeUrlService","playerManagerCommons"]},yAf5:function(e,t,i){"use strict";function n(e,t,i,n,a,o,r,s){function l(e){e=F(e),W(q[e])&&q[e].handleTimelineEnd(e)}function c(e,t,i){if(i!==!0||!W(q[t])){var n=o.parseMediaSrcArr(e),a=$(n);q[t]=a,G=!1,i&&(Q=t,O()),a.seedPlayerManager(t,i,n[0].mediaSrcArr)}}function d(e){q[e].create(e)}function m(e){S("ready",F(e))===!0&&q[F(e)].play(F(e))}function p(e){S("ready",F(e))===!0&&q[F(e)].pause(F(e))}function u(e,t){S("ready",F(t))===!0&&q[F(t)].seekTo(F(t),parseFloat(e))}function g(e){return"paused"===e||"unstarted"===e||"video cued"===e||"ended"===e||"player ready"===e}function f(e,t){e=F(e);var i=w(e);if(S("time",e)>=S("duration",e)&&e===Q)return t();g(i)===!0?m(e):p(e)}function h(e){angular.forEach(J,function(t){t.pauseOtherPlayers(F(e))}),angular.forEach(q,function(t,i){i!==e&&i!==Q&&t.setMetaProp(i,"playerState","2")})}function v(e){for(var t=Y.length;t--;)if(e.toString()===Y[t].toString())return;Y.push(e)}function b(e){Y=Y.filter(function(t){return t.toString()!==e.toString()})}function y(e){if(W(q[F(e)]))return q[F(e)].getCurrentTime(F(e))}function _(e){return q[F(e)].getPlayerDiv(F(e))}function w(e){return q[F(e)].getPlayerState(F(e))}function x(e,t){return q[F(t)].setSpeed(F(t),e)}function A(e){return q[F(e)].toggleMute(F(e))}function k(e,t){q[F(t)].setVolume(F(t),e)}function S(e,t){var i=F(t);if(W(q[i]))return q[i].getMetaProp(i,e)}function C(e,t,i){var n=F(i);W(q[n])&&q[n].setMetaProp(n,e,t)}function I(){return K}function E(e){K=e}function T(e){q[F(e)].freezeMetaProps(F(e))}function V(e){q[F(e)].unFreezeMetaProps(F(e))}function P(e){if(W(q[F(e)]))return q[F(e)].getMetaObj(F(e))}function B(){G=!0,q={},angular.forEach(J,function(e){e.resetPlayerManager()}),Q="",K="",e.cancel(j)}function M(e){e!==Q?G===!1&&R(e):L("reset")}function U(e){q[F(e)].stop(F(e))}function D(e,t){W(q[e])&&q[e].renamePid(e,t),e===Q&&(Q=t),a.renameKey(e,t,q)}function N(e){return e=F(e),q[e].getBufferedPercent(e)}function R(e){C("startAtTime",y(e),e),C("hasResumedFromStartAt",!1,e),C("ready",!1,e),T(e)}function F(e){return W(e)?e:Q}function L(e){angular.forEach(Y,function(t){t(e)})}function z(e){var t=s[S("playerState",e)],i=S("startAtTime",e),n=S("hasResumedFromStartAt",e),a=S("resetInProgress",e);if(C("ready",!0,e),e===Q&&a===!1&&(C("playerState","5",e),L("video cued",e)),0===i&&S("autoplay",e)===!0&&(m(e),C("autoplay",!1,e)),i>0&&n===!1){if(u(i,e),a===!0)return m(e),void C("resetInProgress",!1,e);S("autoplay",e)===!0&&(m(e),C("autoplay",!1,e)),e!==Q&&(C("hasResumedFromStartAt",!0,e),"playing"===t&&m(e))}}function H(e){var t=e.state,i=e.emitterId;switch(t){case"unstarted":case"ended":break;case"playing":S("hasBeenPlayed",i)===!1&&C("hasBeenPlayed",!0,i),angular.forEach(J,function(e){e.pauseOtherPlayers(i)});break;case"paused":case"buffering":case"video cued":break;case"player ready":z(i)}"player ready"!==t&&C("playerState",r[t],i),i===Q&&L(t)}function O(){j=e(function(){C("bufferedPercent",N(Q),Q)},200)}function $(e){for(var t=J.length,i=null;t--;)if(e.length>0&&J[t].type===e[0].type){i=J[t];break}return i}var Q,j,G,q={},Y=[],J=[i,t,n],K="",W=a.existy;return angular.forEach(J,function(e){e.registerStateChangeListener(H)}),{seedPlayer:c,createInstance:d,play:m,pause:p,seek:u,getCurrentTime:y,getPlayerState:w,toggleMute:A,setVolume:k,getPlayerDiv:_,setSpeed:x,registerStateChangeListener:v,unregisterStateChangeListener:b,getMetaProp:S,setMetaProp:C,getTimelineState:I,setTimelineState:E,freezeMetaProps:T,unFreezeMetaProps:V,getMetaObj:P,pauseOtherPlayers:h,handle$Destroy:M,resetPlaybackService:B,stop:U,allowPlayback:g,togglePlayback:f,renamePid:D,handleTimelineEnd:l}}t.a=n,n.$inject=["$interval","youTubePlayerManager","html5PlayerManager","kalturaPlayerManager","ittUtils","urlService","PLAYERSTATES_WORD","PLAYERSTATES"]},yIcp:function(e,t,i){"use strict";function n(e,t){return{restrict:"A",replace:!0,scope:{},templateUrl:"templates/producer/addcontent.html",controller:"EditController",link:function(i){i.appState=e,i.playbackService=t,i.expand=function(){i.expanded=!0,angular.element(document).one("mouseup.addcontent",function(){i.collapse()})},i.collapse=function(){i.expanded=!1}}}}t.a=n,n.$inject=["appState","playbackService"]},"yQ/W":function(e,t,i){e.exports=i.p+"images/kellogg-banner-sm-4814e478d159f878c1623e6a4e2c18d3.svg"},yRIp:function(e,t,i){var n="templates/episode/fieldpros.html",a='<div class="episode professional field-pros" ng-class=episode.styleCss> <span ng-include="\'templates/episode/components/reviewmode.html\'"></span> <span ng-include="\'templates/episode/components/watchmode.html\'"></span> <span ng-repeat="scene in episode.scenes | isCurrent" ng-include="\'templates/episode/components/discovermode.html\'"></span> <span ng-include="\'templates/episode/components/video.html\'"></span> <span ng-include="\'templates/episode/components/windowfg.html\'"></span> <div ng-if="appState.viewMode != \'watch\'" class=professional__branding> <div class=branding--content> <nys-copyright class=professional__copyright></nys-copyright> <img class=professional__logo src='+i("RSWg")+" /> </div> </div> </div> ";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},yexq:function(e,t,i){var n=i("Guq0");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},ylp1:function(e,t,i){var n=i("CMCi");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},yulP:function(e,t){var i="templates/episode/wiley3.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,"<div ng-include=\"'templates/episode/wiley1.html'\"></div> ")}]),e.exports=i},zlnO:function(e,t,i){var n=i("unpt");"string"==typeof n&&(n=[[e.i,n,""]]);i("fjbf")(n,{});n.locals&&(e.exports=n.locals)},zuiT:function(e,t){var i="templates/item/link.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(i,'<a class=edit-event ng-click=editItem()> <span>Edit item</span> </a> <div class=itemTemplate> <div class=itemHead> <a role=button aria-label="Seek video to {{item.displayStartTime}}" tabindex=0 class="startTime displayTime" x-ng-click=seek(item.start_time) x-ng-keypress="seekOnKeyPress(item.start_time, $event)">{{item.displayStartTime}}</a> <div class="category item__title"> <span ng-if=item.required>(Required viewing)</span> </div> </div> <div class="text item__text"> <span ng-if=item.noEmbed> <span ng-if=!item.targetTop> <div class="title item__title item__title--link title--link-with-image"> <a tabindex=0 class="escapelink item__link--escape-link escape-link--link-with-image" x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 ng-if=item.asset.url x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-if=item.asset.url ng-src={{item.asset.url}}> </a> </span> <span ng-if=item.targetTop> <div class="title item__title item__title--link title--link-with-image"> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <a tabindex=0 target=_top x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url)> <img ng-if=item.asset.url ng-src={{item.asset.url}}> </a> </span> </span> <span ng-if=!item.noEmbed> <div class="title item__title item__title--link title--link-with-image"> <a role=button x-ng-keypress=toggleDetailOnKeyPress($event) class="fakeLink item__link--fake-link" tabindex=0 ng-click=toggleDetailView() ng-bind-html="item.display_title || \'(Untitled)\' | highlightSubstring: appState.searchText"></a> </div> <img ng-if=item.asset.url ng-click=toggleDetailView() ng-src={{item.asset.url}}> </span> <div class="item__text item__text--link text--link-with-image" ng-bind-html="item.display_description | highlightSubstring: appState.searchText"></div> </div> </div> <div class=itemDetail ng-if=item.showInlineDetail> <a tabindex=0 ng-if=!item.noExternalLink x-ng-keypress=outgoingLinkOnKeyPress(item.url,$event) ng-click=outgoingLink(item.url) class="escapelink item__link--escape-link escape-link--link-with-image">(new window)</a> <itt-iframe ng-if=!item.isVideoUrl x-src={{item.url}} item=item></itt-iframe> <itt-video ng-if=item.isVideoUrl media-src-arr=[item.url] player-id=item._id main-player=false> </itt-video> </div> <div class=clear></div> ')}]),e.exports=i},zvbA:function(e,t,i){"use strict";function n(){return{restrict:"EA",scope:!0,template:['<div class="field">','\t<div class="label"><span ng-if="episode">Display </span>Timestamp</div>','\t<div class="input">','\t\t<select size="1" ng-model="itemForm.timestamp">','\t\t\t<option ng-if="episode" value="">(Default)</option>','\t\t\t<option ng-if="item._type === \'Scene\'" value="">(Inherit from episode)</option>','\t\t\t<option ng-if="item._type !== \'Scene\'" value="">(Inherit from layout)</option>','\t\t\t<option value="None">Off</option>','\t\t\t<option value="Inline">On</option>',"\t\t</select>","\t</div>","</div>"].join(" ")}}t.a=n}},["m2IE"]);
//# sourceMappingURL=app.f2c9be9496ca11a4b0ae.min.js.map