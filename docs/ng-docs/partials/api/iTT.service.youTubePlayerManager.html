<h1><code ng:non-bindable="">youTubePlayerManager</code>
<div><span class="hint">service in module <code ng:non-bindable="">iTT</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="itt-service-page itt-service-youtubeplayermanager-page"><p>A service for working with youtube iframes
<a href="https://github.com/InTheTelling/client/blob/master/app/scripts/services/YouTubePlayerManager.svc.js">source</a></p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="#/api/ng.$q">$q</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$location">$location</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/appState">appState</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/timelineSvc">timelineSvc</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/YoutubePlayerApi">YoutubePlayerApi</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/errorSvc">errorSvc</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_create">create(divId, videoId, stateCb, qualityChangeCB, onReadyCB)</h3>
<div class="create"><div class="-create-page"><p>Used to create an instance of the YT object which is necessary to
interface with the youtube Iframe API</p>
</div><h5 id="methods_create_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>divId</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-create-page"><p>Unique ID of Div element to append iframe into</p>
</div></td></tr><tr><td>videoId</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-create-page"><p>The youtube Video ID</p>
</div></td></tr><tr><td>stateCb</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="-create-page"><p>Optional control flow callback</p>
</div> <p><em>(default: noop)</em></p></td></tr><tr><td>qualityChangeCB</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="-create-page"><p>Optional quality change callback</p>
</div> <p><em>(default: noop)</em></p></td></tr><tr><td>onReadyCB</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="-create-page"><p>Optional onReady callback</p>
</div> <p><em>(default: noop)</em></p></td></tr></tbody></table><h5 id="methods_create_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-create-page"><p>has no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_destroy">destroy(pid)</h3>
<div class="destroy"><div class="-destroy-page"><p>Used to destroy YT instances and clear them from the _players object</p>
</div><h5 id="methods_destroy_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-destroy-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_destroy_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-destroy-page"><p>No return value.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getcurrenttime">getCurrentTime(pid)</h3>
<div class="getcurrenttime"><div class="-getcurrenttime-page"><p>Used to get the current time of youtube video.</p>
</div><h5 id="methods_getcurrenttime_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-getcurrenttime-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_getcurrenttime_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-getcurrenttime-page"><p>The current time of video in seconds.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getvideoloadedfraction">getVideoLoadedFraction(pid)</h3>
<div class="getvideoloadedfraction"><div class="-getvideoloadedfraction-page"><p>Used to determine the percent of buffered video</p>
</div><h5 id="methods_getvideoloadedfraction_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-getvideoloadedfraction-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_getvideoloadedfraction_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-getvideoloadedfraction-page"><p>Numerical value representing
percent of video that is currently buffered</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_ismuted">isMuted(pid)</h3>
<div class="ismuted"><div class="-ismuted-page"><p>Getter to determine mute state</p>
</div><h5 id="methods_ismuted_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-ismuted-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_ismuted_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-ismuted-page"><p>Bool representing mute state</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_mute">mute(pid)</h3>
<div class="mute"><div class="-mute-page"><p>Sets isMuted to true</p>
</div><h5 id="methods_mute_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-mute-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_mute_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-mute-page"><p>No return value.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_pause">pause(pid)</h3>
<div class="pause"><div class="-pause-page"><p>Used to pause playback</p>
</div><h5 id="methods_pause_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-pause-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_pause_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-pause-page"><p>no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_pauseembeds">pauseEmbeds()</h3>
<div class="pauseembeds"><div class="-pauseembeds-page"><p>Loops through all YT instances except main player and calls
pause() on each one.</p>
</div><h5 id="methods_pauseembeds_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-pauseembeds-page"><p>No return value.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_pauseotherembeds">pauseOtherEmbeds(pid)</h3>
<div class="pauseotherembeds"><div class="-pauseotherembeds-page"><p>Loops through all YT instances except main player and
player with same PID as the id param and calls
pause() on each one. In other words, will pause all
embeds except the one you interacted with.</p>
</div><h5 id="methods_pauseotherembeds_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-pauseotherembeds-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_pauseotherembeds_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-pauseotherembeds-page"><p>No return value.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_play">play(pid)</h3>
<div class="play"><div class="-play-page"><p>Used to resume playback</p>
</div><h5 id="methods_play_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-play-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_play_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-play-page"><p>no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_playerstate">playerState(pid)</h3>
<div class="playerstate"><div class="-playerstate-page"><p>Used to get the playerState of a YT instance. Possible states:
-1 = unstarted
0 = ended,
1 = playing,
2 = paused,
3 = buffering,
5 = video cued</p>
</div><h5 id="methods_playerstate_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-playerstate-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_playerstate_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-playerstate-page"><p>Int representing current player state.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_seekto">seekTo(pid, t, allowSeekAhead)</h3>
<div class="seekto"><div class="-seekto-page"><p>Used to seek the video to a desired time in seconds</p>
</div><h5 id="methods_seekto_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-seekto-page"><p>The ID of the YT instance</p>
</div></td></tr><tr><td>t</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-seekto-page"><p>The desired time to seek to</p>
</div></td></tr><tr><td>allowSeekAhead</td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-seekto-page"><p>Determines whether the player will make a new request to
the server if the t (seconds) parameter specifies a time outside of the currently
buffered video data</p>
</div></td></tr></tbody></table><h5 id="methods_seekto_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-seekto-page"><p>no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_setplaybackquality">setPlaybackQuality(pid)</h3>
<div class="setplaybackquality"><div class="-setplaybackquality-page"><p>Used to pick a desired video quality</p>
</div><h5 id="methods_setplaybackquality_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-setplaybackquality-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_setplaybackquality_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-setplaybackquality-page"><p>no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_setplayer">setPlayer(id, mainPlayer)</h3>
<div class="setplayer"><div class="-setplayer-page"><p>Used to set the PID / divID for a YT instance, is called prior to create()</p>
</div><h5 id="methods_setplayer_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>id</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-setplayer-page"><p>Main Video Asset ID or Event ID (for embeds)</p>
</div></td></tr><tr><td>mainPlayer</td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-setplayer-page"><p>Determines type of player, embed or main</p>
</div></td></tr></tbody></table><h5 id="methods_setplayer_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-setplayer-page"><p>Div ID of YT instance.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_setvolume">setVolume(pid, v)</h3>
<div class="setvolume"><div class="-setvolume-page"><p>Setter for volume level</p>
</div><h5 id="methods_setvolume_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-setvolume-page"><p>The ID of the YT instance</p>
</div></td></tr><tr><td>v</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-setvolume-page"><p>Number between 1 and 100</p>
</div></td></tr></tbody></table><h5 id="methods_setvolume_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-setvolume-page"><p>No return value.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_unmute">unMute(pid)</h3>
<div class="unmute"><div class="-unmute-page"><p>Sets isMuted to false</p>
</div><h5 id="methods_unmute_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>pid</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-unmute-page"><p>The ID of the YT instance</p>
</div></td></tr></tbody></table><h5 id="methods_unmute_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-unmute-page"><p>No return value.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods__guid">_guid()</h3>
<div class="_guid"><div class="-guid-page"><p>Used to generate an 8 digit &#39;unique&#39; string in order to guarantee
uniqueness for embedded YT instances div ID&#39;s</p>
</div><h5 id="methods__guid_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="-guid-page"><p>8 digit &#39;unique&#39; identifier.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_onplayerqualitychange">onPlayerQualityChange(event)</h3>
<div class="onplayerqualitychange"><div class="onplayerqualitychange-page"><p>Event Handler called when changing playback quality</p>
</div><h5 id="methods_onplayerqualitychange_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="onplayerqualitychange-page"><p>an object with target and data properties with metadata regarding the event and
player that emitted it.</p>
</div></td></tr></tbody></table><h5 id="methods_onplayerqualitychange_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="onplayerqualitychange-page"><p>has no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_onplayerstatechange">onPlayerStateChange(event)</h3>
<div class="onplayerstatechange"><div class="onplayerstatechange-page"><p>Event handler responsible responsible for handling events emitted from a youtube player instance
Responsible for interaction between our app and youtube iframes. Toggles playback
between main and embedded videos</p>
</div><h5 id="methods_onplayerstatechange_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="onplayerstatechange-page"><p>an object with target and data properties with metadata regarding the event and
player that emitted it.</p>
</div></td></tr></tbody></table><h5 id="methods_onplayerstatechange_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="onplayerstatechange-page"><p>has no return value</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_onready">onReady(event)</h3>
<div class="onready"><div class="onready-page"><p>Event Handler called when YT instance is ready</p>
</div><h5 id="methods_onready_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>event</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="onready-page"><p>an object with target and data properties with metadata regarding the event and
player that emitted it.</p>
</div></td></tr></tbody></table><h5 id="methods_onready_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="onready-page"><p>has no return value</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
