<h1><code ng:non-bindable="">imageResize</code>
<div><span class="hint">service in module <code ng:non-bindable="">services</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="services-imageresize-page"><p>Resize images and convert File Objects into images. Used in practice to resize images client side prior
to uploading to AWS. Basic Idea is to resize images client side with HTML5 Canvas. The resized image
is converted back into a File object so it can be passed to the AWS service.</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="#/services/ng.$q">$q</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_autoresizeavatar">autoResizeAvatar(img, mimeType, maxWidth, maxHeight)</h3>
<div class="autoresizeavatar"><div class="-autoresizeavatar-page"><p>Resize image by reducing width/height by half until target dimensions are met.
If the max dimensions square, e.g. 60x60, and the input image is not, the resulting
image is resized to the max width / height and vertically / horizontally centered inside a 60x60 canvas,
resulting in a letter-box effect.</p>
</div><h5 id="methods_autoresizeavatar_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>img</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-autoresizeavatar-page"><p>Image to resize.</p>
</div></td></tr><tr><td>mimeType</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-autoresizeavatar-page"><p>type of image file</p>
</div></td></tr><tr><td>maxWidth</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-autoresizeavatar-page"><p>target with of image resize.</p>
</div></td></tr><tr><td>maxHeight</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-autoresizeavatar-page"><p>target height of image resize.</p>
</div></td></tr></tbody></table><h5 id="methods_autoresizeavatar_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-autoresizeavatar-page"><p>Promise that resolves to a data url.</p>
</div></td></tr></table><h4 id="methods_autoresizeavatar_example">Example</h4>
<div class="example"><div class="-autoresizeavatar-page"><pre class="prettyprint linenums">
imageResize.autoResize(img, 'image/jpeg', 60, 60)
.then(function(resizedImg) {
//do stuff with resizedImg
});
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_createfilefromdataurl">createFileFromDataURL(url, fileName)</h3>
<div class="createfilefromdataurl"><div class="-createfilefromdataurl-page"><p>Creates a File object from a data url.</p>
</div><h5 id="methods_createfilefromdataurl_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>url</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-createfilefromdataurl-page"><p>base64 encoded string as url</p>
</div></td></tr><tr><td>fileName</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-createfilefromdataurl-page"><p>name of file</p>
</div></td></tr></tbody></table><h5 id="methods_createfilefromdataurl_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-createfilefromdataurl-page"><p>File object containing an image.</p>
</div></td></tr></table><h4 id="methods_createfilefromdataurl_example">Example</h4>
<div class="example"><div class="-createfilefromdataurl-page"><pre class="prettyprint linenums">
var file = imageResize.createFileFromDataURL(dataUrl);
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods_readfiletoimg">readFileToImg(file)</h3>
<div class="readfiletoimg"><div class="-readfiletoimg-page"><p>Creates an Image from a File Object</p>
</div><h5 id="methods_readfiletoimg_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>file</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-readfiletoimg-page"><p>File Object</p>
</div></td></tr></tbody></table><h5 id="methods_readfiletoimg_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-readfiletoimg-page"><p>Promise that resolves to an Image</p>
</div></td></tr></table><h4 id="methods_readfiletoimg_example">Example</h4>
<div class="example"><div class="-readfiletoimg-page"><pre class="prettyprint linenums">
imageResize.readFileToImg(file).then(function(file) {
		//do stuff with file
}));
</pre>
</div></div>
</div>
</li>
<li><h3 id="methods__calculatenewdimensions">_calculateNewDimensions(srcWidth, srcHeight, maxWidth, maxHeight)</h3>
<div class="_calculatenewdimensions"><div class="-calculatenewdimensions-page"><p>Calculates the dimensions of a rectangle (for an image while maintaining the original aspect ratio.</p>
</div><h5 id="methods__calculatenewdimensions_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>srcWidth</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-calculatenewdimensions-page"><p>Input width of rectangle.</p>
</div></td></tr><tr><td>srcHeight</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-calculatenewdimensions-page"><p>Input height of rectangle.</p>
</div></td></tr><tr><td>maxWidth</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-calculatenewdimensions-page"><p>Target width of rectangle.</p>
</div></td></tr><tr><td>maxHeight</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-calculatenewdimensions-page"><p>Target height of rectangle.</p>
</div></td></tr></tbody></table><h5 id="methods__calculatenewdimensions_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-calculatenewdimensions-page"><p>Object with width and height properties as integers.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods__dataurltoblob">_dataURLToBlob(dataURL)</h3>
<div class="_dataurltoblob"><div class="-dataurltoblob-page"><p>Converts data url to Blob object which can be used as data for a File object
Taken from <a href="https://github.com/ebidel/filer.js/blob/master/src/filer.js#L137">https://github.com/ebidel/filer.js/blob/master/src/filer.js#L137</a></p>
</div><h5 id="methods__dataurltoblob_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>dataURL</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-dataurltoblob-page"><p>base64 encoded string containing image</p>
</div></td></tr></tbody></table><h5 id="methods__dataurltoblob_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-dataurltoblob-page"><p>Blob Object</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods__getcontext">_getContext(canvas)</h3>
<div class="_getcontext"><div class="-getcontext-page"><p>Method to get the Context from an HTML5 canvas element and set anti-aliasing properties</p>
</div><h5 id="methods__getcontext_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>canvas</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-getcontext-page"><p>HTML5 Canvas Element</p>
</div></td></tr></tbody></table><h5 id="methods__getcontext_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-getcontext-page"><p>HTML5 Canvas Context object.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods__resizeimgwithcanvas">_resizeImgWithCanvas(c, w, h, cW, cH, dx, dy)</h3>
<div class="_resizeimgwithcanvas"><div class="-resizeimgwithcanvas-page"><p>Resize an image rendered in an HTML5 canvas element to given dimensions</p>
</div><h5 id="methods__resizeimgwithcanvas_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>c</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-resizeimgwithcanvas-page"><p>HTML5 Canvas Element</p>
</div></td></tr><tr><td>w</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-resizeimgwithcanvas-page"><p>Target width to resize image to.</p>
</div></td></tr><tr><td>h</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-resizeimgwithcanvas-page"><p>Target height to resize image to.</p>
</div></td></tr><tr><td>cW</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-resizeimgwithcanvas-page"><p>Optional param, Target width of canvas, defaults to image width.</p>
</div> <p><em>(default: w)</em></p></td></tr><tr><td>cH</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-resizeimgwithcanvas-page"><p>Optional param, Target height of canvas, defaults to image height.</p>
</div> <p><em>(default: h)</em></p></td></tr><tr><td>dx</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-resizeimgwithcanvas-page"><p>Optional param, Amount to horizontally offset the image inside the canvas element, defaults to 0.</p>
</div> <p><em>(default: 0)</em></p></td></tr><tr><td>dy</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-resizeimgwithcanvas-page"><p>Optional param, Amount to vertically offset the image inside the canvas element, defaults to 0.</p>
</div> <p><em>(default: 0)</em></p></td></tr></tbody></table><h5 id="methods__resizeimgwithcanvas_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-resizeimgwithcanvas-page"><p>HTML5 canvas element.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods__setcanvaswh">_setCanvasWH(canvas, width, height)</h3>
<div class="_setcanvaswh"><div class="-setcanvaswh-page"><p>sets the width and height on a given canvas.</p>
</div><h5 id="methods__setcanvaswh_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>canvas</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-setcanvaswh-page"><p>HTML5 Canvas Element</p>
</div></td></tr><tr><td>width</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-setcanvaswh-page"><p>Width to set.</p>
</div></td></tr><tr><td>height</td><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="-setcanvaswh-page"><p>Height to set.</p>
</div></td></tr></tbody></table><h5 id="methods__setcanvaswh_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-void">Void</a></td><td><div class="-setcanvaswh-page"><p>returns undefined.</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
