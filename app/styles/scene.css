/* ------------------------------------------- */

.pane {
	position: relative;
}
.fill,
.fill .item,
.fgLayer .item.contain,
.fgLayer .item.cover,
.fgLayer .item.fill {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
}
.fgLayer,
.bgLayer {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	/*	overflow-y: scroll;
	-webkit-overflow-scrolling: touch;*/
}
.windowFg.fgLayer,
.windowBg.bgLayer {
	position: fixed;
}
.windowFg.fgLayer {
	background-color: rgba(0, 0, 0, 0.5);
}
.windowFg.fgLayer .content {
	margin: 4em;
	background-color: #FFF;
	box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);
}
.videoContainer {
	overflow: hidden;
	/*overflow-y: hidden;*/
}
.content {
	position: relative;
}
.content:after {
	clear: both;
	content: "";
	display: block;
}
.bgLayer {
	opacity: 0.25;
}
.sceneTitle {
	margin-left: 0.5em;
}
/* ------------------------------------------- */
/* Sidebars and margins.

.sidebar items float to one margin or the other when sidebars are allowed
.burst items burst into those margins when sidebars are allowed
.sidebar items always appear smaller than usual

TODO give panes with both sidebars narrower margins than those with only one or the other
TODO there's probably a less counterintuitive way of handling sidebar widths than the weird math on these negative margins
*/

.allowSidebars.hasLeftSidebar {
	padding-left: 30%;
}
.allowSidebars.hasRightSidebar {
	padding-right: 30%;
}
.hasLeftSidebar .item.sidebarL,
.hasRightSidebar .item.sidebarR {
	font-size: smaller;
	padding-left: 5px;
}
.hasLeftSidebar .sidebarL .displayTime,
.hasRightSidebar .sidebarR .displayTime {
	display: none
}
/* has only one sidebar: */

.allowSidebars.hasLeftSidebar .burstL,
.allowSidebars.hasLeftSidebar .burst {
	clear: left;
	margin-left: -43%;
}
.allowSidebars.hasRightSidebar .burstR,
.allowSidebars.hasRightSidebar .burst {
	clear: right;
	margin-right: -43%;
}
/* - */

.allowSidebars.hasLeftSidebar .sidebarL {
	float: left;
	clear: left;
	margin-left: -43%;
	width: 43%;
}
.allowSidebars.hasRightSidebar .sidebarR {
	float: right;
	clear: right;
	margin-right: -43%;
	width: 43%;
}
/* - has both sidebars: */

.allowSidebars.hasLeftSidebar.hasRightSidebar .burstL,
.allowSidebars.hasLeftSidebar.hasRightSidebar .burst {
	clear: left;
	margin-left: -75%;
}
.allowSidebars.hasRightSidebar.hasLeftSidebar .burstR,
.allowSidebars.hasRightSidebar.hasLeftSidebar .burst {
	clear: right;
	margin-right: -75%;
}
/* - */

.allowSidebars.hasLeftSidebar.hasRightSidebar .sidebarL {
	float: left;
	clear: left;
	margin-left: -70%;
	width: 70%;
}
.allowSidebars.hasLeftSidebar.hasRightSidebar .sidebarR {
	float: right;
	clear: right;
	margin-right: -70% !important;
	width: 70% !important;
}
/* ------------------------------------------- */

.watchMode {
	position: fixed;
	background-color: #000;
	top: 45px;
	/* VIEWPORT HEIGHT */
	
	bottom: 0;
	left: 0;
	right: 0;
	text-align: center;
}
#watchModeVideoMagnet {
	margin: auto;
}
.watchModeCaptions {
	position: fixed;
	bottom: 20px;
	font-size: 120%;
	margin: 0 10%;
	width: 80%;
	transition: all 1.5s;
}
.watchModeCaptions.padForBottomToolbar {
	bottom: 80px;
}
/* TODO this is a bit of a hack.  Need to restrict ng-animate to .animate class items */

.watchModeCaption.ng-enter,
.watchModeCaption.ng-leave {
	transition: none;
	display: none !important;
}
.watchModeCaption {
	color: #DDDDDD;
	background-color: rgba(0, 0, 0, 0.7);
	border-radius: 8px;
	padding: 0.5em 1em;
	text-align: left;
}
.watchModeCaption .startTime {
	display: none;
}
@media screen and (min-width: 401px) and (max-width: 700px) {
	.watchModeCaption {
		font-size: 90% !important;
	}
}
@media screen and (max-width: 400px) {
	.watchModeCaption {
		font-size: 70% !important;
	}
}
/* ------------------------------------------- */

.reviewMode .videoMagnet {
	position: fixed;
	top: 45px;
	right: 0;
	width: 30%;
}
.reviewMode .videoPadding {
	/* double the width of videoMagnet, because it's in a column half the size */
	
	width: 60%;
}
.reviewMode .scene {
	clear: both;
	display: flex;
	/* causes columns to stretch to full scene height */
}
.reviewMode .scene.navigable {
	border-top: 1px solid rgba(0, 0, 0, 0.2)
}
.reviewMode .mainPane {
	width: 50%;
	float: left;
}
.reviewMode .altPane {
	width: 50%;
	float: right;
}
.reviewMode .item .pullquote {
	font-size: 1.4em
}
.reviewMode h1 {
	font-size: 1.5em;
}
.reviewMode h2 {
	font-size: 1.3em;
}
.reviewMode h3 {
	font-size: 1em;
}
@media screen and (min-width: 1000px) {
	/* three-col layout on wide screens */
	
	.reviewMode .videoPadding {
		display: none;
	}
	.reviewMode .mainPane {
		width: 40%;
	}
	.reviewMode .altPane {
		width: 60%;
		padding-right: 240px;
	}
	.reviewMode .videoMagnet {
		width: 240px;
	}
}
@media screen and (max-width: 480px) {
	/* Smallscreen layout */
	
	.reviewMode .scene {
		display: auto;
	}
	.reviewMode .pane {
		width: 100%;
	}
	/*	
	.reviewMode .mainPane {
		width:100%;
	}*/
	
	.reviewMode .videoMagnet {
		width: 130px;
	}
}
/* -------------------------------------------  
   Landing screen 
*/

.landingscreen {
	margin: 10% 15%;
}
.landingscreen .videoMagnet {
	width: 50%;
	float: left;
}
.landingscreen .introtext {
	width: 45%;
	float: right;
}
.landingscreen p {
	margin: 2em 0 1em 0
}
@media screen and (max-width: 501px) {
	.landingscreen .videoMagnet {
		width: 100%;
		float: none;
	}
	.landingscreen .introtext {
		width: 100%;
		float: none;
	}
	.landingscreen h1 {
		font-size: 24px;
	}
	.landingscreen p {
		margin: 1em 0;
	}
}
.endingscreen {
	margin: 5% 10%;
}
.endingscreen .videoMagnet {
	margin: 0 30%;
}
.crossEpisodeNav {
	list-style: none;
	margin-left: 1em;
	font-size: 0.95em;
}
/* ------------------------------------------- */

.scene.cornerV {
	display: flex;
}
.scene.cornerV .col {
	width: 50%;
}
.scene.cornerV.videoLeft {
	flex-direction: row;
}
.scene.cornerV.videoRight {
	flex-direction: row-reverse;
}
/* ------------------------------------------- */

.scene.cornerH {} .scene.cornerH .row {
	display: flex;
}
.scene.cornerH .videoMagnet,
.scene.cornerH .mainPane {
	width: 50%;
}
.scene.cornerH .mainPane {
	overflow-y: scroll;
	-webkit-overflow-scrolling: touch;
	overflow-x: hidden;
}
.scene.cornerH .altPane {
	width: 100%;
}
.scene.cornerH.videoLeft .row {
	flex-direction: row;
}
.scene.cornerH.videoRight .row {
	flex-direction: row-reverse;
}
/* ------------------------------------------- */

.scene.twocol {
	display: flex;
}
.scene.twocol .videoPositioner {
	width: 100%;
	position: absolute;
}
.scene.twocol .videoMagnet {
	width: 50%;
	margin: 0 25%;
}
.scene.twocol .col {
	width: 50%;
}
.scene.twocol.videoLeft .videoMagnet {
	margin: 0 50% 0 0;
}
.scene.twocol.videoLeft .col2 .matchVideoHeight {
	display: none;
}
.scene.twocol.videoRight .videoMagnet {
	margin: 0 0 0 50%;
}
.scene.twocol.videoRight .col1 .matchVideoHeight {
	display: none;
}
/* ------------------------------------------- 
		1col scene
*/

.scene.onecol .col,
.scene.onecol .videoMagnet {
	margin: 0 20%;
	width: 60%;
}
.scene.onecol.videoRight .videoMagnet {
	margin-right: 0;
	width: 80%;
}
.scene.onecol.videoLeft .videoMagnet {
	margin-left: 0;
	width: 80%;
}
@media screen and (min-width: 1000px) and (min-height: 700px) {
	.scene.onecol .col,
	.scene.onecol .videoMagnet {
		margin: 0 25%;
	}
	.scene.onecol .videoPositioner {
		width: 100%;
	}
	.scene.onecol.videoRight .videoMagnet {
		margin-top: 5%;
		margin-right: 0;
		right: 0;
		left: 55%;
	}
	.scene.onecol.videoRight .col {
		margin: 0 50% 0 5%;
	}
	.scene.onecol.videoLeft .videoMagnet {
		margin-top: 5%;
		margin-left: 0;
		left: 0;
		right: 55%;
	}
	.scene.onecol.videoLeft .col {
		margin: 0 5% 0 50%;
	}
}
/* ------------------------------------------- */

.scene.centered .col {
	margin: 10% 20% 0 20%;
}
@media screen and (min-width: 900px) {
	.scene.centered .col {
		margin: 7% 25% 0 25%;
	}
}
/* ------------------------------------------- */

.scene.pip .mainPane {
	position: fixed;
	bottom: 30px;
	right: 30px;
	width: 60%;
	z-index: 3;
}
.scene.pip .altPane {
	padding-bottom: 300px;
}
.scene.pip .altPane .item {
	text-align: center;
}
.scene.pip .videoMagnet {
	width: 30%;
	position: fixed;
	bottom: 30px;
	left: 30px;
}
.scene.pip .padForBottomToolbar .videoMagnet,
.scene.pip .padForBottomToolbar .mainPane {
	bottom: 80px
}
.scene.pip.videoRight .videoMagnet {
	left: auto;
	right: 30px;
}
.scene.pip.videoRight .mainPane {
	right: auto;
	left: 30px;
}
