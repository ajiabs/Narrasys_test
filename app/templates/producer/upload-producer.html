<!-- producer item assets-->

<div ng-if="showAssetPicker" class="floatAssetPicker">
	<div class="scrollContainer">
		<div sxs-container-assets="episodeContainerId"></div>
	</div>
	<div class="controlsContainer">
		<button ng-click="endChooseAsset();">Cancel</button>
	</div>
</div>

<div>
	<!--ng-model as element here so we can attach itt-valid-image, which requires ng-model-->
	<ng-model ng-model="item.asset" name="itemAsset" itt-valid-asset item="item"></ng-model>
	<div ng-if="item.asset && !showUploadButtons">
		{{item.asset.display_name}}
		<button class="button" ng-click="replaceAsset()">Replace</button>
		<button class="button" ng-click="detachAsset(); selectService.onSelectChange(item, itemForm)">Remove</button>
	</div>
	<div ng-if="showUploadButtons || !item.asset">
		<span ng-if="showUploadField">

			<div ng-if="isAdmin"
				 itt-asset-uploader="episodeContainerId"
				 callback="assetUploaded">
			</div>

			<div ng-if="!isAdmin"
				 itt-asset-uploader="episodeContainerId"
				 callback="assetUploaded"
				 mime-types="image/*"
				 instructions="We currently accept all image files."
				 error-text="Please verify that the file you are trying to upload is an image.">
			</div>
		</span>
		<span ng-if="!showUploadField">
			<button class="button" ng-click="chooseAsset()">Browse uploaded</button>
			<button class="button" ng-click="toggleUpload()">Upload new</button>
		</span>
	</div>
</div>
