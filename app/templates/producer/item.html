<div class="itemEdit authoringForm">
	<form name="ittItemForm" class="doValidate">
		<div ng-if="appState.product == 'sxs'" class="authoringFormScrollContainer">
			<!-- begin sxs -->
			<itt-time-field></itt-time-field>
			<div ng-include="itemEditor"></div>
			<!-- end sxs -->
		</div>

		<!--i plan to tidy this up after it's fully implemented but the basic layout is as follows:
        each tab contains an ng-switch set to switch on item.producerItemType.
        <div itt-tabs>
            <div itt-tab>
                <div ng-switch on="item.producerItemType"></div>
            /div>
            <div itt-tab>
                <div ng-switch on="item.producerItemType"></div>
            </div>
            <div itt-tab>
                <div ng-switch on="item.producerItemType"></div>
            </div>
        </div>
        -->
		<div ng-if="appState.product == 'producer'">
			<div itt-tabs class="ittTabs">
				<!--ITEM/SCENE TAB BEGIN-->
				<div itt-tab class="ittTab"
					 ng-if="selectService.showTab(item.producerItemType, 'Item')"
					 title="{{item.producerItemType | capitalize}}">
					<!--current lang select-->
					<label ng-if="languages.length > 1" style="float:right; padding-right: 24px" for="itemLangSelect">Current Language
                        <select
                            id="itemLangSelect"
                            size="1"
                            ng-model="appState.lang"
                            ng-change="forcePreview()"
                            ng-options="language.code as ('['+language.code.toUpperCase()+']') for language in languages">
                        </select>
					</label>

					<div ng-switch on="item.producerItemType">
						<div ng-switch-when="link">
							<!--Time, Title, URL, Description, Template, Image, Flags-->
							<!--these are impure component directives that depend inherited scope from item-->
							<itt-time-field></itt-time-field>
							<itt-title-field do-validate="true" data="item" itt-item-form="ittItemForm"></itt-title-field>
							<itt-url-field data="item" itt-item-form="ittItemForm"></itt-url-field>
							<itt-description-field data="item"></itt-description-field>
							<itt-template-select data="item" item-form="itemForm"></itt-template-select>
							<itt-image-field></itt-image-field>
							<itt-flags data="item"
									   item-form="itemForm"
									   flags="['required', 'stop', 'cosmetic']"></itt-flags>
						</div>
						<div ng-switch-when="transcript">
							<!--time, speaker, transcript-->
							<itt-time-field></itt-time-field>
							<itt-speaker-field></itt-speaker-field>
							<itt-transcript-field data="item" itt-item-form="ittItemForm"></itt-transcript-field>
							<itt-speaker-thumb-field></itt-speaker-thumb-field>
						</div>
						<div ng-switch-when="annotation">
							<!--Time, Annotation Text, Template, Speaker, Title, Flags-->
							<itt-time-field></itt-time-field>
							<itt-title-field data="item"></itt-title-field>
							<itt-annotation-field data="item" itt-item-form="ittItemForm"></itt-annotation-field>
							<itt-template-select data="item" item-form="itemForm"></itt-template-select>
							<itt-speaker-field></itt-speaker-field>
							<itt-flags data="item"
									   item-form="itemForm"
									   flags="['stop', 'cosmetic', 'chapter_marker', 'invertColor']"></itt-flags>
						</div>
						<!--scenes are layouts; hidden in this tab-->
						<!--<div ng-switch-when="scene">-->
						<!--</div>-->
						<div ng-switch-when="file">
							<!--Time, Title, File, Description, Template, Flags-->
							<itt-time-field></itt-time-field>
							<itt-title-field do-validate="true" data="item" itt-item-form="ittItemForm"></itt-title-field>
							<itt-file-field></itt-file-field>
							<!--<itt-template-select data="item"></itt-template-select>-->
							<itt-description-field data="item"></itt-description-field>
							<itt-flags data="item"
									   item-form="itemForm"
									   flags="['required', 'stop', 'cosmetic']"></itt-flags>
						</div>
						<div ng-switch-when="image">
							<!--Time, Title, Image, Description, Template, Display, Position, Orientation, Flags-->
							<itt-time-field></itt-time-field>
							<itt-title-field do-validate="true" data="item" itt-item-form="ittItemForm"></itt-title-field>
							<itt-image-field></itt-image-field>
							<itt-description-field data="item"></itt-description-field>
							<itt-template-select data="item" item-form="itemForm"></itt-template-select>
							<itt-display-select data="item" item-form="itemForm"></itt-display-select>
							<!--TODO reccommend moving orientation into layout tab-->
							<itt-flags data="item"
									   item-form="itemForm"
									   flags="['required', 'stop', 'cosmetic']"></itt-flags>
						</div>
						<div ng-switch-when="question">
							<!--Time, Question type, Title, Question Text, Image, Answers, Feedback when correct, Feedback when incorrect-->
							<span class="eventIcon icon-question"></span>
							<itt-time-field></itt-time-field>
							<!--investigate log error regarding undefined input for itt-title-->
							<itt-title-field do-validate="true" data="item" itt-item-form="ittItemForm"></itt-title-field>
							<itt-question-text-field data="item" do-validate="false" itt-item-form="ittItemForm"></itt-question-text-field>
							<itt-question-type-select data="item"></itt-question-type-select>
							<itt-image-field></itt-image-field>
							<itt-question-options></itt-question-options>
						</div>
						<div ng-switch-when="chapter">
							<!--Time, Title, Description-->
							<itt-time-field></itt-time-field>
							<itt-title-field do-validate="true" data="item" itt-item-form="ittItemForm"></itt-title-field>
							<itt-description-field data="item"></itt-description-field>
						</div>
						<div ng-switch-when="video">
							<h4>{{item.producerItemType}}</h4>
						</div>
						<div ng-switch-default>
							<h4>Default!</h4>
						</div>
					</div>
					<!--ITEM TAB END-->
				</div>

				<!--STYLE TAB BEGIN-->
				<div itt-tab class="ittTab"
					 ng-if="selectService.showTab(item.producerItemType, 'Style')"
					 title="{{item.producerItemType === 'scene' ? 'Layout' : 'Style'}}">
					<div ng-switch on="item.producerItemType">
						<!--hidden across the board-->
						<div ng-switch-when="link">
							<itt-display-select></itt-display-select>
						</div>
						<!--hidden accross the board-->
						<div ng-switch-when="transcript">
							<!--Template, Speaker Thumb, timestamp, highlight-->
							<itt-template-select data="item" item-form="itemForm"></itt-template-select>

						</div>
						<div ng-switch-when="annotation">
							<!--Display-->
							<itt-display-select></itt-display-select>
						</div>
						<div ng-switch-when="scene">
							<!--time, template, position, display-->
							<itt-time-field></itt-time-field>
							<itt-template-select data="item" item-form="itemForm"></itt-template-select>
							<itt-video-position-select data="item"></itt-video-position-select>
							<itt-display-select data="item"></itt-display-select>
						</div>
						<!--file hidden in style tab-->
						<!--<div ng-switch-when="file">-->
						<!--</div>-->
						<!--image style tab hidden for all roles-->
						<!--<div ng-switch-when="image">-->
						<!--</div>-->
						<div ng-switch-when="question">
							<!--Template, Display, Flags-->
							<itt-template-select data="item" item-form="itemForm"></itt-template-select>
							<itt-display-select data="item" item-form="itemForm"></itt-display-select>
							<itt-flags data="item"
									   item-form="itemForm"
									   flags="['required', 'stop', 'cosmetic']"></itt-flags>
						</div>
						<div ng-switch-when="chapter">
							<h4>{{item.producerItemType}}</h4>
						</div>
						<div ng-switch-when="video">
							<h4>{{item.producerItemType}}</h4>
						</div>
						<div ng-switch-default>
							<h4>Default!</h4>
						</div>
					</div>
					<!--STYLE TAB END-->
				</div>

				<!--CUSTOMIZE TAB BEGIN-->
				<div itt-tab class="ittTab"
					 ng-if="selectService.showTab(item.producerItemType, 'Customize')"
					 title="Customize">
					<div ng-switch on="item.producerItemType">
						<div ng-switch-when="link">
							<!--Typography	Color	Timestamp	Highlight	Transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="transcript">
							<!--Typography,	Color,	Timestamp,	Highlight,	Transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="annotation">
							<!--Typography, Color, Timestamp, Highlight, Transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="scene">
							<!--typography, color, timestamp, highlight, transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="file">
							<!--Typography, Color, Timestamp, Highlight, Transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="image">
							<!--Typography, Color, Timestamp, Highlight, Transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="question">
							<!--Typography	Color	Timestamp	Highlight	Transition-->
							<itt-typography-select></itt-typography-select>
							<itt-color-select></itt-color-select>
							<itt-timestamp-select></itt-timestamp-select>
							<itt-highlight-select></itt-highlight-select>
							<itt-transition-select></itt-transition-select>
						</div>
						<div ng-switch-when="chapter">
							<h4>{{item.producerItemType}}</h4>
						</div>
						<div ng-switch-when="video">
							<h4>{{item.producerItemType}}</h4>
						</div>
						<div ng-switch-default>
							<h4>Default!</h4>
						</div>
					</div>
					<!--CUSTOMIZE TAB END-->
				</div>
			</div>
		</div>
		<div class="ittTabFoot">
			<a ng-click="cancelEdit()">Cancel</a> &nbsp; &nbsp;
			<button ng-if="
			item._id != 'internal:editing' &&
			!(item._type == 'Scene' && item.start_time <= 0.01)
		" ng-click="deleteEvent(item._id)">Delete
			</button>
			<button ng-click="saveEvent()" ng-disabled="blockDoubleClicks || ittItemForm.$invalid">Save</button>
		</div>
	</form>

</div>
