<div class="itemEdit authoringForm">


	<div ng-if="appState.product == 'sxs'" class="authoringFormScrollContainer">
		<!-- begin sxs -->

		<div class="field">
			<div class="label">Time
			</div>
			<div class="input">
				<a ng-class="{invisible: appState.time == 0}" class="button-prev" ng-click="prevScene()">
					<span class="control-text">Beginning of scene</span>
				</a>
				<input type="text" ng-model="item.start_time" sxs-input-time style="max-width:100px" ng-model-options="{ updateOn: 'blur' }" ng-change="setItemTime()">
			</div>
		</div>
		<div ng-include="itemEditor"></div>
		<!-- end sxs -->
	</div>


	<div ng-if="appState.product == 'producer'">
		<!-- begin producer -->
		<div class="ittTabs" itt-tabs>
			<select style="float:right; padding-right: 24px" ng-if="languages.length > 1" size="1" ng-model="appState.lang" ng-change="forcePreview()" ng-options="language.code as ('['+language.code.toUpperCase()+']') for language in languages">
			</select>
			<!-- begin tabset -->

			<div class="ittTab" itt-tab="tabs[0]" x-tabindex="0" x-tablabel="Layout">

				<div form-field="Time">
					<!-- TODO call setItemTime and setItemEndTime or equivalent on these: -->
					<span sxs-input-time="item" x-input-field="start_time"></span>
					<span ng-if="!(item.stop || item._type === 'Scene')">
						<span class="label"> &nbsp; &nbsp; &nbsp; End</span>
						<span sxs-input-time="item" x-input-field="end_time"></span>
					</span>
					<br>
					<input type="checkbox" ng-model="item.stop">Pause playback when this enters
				</div>

				<div form-field="Template">
					<select ng-model="item.tmpl.template">
						<option value="default">Default</option>
						<option value="debug">DEBUG</option>
					</select>
				</div>


				<div form-field="Layout">
					<select ng-model="item.tmpl.layout">
						<option value="">As content</option>
						<option value="overlay">As overlay</option>
					</select>
				</div>

				<div ng-if="item.tmpl.layout === 'overlay'">

					<div form-field="Border/Background">
						<select ng-model="item.tmpl.wrapper">
							<option value="default">Default</option>
							<option value="bleed">Edge to edge</option>
							<option value="box">Box</option>
							<option value="inset">Inset</option>
							<option value="coloredborder">Colored Border</option>
						</select>
					</div>

					<div form-field="Position">
						<itt-position-overlay style="float:left;width:50%;" ng-model="item.tmpl.position"></itt-position-overlay>
						TODO pane selection TODO size settings TODO opacity
					</div>

				</div>
				<div ng-if="item.tmpl.layout !== 'overlay'">
					<div form-field="Border/Background">
						<select ng-model="item.tmpl.wrapper">
							<option value="default">Default</option>
							<option value="box">Box</option>
							<option value="inset">Inset</option>
							<option value="coloredborder">Colored Border</option>
						</select>
					</div>

					<div form-field="Position">
						<itt-position-content ng-model="item.tmpl.position"></itt-position-content>
					</div>
				</div>


			</div>
			<div class="ittTab" itt-tab="tabs[1]" x-tabindex="1" x-tablabel="{{item._type === 'Scene' ? 'Scene' : 'Item'}}">

				<div ng-include="itemEditor"></div>

			</div>
			<div class="ittTab" itt-tab="tabs[2]" x-tabindex="2" x-tablabel="Style">
				TODO:
				<br> presets

				<br> transitions
				<br> highlights

				<div form-field="Timestamp">
					<select ng-model="item.tmpl.timestamp">
						<option value="">Default</option>
						<option value="none">No timestamp</option>
						<option value="rounded">Rounded</option>
						<option value="roundedwhite">Rounded White</option>
						<option value="corner">Corner</option>
					</select>
				</div>


				<div form-field="Colors">
					<div itt-item-color-form="item"></div>
				</div>
				<div form-field="Font face">
					<select size="1" ng-model="item.tmpl.style.font1">
						<option value="">Default</option>
						<optgroup label="Sans Serif">
							<option value="droidsans">Droid Sans</option>
							<option value="helvetica">Helvetica</option>
							<option value="impact">Impact</option>
							<option value="lato">Lato</option>
							<option value="latothin">Lato Extra Light</option>
							<option value="myriad">Myriad</option>
							<option value="opensans">Open Sans</option>
							<option value="ptsans">PT Sans</option>
							<option value="roboto">Roboto</option>
							<option value="trebuchet">Trebuchet MS</option>
							<option value="verdana">Verdana</option>
						</optgroup>
						<optgroup label="Serif">
							<option value="arvo">Arvo</option>
							<option value="cardo">Cardo</option>
							<option value="droidserif">Droid Serif</option>
							<option value="garamond">Garamond</option>
							<option value="gentium">Gentium</option>
							<option value="merriweather">Merriweather</option>
							<option value="oldstandard">Old Standard</option>
							<option value="playfair">Playfair Display</option>
							<option value="ptserif">PT Serif</option>
							<option value="trajan">Trajan</option>
							<option value="vollkorn">Vollkorn</option>
						</optgroup>
						<optgroup label="Italic">
							<option value="droidital">Droid Italic</option>
							<option value="latoital">Lato Italic</option>
							<option value="merriweatherital">Merriweather Italic</option>
							<option value="ptsansital">PT Sans Italic</option>
							<option value="ptserifital">PT Serif Italic</option>
							<option value="vollkornital">Vollkorn Italic</option>
						</optgroup>
					</select>
				</div>

				<div form-field="Secondary font">
					<select size="1" ng-model="item.tmpl.style.font2">
						<option value="">Default</option>
						<optgroup label="Sans Serif">
							<option value="droidsans">Droid Sans</option>
							<option value="helvetica">Helvetica</option>
							<option value="impact">Impact</option>
							<option value="lato">Lato</option>
							<option value="latothin">Lato Extra Light</option>
							<option value="myriad">Myriad</option>
							<option value="opensans">Open Sans</option>
							<option value="ptsans">PT Sans</option>
							<option value="roboto">Roboto</option>
							<option value="trebuchet">Trebuchet MS</option>
							<option value="verdana">Verdana</option>
						</optgroup>
						<optgroup label="Serif">
							<option value="arvo">Arvo</option>
							<option value="cardo">Cardo</option>
							<option value="droidserif">Droid Serif</option>
							<option value="garamond">Garamond</option>
							<option value="gentium">Gentium</option>
							<option value="merriweather">Merriweather</option>
							<option value="oldstandard">Old Standard</option>
							<option value="playfair">Playfair Display</option>
							<option value="ptserif">PT Serif</option>
							<option value="trajan">Trajan</option>
							<option value="vollkorn">Vollkorn</option>
						</optgroup>
						<optgroup label="Italic">
							<option value="droidital">Droid Italic</option>
							<option value="latoital">Lato Italic</option>
							<option value="merriweatherital">Merriweather Italic</option>
							<option value="ptsansital">PT Sans Italic</option>
							<option value="ptserifital">PT Serif Italic</option>
							<option value="vollkornital">Vollkorn Italic</option>
						</optgroup>
					</select>
				</div>


				<div form-field="Text size">
					<input style="width: 79%" type="range" min="75" max="150" ng-model="item.tmpl.style.fontsize" />

					<button ng-if="item.tmpl.style.fontsize && item.tmpl.style.fontsize !== 100" style="width: 20%" ng-click="item.tmpl.style.fontsize=100" class="fa fa-lg fa-ban borderless"></button>

					<div style="margin-top: -0.3em" ng-if="item.tmpl.style.fontsize">
						<input style="border: none; box-shadow: none !important; text-align:right; font-size: small; width: 3em" ng-model="item.tmpl.style.fontsize">%
					</div>
				</div>
			</div>
			<!-- end of tabset -->
		</div>

		<!-- end producer -->
	</div>


	<div class="ittTabFoot">

		<a ng-click="cancelEdit()">Cancel</a> &nbsp; &nbsp;
		<button ng-if="item._id != 'internal:editing'" ng-click="deleteEvent(item._id)">Delete</button>
		<button ng-click="saveEvent()">Save</button>
	</div>
	<br>
	<br>
</div>
