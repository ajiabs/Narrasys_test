<div class="itemEdit authoringForm">
		<div ng-if="appState.product == 'sxs'" class="authoringFormScrollContainer">
			<!-- begin sxs -->

			<div class="field">
				<div class="label">Time
				</div>
				<div class="input">
					<span sxs-input-time="item" x-input-field="start_time"></span>
				</div>
			</div>
			<div ng-include="itemEditor"></div>
			<!-- end sxs -->
		</div>

		<div ng-if="appState.product == 'producer'">
			<!-- begin producer -->
			<div class="ittTabs" itt-tabs>
				<select style="float:right; padding-right: 24px" ng-if="languages.length > 1" size="1" ng-model="appState.lang" ng-change="forcePreview()" ng-options="language.code as ('['+language.code.toUpperCase()+']') for language in languages">
				</select>
				<!-- begin tabset -->
				<div class="ittTab" itt-tab ng-if="selectService.showTab(item.producerItemType, 'Item')" title="{{item._type === 'Scene' ? 'Layout' : 'Item'}}">
					<!-- begin data tab -->
					<div class="authoringFormScrollContainer">
						<div class="field" ng-if="!(item._type==='Scene' && item.start_time <= 0.1)">
							<div class="label">Time
							</div>
							<div class="input">
								<!-- TODO call setItemTime and setItemEndTime or equivalent on these: -->
								<span sxs-input-time="item" x-input-field="start_time"></span>
								<span ng-if="!(item.stop || item._type === 'Scene' || item._type === 'Chapter')">
									<span class="label"> &nbsp; &nbsp; &nbsp; End</span>
									<span sxs-input-time="item" x-input-field="end_time"></span>
								</span>

							</div>
						</div>
						<div ng-include="itemEditor"></div>
						<div ng-if="item.producerItemType === 'link'">
							<div class="field">
								<div class="label">Template</div>
								<div class="input">
									<select ng-model="item.templateUrl"
											ng-change="selectService.onSelectChange(item)"
											ng-options="option.url as option.name for option in item.templateOpts">
									</select>
								</div>
							</div>
							<div class="field">
								<div class="label">Flags</div>
								<div class="input">
									<label>
										<input type="checkbox" ng-model="item.required">Required
									</label>
									<label>
										<input type="checkbox" ng-change="selectService.onSelectChange(item)" ng-model="item.stop">Stop item
									</label>
									<label>
										<input type="checkbox" ng-model="item.cosmetic">Cosmetic
									</label>
									<label ng-if="item.templateUrl === 'templates/item/text-h1.html'">
										<input type="checkbox" ng-model="item.chapter_marker">Chapter Event
									</label>
								</div>
							</div>
						</div>
					</div>
					<!-- end data tab -->
				</div>
				<div class="ittTab" itt-tab ng-if="selectService.showTab(item.producerItemType, 'Style')" title="Style">
					<!-- begin metadata  tab -->
					<div class="authoringFormScrollContainer">
						<div class="field" ng-if="!(item._type === 'Scene' && item.start_time <= 0.1) && item.producerItemType !== 'link'">
							<div class="label">Time
							</div>
							<div class="input">
								<!-- TODO call setItemTime and setItemEndTime or equivalent on these: -->
								<span sxs-input-time="item" x-input-field="start_time"></span>
								<span ng-if="!(item.stop || item._type === 'Scene')">
									<span class="label"> &nbsp; &nbsp; &nbsp; End</span>
									<span sxs-input-time="item" x-input-field="end_time"></span>
								</span>

							</div>
						</div>
						<div class="field" ng-if="item.producerItemType !== 'link'">
							<div ng-if="item.tipText && item.noEmbed" class="tooltip-static">
								<i class="fa fa-info-circle info-blue"></i>
								<p class="tooltip-text">{{item.tipText}}</p>
							</div>
							<div class="label">
								Template
							</div>
							<div class="input">
								<select ng-model="item.templateUrl"
										ng-change="selectService.onSelectChange(item)"
										ng-options="option.url as option.name for option in item.templateOpts">
								</select>
							</div>
						</div>
						<div class="field" ng-if="selectService.showVideoPosition()">
							<div class="label">Video Postion</div>
							<div class="input">
								<select ng-model="item.layouts[0]"
										ng-options="option.value as option.name for option in selectService.getVideoPositionOpts()">
								</select>
							</div>
						</div>
						<div class="field" ng-if="selectService.showDisplayDropdown()">
							<div class="label">Display</div>
							<div class="input">
								<span ng-if="item._type === 'Scene'">

									<select ng-model="item.layouts[1]">
										<option value="">Show all content items, highlight current ones</option>
										<option value="showCurrent">Show only current items</option>
									</select>

									<!-- TODO splitTransmedia/splitRequired. Are those actually useful? -->
								</span>
								<span ng-if="item._type !== 'Scene'">
									<span ng-if="item.templateUrl == 'templates/item/image-fill.html'">

										<select size="1" ng-model="item.layouts[0]">
											<option value="windowBg">Window background</option>
											<option value="mainBg">Main content pane background</option>
											<option value="altBg">Secondary content pane background</option>
											<option value="mainFg">Main content pane foreground</option>
											<option value="altFg">Secondary content pane foreground</option>
											<option value="videoOverlay">Video overlay</option>
										</select>
										<select size="1" ng-model="itemForm.position">
											<!-- TODO some of these are behaving oddly; naming them according to their actual behavior at the moment.  Will need to fix this -->
											<option value="">Fit</option>
											<!-- <option value="center">Center</option> -->
											<option value="cover">Cover</option>
											<option value="contain">Contain</option>
											<option value="fill">Fill and stretch</option>
										</select>
										<select size="1" ng-model="itemForm.pin" ng-if="itemForm.position != 'center' && itemForm.position != 'fill'">
											<option value="tl">Top left</option>
											<option value="tr">Top right</option>
											<option value="bl">Bottom left</option>
											<option value="br">Bottom right</option>
										</select>
									</span>
									<select ng-if="item.templateUrl != 'templates/item/image-fill.html'"
										ng-model="item.layouts[0]"
										ng-options="option.value as option.name for option in selectService.getLinkDisplayOpts()">
									</select>
								</span>
							</div>
						</div>
						<div class="field" ng-if="item.producerItemType != 'scene' && item.producerItemType !== 'link'">
							<div class="label">Flags</div>
							<div class="input">
								<label>
									<input type="checkbox" ng-model="item.required">Required
								</label>
								<label>
									<input type="checkbox" ng-change="selectService.onSelectChange(item)" ng-model="item.stop">Stop item
								</label>
								<label>
									<input type="checkbox" ng-model="item.cosmetic">Cosmetic
								</label>
								<label ng-if="item.templateUrl === 'templates/item/text-h1.html' || item.templateUrl === 'templates/item/text-h2.html'">
									<input type="checkbox" ng-model="item.chapter_marker">Chapter Event
								</label>
							</div>
						</div>
					</div>
					<!-- end metadata  tab -->
				</div>
				<div class="ittTab" itt-tab ng-if="selectService.showTab(item.producerItemType, 'Customize')" title="Customize">
					<!-- begin styles tab -->

					<div class="authoringFormScrollContainer">
						<div class="field">
							<div class="label">Typography</div>
							<div class="input">
								<select size="1" ng-model="itemForm.typography">
									<option value="">(Default)</option>
									<option value="Sans">Sans</option>
									<option value="Serif">Serif</option>
									<option value="Book">Book</option>
									<option value="Swiss">Swiss</option>
								</select>
							</div>
						</div>
						<div class="field">
							<div class="label">Color</div>
							<div class="input">
								<select size="1" ng-model="itemForm.color">
									<option value="">(Default)</option>
									<option value="Invert">Invert</option>
									<option value="Sepia">Sepia</option>
									<option value="Solarized">Solarized</option>
									<option value="Vivid">Vivid</option>
								</select>
							</div>
						</div>
						<div class="field">
							<div class="label">Timestamp</div>
							<div class="input">
								<select size="1" ng-model="itemForm.timestamp">
									<option value="">(Default)</option>
									<option value="None">No timestamp</option>
									<option value="Inline">Inline timestamp</option>
								</select>
							</div>
						</div>
						<div class="field">
							<div class="label">Highlight</div>
							<div class="input">
								<select size="1" ng-model="itemForm.highlight">
									<option value="">(Default)</option>

									<option value="Solid">Solid</option>
									<option value="Border">Border</option>
									<option value="Side">Side</option>
									<option value="Bloom">Bloom</option>
									<option value="Highlighter">Highlighter</option>
									<option value="Tilt">Tilt</option>

								</select>
							</div>
						</div>
						<div class="field">
							<div class="label">Transition</div>
							<div class="input">
								<select size="1" ng-model="itemForm.transition">
									<option value="">(Default)</option>
									<option value="None">No transition</option>
									<option value="Fade">Fade</option>
									<option value="SlideL">Slide left</option>
									<option value="SlideR">Slide right</option>
									<option value="ExpandW">Expand</option>
									<option value="Pop">Pop</option>
								</select>
							</div>
						</div>
					</div>
					<!-- end styles tab -->
				</div>
				<!-- end of tabset -->
			</div>

			<!-- end producer -->
		</div>
	<div class="ittTabFoot">

		<a ng-click="cancelEdit()">Cancel</a> &nbsp; &nbsp;
		<button ng-if="
			item._id != 'internal:editing' &&
			!(item._type == 'Scene' && item.start_time <= 0.01)
		" ng-click="deleteEvent(item._id)">Delete</button>
		<button ng-click="saveEvent()" ng-disabled="blockDoubleClicks || item.urlForm.$invalid">Save</button>
	</div>

</div>
