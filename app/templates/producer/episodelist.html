<div ng-controller="EpisodeListController" style="margin:1em">
	<div ng-if="loading" class="loading">
		<div class="spinner">
			<div class="rotating pie"></div>
			<div class="filler pie"></div>
			<div class="mask"></div>
		</div>
		Loading
	</div>

	<div ng-repeat="customer in containers">
		<h2 ng-click="customer.hidden = !customer.hidden" style="cursor: pointer; width:100%; background-color:#EEE">{{customer.name}}</h2>

		<div ng-if="!customer.hidden" ng-repeat="course in customer.children">
			<h3 style="cursor:pointer;" ng-click="course.visible=!course.visible">{{course.name}}</h3>

			<div ng-if="course.visible" style="margin-left:2em" ng-repeat="session in course.children">
				<h4>{{session.name}}</h4>
				<ul>
					<li ng-repeat="episodecontainer in session.children">

						[<a href="#episode/{{episodecontainer.episodes[0]}}">View</a>]
						<!-- [<a href="#producer/{{episodecontainer.episodes[0]}}">Edit</a>]  -->

						{{episodecontainer.name}}
						<small style="opacity:0.2">{{episodecontainer.episodes[0]}}
							<!-- <a ng-click="authenticate(episode._id)">OAuth</a> -->
						</small>

					</li>
				</ul>
			</div>
		</div>
	</div>
	<!-- 
	<div ng-repeat="episode in episodes">
		({{episode._id}}) {{episode.title}} -
		<a href="#episode/{{episode._id}}">Episode</a> -
		<a ng-click="authenticate(episode._id)">OAuth</a>
		<br>
	</div>
 -->

</div>

<div x-ng-controller="ErrorController" x-ng-include="'templates/error.html'"></div>
